/*! For license information please see main.3fbc12bd.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function q(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case S:return"Profiler";case C:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function B(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=B(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=B(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,xe=null,Ce=null;function Se(e){if(e=_i(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),we(e.stateNode,e.type,t))}}function Ee(e){xe?Ce?Ce.push(e):Ce=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Ce;if(Ce=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Pe(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ce)&&(Pe(),Ie())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Ae=!1}function Le(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,je=null,Fe=!1,Ue=null,ze={onError:function(e){Me=!0,je=e}};function qe(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(ze,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(a(188))}function Be(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,xt,Ct,St,Et=!1,It=[],Tt=null,Pt=null,Nt=null,Rt=new Map,Ot=new Map,At=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){Et=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Nt&&Ft(Nt)&&(Nt=null),Rt.forEach(Ut),Ot.forEach(Ut)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Wt(e){function t(t){return qt(t,e)}if(0<It.length){qt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&qt(Tt,e),null!==Pt&&qt(Pt,e),null!==Nt&&qt(Nt,e),Rt.forEach(t),Ot.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)jt(n),null===n.blockedOn&&At.shift()}var Vt=k.ReactCurrentBatchConfig,Ht=!0;function Bt(e,t,n,r){var i=_t,a=Vt.transition;Vt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,Vt.transition=a}}function Kt(e,t,n,r){var i=_t,a=Vt.transition;Vt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,Vt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Pt=Mt(Pt,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&bt(a),null===(a=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=be(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),dn=j({},ln,{view:0,detail:0}),hn=an(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),vn=an(j({},fn,{dataTransfer:0})),mn=an(j({},dn,{relatedTarget:0})),yn=an(j({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(gn),kn=an(j({},ln,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return Cn}var En=j({},dn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(En),Tn=an(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(j({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Rn),An=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,jn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Bn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function $n(e){if(G(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Bn(t,Gn,e,be(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,_r=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},xr={},Cr={};function Sr(e){if(xr[e])return xr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return xr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Er=Sr("animationend"),Ir=Sr("animationiteration"),Tr=Sr("animationstart"),Pr=Sr("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),u(t,[e])}for(var Ar=0;Ar<Rr.length;Ar++){var Dr=Rr[Ar];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Ir,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Pr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(qe.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=je;Me=!1,je=null,Fe||(Fe=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[qr]){e[qr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,zr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Yt(t)){case 1:var i=Bt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=be(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Er:case Ir:case Tr:u=yn;break;case Pr:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var v=(f=p).stateNode;if(5===f.tag&&null!==v&&(f=v,null!==h&&(null!=(v=Oe(p,h))&&c.push(Br(p,v,f)))),d)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(d=We(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==u?s:ki(u),f=null==l?s:ki(l),(s=new c(v,p+"leave",u,n,i)).target=d,s.relatedTarget=f,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=f,c.relatedTarget=d,v=c),d=v,u&&l)e:{for(h=l,p=0,f=c=u;f;f=Gr(f))p++;for(f=0,v=h;v;v=Gr(v))f++;for(;0<p-f;)c=Gr(c),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Gr(c),h=Gr(h)}c=null}else c=null;null!==u&&Qr(o,s,u,c,!1),null!==l&&null!==d&&Qr(o,d,l,c,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Hn(s))if(Jn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Bn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Wn?zn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Wn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Wn=!0)),0<(y=Kr(r,_)).length&&(_=new kn(_,e,null,n,i),o.push({event:_,listeners:y}),g?_.data=g:null!==(g=qn(n))&&(_.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Xt=Jt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Br(e,a,i)),null!=(a=Oe(e,t))&&r.push(Br(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Oe(n,a))&&o.unshift(Br(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Br(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[fi]||null}var wi=[],xi=-1;function Ci(e){return{current:e}}function Si(e){0>xi||(e.current=wi[xi],wi[xi]=null,xi--)}function Ei(e,t){xi++,wi[xi]=e.current,e.current=t}var Ii={},Ti=Ci(Ii),Pi=Ci(!1),Ni=Ii;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){Si(Pi),Si(Ti)}function Di(e,t,n){if(Ti.current!==Ii)throw Error(a(168));Ei(Ti,t),Ei(Pi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,V(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ni=Ti.current,Ei(Ti,e),Ei(Pi,Pi.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Pi),Si(Ti),Ei(Ti,e)):Si(Pi),Ei(Pi,n)}var Fi=null,Ui=!1,zi=!1;function qi(e){null===Fi?Fi=[e]:Fi.push(e)}function Wi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Wi),i}finally{_t=t,zi=!1}}return null}var Vi=[],Hi=0,Bi=null,Ki=0,Gi=[],Qi=0,$i=null,Yi=1,Ji="";function Xi(e,t){Vi[Hi++]=Ki,Vi[Hi++]=Bi,Bi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Ji,Gi[Qi++]=$i,$i=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Bi;)Bi=Vi[--Hi],Vi[Hi]=null,Ki=Vi[--Hi],Vi[Hi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ol(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ci(null),ga=null,_a=null,ka=null;function ba(){ka=_a=ga=null}function wa(e){var t=ya.current;Si(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ga=e,ka=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ga)throw Error(a(308));_a=e,ga.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Ea=null;function Ia(e){null===Ea?Ea=[e]:Ea.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Aa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var d=i.baseState;for(o=0,c=l=u=null,s=a;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,f=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(f,d,h):p)||void 0===h)break e;d=j({},d,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=f,u=d):c=c.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=d}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function za(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qa={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Aa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Aa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Aa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rl(t,e,r,n),La(t,e,r))}};function Wa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Va(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Oi(t)?Ni:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qa.enqueueReplaceState(t,t.state,null)}function Ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Oi(t)?Ni:Ti.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qa.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case w:return(t=Ul(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,d=a,v=a=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var y=f(i,d,s[v],u);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,d=m}if(v===s.length)return n(i,d),ia&&Xi(i,v),l;if(null===d){for(;v<s.length;v++)null!==(d=h(i,s[v],u))&&(a=o(d,a,v),null===c?l=d:c.sibling=d,c=d);return ia&&Xi(i,v),l}for(d=r(i,d);v<s.length;v++)null!==(m=p(d,i,v,s[v],u))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),l}function m(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var d=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var _=f(i,v,g.value,l);if(null===_){null===v&&(v=y);break}e&&v&&null===_.alternate&&t(i,v),s=o(_,s,m),null===d?c=_:d.sibling=_,d=_,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,l))&&(s=o(g,s,m),null===d?c=g:d.sibling=g,d=g);return ia&&Xi(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===d?c=g:d.sibling=g,d=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===x){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===O&&Qa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ka(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((a=Ml(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ll(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=$a(!0),Ja=$a(!1),Xa={},Za=Ci(Xa),eo=Ci(Xa),to=Ci(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var so=Ci(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var ho=k.ReactCurrentDispatcher,fo=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,_o=!1,ko=0,bo=0;function wo(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),_o){o=0;do{if(_o=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,ho.current=ls,e=n(r,i)}while(_o)}if(ho.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==ko;return ko=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function To(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var d=c.lane;if((po&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,vo.lanes|=d,ju|=d}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Oo(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Pa(e,1);null!==t&&rl(t,e,1,-1)}function Fo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return Io().memoizedState}function qo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Wo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function Vo(e,t){return qo(8390656,8,e,t)}function Ho(e,t){return Wo(2048,8,e,t)}function Bo(e,t){return Wo(4,2,e,t)}function Ko(e,t){return Wo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4,4,Go.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,ju|=n,e.baseState=!0),t)}function Zo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{_t=n,fo.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ta(e,t,n,r))){rl(n,e,r,tl()),as(n,t,r)}}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ta(e,t,i,r))&&(rl(n,e,r,i=tl()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){_o=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Sa,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qo(4194308,4,e,t)},useInsertionEffect:function(e,t){return qo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Fo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Nu.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Bo,useLayoutEffect:Ko,useMemo:Jo,useReducer:Po,useRef:zo,useState:function(){return Po(To)},useDebugValue:$o,useDeferredValue:function(e){return Xo(Io(),mo.memoizedState,e)},useTransition:function(){return[Po(To)[0],Io().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},ls={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Bo,useLayoutEffect:Ko,useMemo:Jo,useReducer:No,useRef:zo,useState:function(){return No(To)},useDebugValue:$o,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[No(To)[0],Io().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Aa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bu||(Bu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Aa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Aa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=k.ReactCurrentOwner,ks=!1;function bs(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=So(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Al(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Bs(e,t,i)}return t.flags|=1,(e=Dl(a,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Bs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Is(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Du,Au),Au|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Du,Au),Au|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Du,Au),Au|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Du,Au),Au|=r;return bs(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Oi(n)?Ni:Ti.current;return a=Ri(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=So(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function Ts(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ca(t,i),null===t.stateNode)Hs(e,t),Va(t,n,r),Ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Sa(l):l=Ri(t,l=Oi(n)?Ni:Ti.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Ha(t,o,r,l),Na=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Pi.current||Na?("function"===typeof c&&(za(t,n,c,r),u=t.memoizedState),(s=Na||Wa(t,n,s,r,h,u,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,d=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Ri(t,u=Oi(n)?Ni:Ti.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==u)&&Ha(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;s!==d||h!==p||Pi.current||Na?("function"===typeof f&&(za(t,n,f,r),p=t.memoizedState),(l=Na||Wa(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,a,i)}function Ps(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Bs(e,t,a);r=t.stateNode,_s.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Rs(e,t,n,r,i){return fa(),pa(i),t.flags|=256,bs(e,t,n,r),t.child}var Os,As,Ds,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jl(u,i,0,null),e=Ml(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ms,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jl({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,zs(e,t,s,r=ds(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Pa(e,i),rl(r,e,i,-1))}return ml(),zs(e,t,s,r=ds(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Ji,Gi[Qi++]=$i,Yi=e.id,Ji=e.overflow,$i=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dl(r,s):(s=Ml(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=jl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Ws(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qs(e,n,t);else if(19===e.tag)qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ws(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ws(t,!0,n,null,a);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Oi(t.type)&&Ai(),Gs(t),null;case 3:return r=t.stateNode,io(),Si(Pi),Si(Ti),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sl(aa),aa=null))),As(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[fi]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&_(e,o,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sl(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):ml())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),As(e,t),null===e&&Wr(t.stateNode.containerInfo),Gs(t),null;case 10:return wa(t.type._context),Gs(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Vu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Je()-o.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Au)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $s(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Pi),Si(Ti),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Sl(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var du=null,hu=!1;function fu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||eu(n,t);case 6:var r=du,i=hu;du=null,fu(e,t,n),hu=i,null!==(du=r)&&(hu?(e=du,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):du.removeChild(n.stateNode));break;case 18:null!==du&&(hu?(e=du,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Wt(e)):ui(du,n.stateNode));break;case 4:r=du,i=hu,du=n.stateNode.containerInfo,hu=!0,fu(e,t,n),du=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!Js&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sl(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,fu(e,t,n),Js=r):fu(e,t,n);break;default:fu(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Pl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:du=u.stateNode,hu=!1;break e;case 3:case 4:du=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===du)throw Error(a(160));pu(o,s,i),du=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Sl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Sl(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Sl(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),_e(u,s);var c=_e(u,o);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):_(i,d,h,c)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){Sl(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sl(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(m){Sl(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Wu=Je())),4&r&&vu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(c=Js)||d,mu(t,e),Js=c):mu(t,e),gu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(h=Zs=d;null!==Zs;){switch(p=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:ru(4,f,f.return);break;case 1:eu(f,f.return);var v=f.stateNode;if("function"===typeof v.componentWillUnmount){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sl(r,n,m)}}break;case 5:eu(f,f.return);break;case 22:if(null!==f.memoizedState){wu(h);continue}}null!==p?(p.return=f,Zs=p):wu(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){Sl(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Sl(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Sl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _u(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Ys;var l=Js;if(Ys=o,(Js=u)&&!l)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Zs=u):xu(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,Ys=s,Js=l}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):bu(e)}}function bu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(a(163))}Js||512&t.flags&&au(t)}catch(f){Sl(t,t.return,f)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Sl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sl(t,i,u)}}var a=t.return;try{au(t)}catch(u){Sl(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Sl(t,o,u)}}}catch(u){Sl(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Cu,Su=Math.ceil,Eu=k.ReactCurrentDispatcher,Iu=k.ReactCurrentOwner,Tu=k.ReactCurrentBatchConfig,Pu=0,Nu=null,Ru=null,Ou=0,Au=0,Du=Ci(0),Lu=0,Mu=null,ju=0,Fu=0,Uu=0,zu=null,qu=null,Wu=0,Vu=1/0,Hu=null,Bu=!1,Ku=null,Gu=null,Qu=!1,$u=null,Yu=0,Ju=0,Xu=null,Zu=-1,el=0;function tl(){return 0!==(6&Pu)?Je():-1!==Zu?Zu:Zu=Je()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Pu)&&0!==Ou?Ou&-Ou:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rl(e,t,n,r){if(50<Ju)throw Ju=0,Xu=null,Error(a(185));yt(e,n,r),0!==(2&Pu)&&e===Nu||(e===Nu&&(0===(2&Pu)&&(Fu|=n),4===Lu&&ul(e,Ou)),il(e,r),1===n&&0===Pu&&0===(1&t.mode)&&(Vu=Je()+500,Ui&&Wi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=ft(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Ou:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,qi(e)}(ll.bind(null,e)):qi(ll.bind(null,e)),oi((function(){0===(6&Pu)&&Wi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if(Zu=-1,el=0,0!==(6&Pu))throw Error(a(327));var n=e.callbackNode;if(xl()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Pu;Pu|=2;var o=vl();for(Nu===e&&Ou===t||(Hu=null,Vu=Je()+500,fl(e,t));;)try{_l();break}catch(u){pl(e,u)}ba(),Eu.current=o,Pu=i,null!==Ru?t=0:(Nu=null,Ou=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Mu,fl(e,0),ul(e,r),il(e,Je()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Mu,fl(e,0),ul(e,r),il(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,qu,Hu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Wu+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,qu,Hu),t);break}wl(e,qu,Hu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,qu,Hu),r);break}wl(e,qu,Hu);break;default:throw Error(a(329))}}}return il(e,Je()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=zu;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=qu,qu=n,null!==t&&sl(t)),e}function sl(e){null===qu?qu=e:qu.push.apply(qu,e)}function ul(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Pu))throw Error(a(327));xl();var t=ht(e,0);if(0===(1&t))return il(e,Je()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Mu,fl(e,0),ul(e,t),il(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,qu,Hu),il(e,Je()),null}function cl(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Vu=Je()+500,Ui&&Wi())}}function dl(e){null!==$u&&0===$u.tag&&0===(6&Pu)&&xl();var t=Pu;Pu|=1;var n=Tu.transition,r=_t;try{if(Tu.transition=null,_t=1,e)return e()}finally{_t=r,Tu.transition=n,0===(6&(Pu=t))&&Wi()}}function hl(){Au=Du.current,Si(Du)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:io(),Si(Pi),Si(Ti),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:wa(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Nu=e,Ru=e=Dl(e.current,null),Ou=Au=t,Lu=0,Mu=null,Uu=Fu=ju=0,qu=zu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pl(e,t){for(;;){var n=Ru;try{if(ba(),ho.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,_o=!1,ko=0,Iu.current=null,null===n||null===n.return){Lu=1,Mu=t,Ru=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Ou,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=u,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),ml();break e}l=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Lu&&(Lu=2),null===zu?zu=[o]:zu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,l,t));break e;case 1:u=l;var g=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Gu||!Gu.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bl(n)}catch(k){t=k,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function vl(){var e=Eu.current;return Eu.current=os,null===e?os:e}function ml(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Nu||0===(268435455&ju)&&0===(268435455&Fu)||ul(Nu,Ou)}function yl(e,t){var n=Pu;Pu|=2;var r=vl();for(Nu===e&&Ou===t||(Hu=null,fl(e,t));;)try{gl();break}catch(i){pl(e,i)}if(ba(),Pu=n,Eu.current=r,null!==Ru)throw Error(a(261));return Nu=null,Ou=0,Lu}function gl(){for(;null!==Ru;)kl(Ru)}function _l(){for(;null!==Ru&&!$e();)kl(Ru)}function kl(e){var t=Cu(e.alternate,e,Au);e.memoizedProps=e.pendingProps,null===t?bl(e):Ru=t,Iu.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Au)))return void(Ru=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Ru=n);if(null===e)return Lu=6,void(Ru=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===Lu&&(Lu=5)}function wl(e,t,n){var r=_t,i=Tu.transition;try{Tu.transition=null,_t=1,function(e,t,n,r){do{xl()}while(null!==$u);if(0!==(6&Pu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Ru=Nu=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Nl(tt,(function(){return xl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=_t;_t=1;var u=Pu;Pu|=4,Iu.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var s=0,u=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===i&&(u=s),f===o&&++d===r&&(l=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(b){Sl(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,_u(n,e,i),Ye(),Pu=u,_t=s,Tu.transition=o}else e.current=n;if(Qu&&(Qu=!1,$u=e,Yu=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bu)throw Bu=!1,e=Ku,Ku=null,e;0!==(1&Yu)&&0!==e.tag&&xl(),o=e.pendingLanes,0!==(1&o)?e===Xu?Ju++:(Ju=0,Xu=e):Ju=0,Wi()}(e,t,n,r)}finally{Tu.transition=i,_t=r}return null}function xl(){if(null!==$u){var e=kt(Yu),t=Tu.transition,n=_t;try{if(Tu.transition=null,_t=16>e?16:e,null===$u)var r=!1;else{if(e=$u,$u=null,Yu=0,0!==(6&Pu))throw Error(a(331));var i=Pu;for(Pu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Zs=c;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:ru(8,d,o)}var h=d.child;if(null!==h)h.return=d,Zs=h;else for(;null!==Zs;){var f=(d=Zs).sibling,p=d.return;if(ou(d),d===c){Zs=null;break}if(null!==f){f.return=p,Zs=f;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var _=e.current;for(Zs=_;null!==Zs;){var k=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Zs=k;else e:for(s=_;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(w){Sl(u,u.return,w)}if(u===s){Zs=null;break e}var b=u.sibling;if(null!==b){b.return=u.return,Zs=b;break e}Zs=u.return}}if(Pu=i,Wi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{_t=n,Tu.transition=t}}return!1}function Cl(e,t,n){e=Da(e,t=ps(0,t=cs(n,t),1),1),t=tl(),null!==e&&(yt(e,1,t),il(e,t))}function Sl(e,t,n){if(3===e.tag)Cl(e,e,n);else for(;null!==t;){if(3===t.tag){Cl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Da(t,e=vs(t,e=cs(n,e),1),1),e=tl(),null!==t&&(yt(t,1,e),il(t,e));break}}t=t.return}}function El(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Ou&n)===n&&(4===Lu||3===Lu&&(130023424&Ou)===Ou&&500>Je()-Wu?fl(e,0):Uu|=n),il(e,t)}function Il(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Pa(e,t))&&(yt(e,t,n),il(e,n))}function Tl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Il(e,n)}function Pl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Il(e,n)}function Nl(e,t){return Ge(e,t)}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Rl(e,t,n,r)}function Al(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Al(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Ml(n.children,i,o,t);case C:s=8,i|=8;break;case S:return(e=Ol(12,n,t,2|i)).elementType=S,e.lanes=o,e;case P:return(e=Ol(13,n,t,i)).elementType=P,e.lanes=o,e;case N:return(e=Ol(19,n,t,i)).elementType=N,e.lanes=o,e;case A:return jl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case I:s=9;break e;case T:s=11;break e;case R:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ol(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function jl(e,t,n,r){return(e=Ol(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ql(e,t,n,r,i,a,o,s,u){return e=new zl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ol(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Wl(e){if(!e)return Ii;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function Vl(e,t,n,r,i,a,o,s,u){return(e=ql(n,r,!0,e,0,a,0,s,u)).context=Wl(null),n=e.current,(a=Aa(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),il(e,r),e}function Hl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=Wl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Aa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rl(e,i,o,a),La(e,i,o)),o}function Bl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}Cu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),fa();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ei(so,1&so.current),null!==(e=Bs(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Bs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ri(t,Ti.current);Ca(t,n),i=Co(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=qa,t.stateNode=i,i._reactInternals=t,Ba(t,r,e,n),t=Ps(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Al(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=Bs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Pi.current){t=Bs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Aa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=Sa(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hs(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ca(t,n),Va(t,r,i),Ba(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Bl(o);s.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Bl(o);a.call(e)}}var o=Vl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Wr(8===e.nodeType?e.parentNode:e),dl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Bl(u);s.call(e)}}var u=ql(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,Wr(8===e.nodeType?e.parentNode:e),dl((function(){Hl(t,u,n,r)})),u}(n,t,e,i,r);return Bl(o)}Yl.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hl(e,t,null,null)},Yl.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dl((function(){Hl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&jt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),il(t,Je()),0===(6&Pu)&&(Vu=Je()+500,Wi()))}break;case 13:dl((function(){var t=Pa(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Gl(e,1)}},wt=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)rl(t,e,134217728,tl());Gl(e,134217728)}},xt=function(e){if(13===e.tag){var t=nl(e),n=Pa(e,t);if(null!==n)rl(n,e,t,tl());Gl(e,t)}},Ct=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cl,Pe=dl;var tc={usingClientEntryPoint:!1,Events:[_i,ki,bi,Ee,Ie,cl]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Be(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jl(e))throw Error(a(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=ql(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new $l(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Be(t))?null:e.stateNode},t.flushSync=function(e){return dl(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vl(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(a(40));return!!e._reactRootContainer&&(dl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=_.prototype=new g;k.constructor=_,v(k,y.prototype),k.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,x={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+T(u,0):a,b(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",b(e))for(var l=0;l<e.length;l++){var c=a+T(s=e[l],l);u+=P(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=P(s=s.value,t,i,c=a+T(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},A={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:A,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],d=1,h=null,f=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function b(e){if(m=!1,k(e),!v)if(null!==r(l))v=!0,A(w);else{var t=r(c);null!==t&&D(b,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=f;try{for(k(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!P());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),k(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var d=r(c);null!==d&&D(b,d.startTime-n),u=!1}return u}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,C=!1,S=null,E=-1,I=5,T=-1;function P(){return!(t.unstable_now()-T<I)}function N(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?x():(C=!1,S=null)}}else C=!1}if("function"===typeof _)x=function(){_(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,O=R.port2;R.port1.onmessage=N,x=function(){O.postMessage(null)}}else x=function(){y(N,0)};function A(e){S=e,C||(C=!0,x())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,A(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(E),E=-1):m=!0,D(b,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,A(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return Rn},SDK_VERSION:function(){return Xr},_DEFAULT_ENTRY_NAME:function(){return Ur},_addComponent:function(){return Vr},_addOrOverwriteComponent:function(){return Hr},_apps:function(){return qr},_clearComponents:function(){return Qr},_components:function(){return Wr},_getProvider:function(){return Kr},_registerComponent:function(){return Br},_removeServiceInstance:function(){return Gr},deleteApp:function(){return ni},getApp:function(){return ei},getApps:function(){return ti},initializeApp:function(){return Zr},onLog:function(){return ai},registerVersion:function(){return ii},setLogLevel:function(){return oi}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||u(e,t)||l()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function f(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function v(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){var t=_();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}(this,n)}}function w(){w=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),s=new I(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var d={};function f(){}function p(){}function v(){}var m={};u(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var _=v.prototype=f.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var u=c(e[r],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==h(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=v,r(_,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},k(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function x(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(Sh){return void n(Sh)}s.done?t(u):Promise.resolve(u).then(r,i)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){x(a,r,i,o,s,"next",e)}function s(e){x(a,r,i,o,s,"throw",e)}o(void 0)}))}}function S(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n){return E=_()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&m(i,n.prototype),i},E.apply(null,arguments)}function I(e){var t="function"===typeof Map?new Map:void 0;return I=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return E(e,arguments,g(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),m(r,e)},I(e)}function T(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function P(e){return o(e)||T(e)||u(e)||l()}function N(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function R(e){return function(e){if(Array.isArray(e))return s(e)}(e)||T(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var A,D="popstate";function L(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function M(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function j(e,t){return{usr:e.state,key:e.key,idx:t}}function F(e,t,n,r){return void 0===n&&(n=null),O({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?z(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function U(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function z(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function q(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,l=void 0!==u&&u,c=s.history,d=t.Pop,h=null,f=p();function p(){return(c.state||{idx:null}).idx}function v(){d=t.Pop;var e=p(),n=null==e?null:e-f;f=e,h&&h({action:d,location:y.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:U(e);return L(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,c.replaceState(O({},c.state,{idx:f}),""));var y={get action(){return d},get location(){return e(s,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(D,v),h=e,function(){s.removeEventListener(D,v),h=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){d=t.Push;var i=F(y.location,e,n);r&&r(i,e);var a=j(i,f=p()+1),o=y.createHref(i);try{c.pushState(a,"",o)}catch(Sh){if(Sh instanceof DOMException&&"DataCloneError"===Sh.name)throw Sh;s.location.assign(o)}l&&h&&h({action:d,location:y.location,delta:1})},replace:function(e,n){d=t.Replace;var i=F(y.location,e,n);r&&r(i,e);var a=j(i,f=p()),o=y.createHref(i);c.replaceState(a,"",o),l&&h&&h({action:d,location:y.location,delta:0})},go:function(e){return c.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(A||(A={}));var W=new Set(["lazy","caseSensitive","path","id","index","children"]);function V(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map((function(e,i){var a=[].concat(R(n),[i]),o="string"===typeof e.id?e.id:a.join("-");if(L(!0!==e.index||!e.children,"Cannot specify children on an index route"),L(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){var s=O({},e,t(e),{id:o});return r[o]=s,s}var u=O({},e,t(e),{id:o,children:void 0});return r[o]=u,e.children&&(u.children=V(e.children,t,a,r)),u}))}function H(e,t,n){void 0===n&&(n="/");var r=ie(("string"===typeof t?z(t):t).pathname||"/",n);if(null==r)return null;var i=B(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=te(i[o],re(r));return a}function B(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(L(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ue([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(L(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),B(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:ee(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=N(K(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function K(e){var t=e.split("/");if(0===t.length)return[];var n=P(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=K(i.join("/")),u=[];return u.push.apply(u,R(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,R(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var G=/^:\w+$/,Q=3,$=2,Y=1,J=10,X=-2,Z=function(e){return"*"===e};function ee(e,t){var n=e.split("/"),r=n.length;return n.some(Z)&&(r+=X),t&&(r+=$),n.filter((function(e){return!Z(e)})).reduce((function(e,t){return e+(G.test(t)?Q:""===t?Y:J)}),r)}function te(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=ne({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var d=s.route;a.push({params:r,pathname:ue([i,c.pathname]),pathnameBase:le(ue([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=ue([i,c.pathnameBase]))}return a}function ne(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);M("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),d=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Sh){return M(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+Sh+")."),e}}(l[n]||"",t),e}),{});return{params:d,pathname:s,pathnameBase:u,pattern:e}}function re(e){try{return decodeURI(e)}catch(Sh){return M(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Sh+")."),e}}function ie(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ae(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function oe(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function se(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=z(e):(L(!(i=O({},e)).pathname||!i.pathname.includes("?"),ae("?","pathname","search",i)),L(!i.pathname||!i.pathname.includes("#"),ae("#","pathname","hash",i)),L(!i.search||!i.search.includes("#"),ae("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u-=1;i.pathname=l.join("/")}a=u>=0?t[u]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?z(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ce(a),hash:de(s)}}(i,a),d=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}var ue=function(e){return e.join("/").replace(/\/\/+/g,"/")},le=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ce=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},de=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},he=function(e){y(n,e);var t=b(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n)}(I(Error));var fe=v((function e(t,n,r,i){d(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function pe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ve=["post","put","patch","delete"],me=new Set(ve),ye=["get"].concat(ve),ge=new Set(ye),_e=new Set([301,302,303,307,308]),ke=new Set([307,308]),be={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},we={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xe={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=function(e){return{hasErrorBoundary:Boolean(e.hasErrorBoundary)}};function Ee(e){var n,r=e.window?e.window:"undefined"!==typeof window?window:void 0,i="undefined"!==typeof r&&"undefined"!==typeof r.document&&"undefined"!==typeof r.document.createElement,a=!i;if(L(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)n=e.mapRouteProperties;else if(e.detectErrorBoundary){var o=e.detectErrorBoundary;n=function(e){return{hasErrorBoundary:o(e)}}}else n=Se;var s,u={},l=V(e.routes,n,void 0,u),d=e.basename||"/",h=O({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),f=null,p=new Set,v=null,m=null,y=null,g=null!=e.hydrationData,_=H(l,e.history.location,d),k=null;if(null==_){var b=Be(404,{pathname:e.history.location.pathname}),x=He(l);_=x.matches,k=S({},x.route.id,b)}var E,I,T=!_.some((function(e){return e.route.lazy}))&&(!_.some((function(e){return e.route.loader}))||null!=e.hydrationData),P={historyAction:e.history.action,location:e.history.location,matches:_,initialized:T,navigation:be,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||k,fetchers:new Map,blockers:new Map},D=t.Pop,j=!1,U=!1,z=!1,q=[],W=[],B=new Map,K=0,G=-1,Q=new Map,$=new Set,Y=new Map,J=new Map,X=new Map,Z=!1;function ee(e){P=O({},P,e),p.forEach((function(e){return e(P)}))}function te(n,r){var i,a,o,u=null!=P.actionData&&null!=P.navigation.formMethod&&tt(P.navigation.formMethod)&&"loading"===P.navigation.state&&!0!==(null==(i=n.state)?void 0:i._isRedirect);o=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:u?P.actionData:null;var c=r.loaderData?We(P.loaderData,r.loaderData,r.matches||[],r.errors):P.loaderData,d=P.blockers;d.size>0&&(d=new Map(d)).forEach((function(e,t){return d.set(t,xe)}));var h=!0===j||null!=P.navigation.formMethod&&tt(P.navigation.formMethod)&&!0!==(null==(a=n.state)?void 0:a._isRedirect);s&&(l=s,s=void 0),U||D===t.Pop||(D===t.Push?e.history.push(n,n.state):D===t.Replace&&e.history.replace(n,n.state)),ee(O({},r,{actionData:o,loaderData:c,historyAction:D,location:n,initialized:!0,navigation:be,revalidation:"idle",restoreScrollPosition:Xe(n,r.matches||P.matches),preventScrollReset:h,blockers:d})),D=t.Pop,j=!1,U=!1,z=!1,q=[],W=[]}function ne(e,t){return re.apply(this,arguments)}function re(){return re=C(w().mark((function n(r,i){var a,o,s,u,l,c,f,p,v,m,y;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("number"!==typeof r){n.next=3;break}return e.history.go(r),n.abrupt("return");case 3:if(a=Ie(P.location,P.matches,d,h.v7_prependBasename,r,null==i?void 0:i.fromRouteId,null==i?void 0:i.relative),o=Te(h.v7_normalizeFormMethod,!1,a,i),s=o.path,u=o.submission,l=o.error,c=P.location,f=O({},f=F(P.location,s,i&&i.state),e.history.encodeLocation(f)),p=i&&null!=i.replace?i.replace:void 0,v=t.Push,!0===p?v=t.Replace:!1===p||null!=u&&tt(u.formMethod)&&u.formAction===P.location.pathname+P.location.search&&(v=t.Replace),m=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,!(y=Fe({currentLocation:c,nextLocation:f,historyAction:v}))){n.next=16;break}return Me(y,{state:"blocked",location:f,proceed:function(){Me(y,{state:"proceeding",proceed:void 0,reset:void 0,location:f}),ne(r,i)},reset:function(){var e=new Map(P.blockers);e.set(y,xe),ee({blockers:e})}}),n.abrupt("return");case 16:return n.next=18,ae(v,f,{submission:u,pendingError:l,preventScrollReset:m,replace:i&&i.replace});case 18:return n.abrupt("return",n.sent);case 19:case"end":return n.stop()}}),n)}))),re.apply(this,arguments)}function ae(e,t,n){return oe.apply(this,arguments)}function oe(){return oe=C(w().mark((function t(n,r,i){var a,o,u,c,h,f,p,v,m,y,g,_,k,b,x;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(I&&I.abort(),I=null,D=n,U=!0===(i&&i.startUninterruptedRevalidation),Ge(P.location,P.matches),j=!0===(i&&i.preventScrollReset),a=s||l,o=i&&i.overrideNavigation,u=H(a,r,d)){t.next=15;break}return c=Be(404,{pathname:r.pathname}),h=He(a),f=h.matches,p=h.route,Ue(),te(r,{matches:f,loaderData:{},errors:S({},p.id,c)}),t.abrupt("return");case 15:if(!P.initialized||z||!Qe(P.location,r)||i&&i.submission&&tt(i.submission.formMethod)){t.next=18;break}return te(r,{matches:u}),t.abrupt("return");case 18:if(I=new AbortController,v=je(e.history,r,I.signal,i&&i.submission),!i||!i.pendingError){t.next=24;break}y=S({},Ve(u).route.id,i.pendingError),t.next=34;break;case 24:if(!(i&&i.submission&&tt(i.submission.formMethod))){t.next=34;break}return t.next=27,se(v,r,i.submission,u,{replace:i.replace});case 27:if(!(g=t.sent).shortCircuited){t.next=30;break}return t.abrupt("return");case 30:m=g.pendingActionData,y=g.pendingActionError,o=lt(r,i.submission),v=new Request(v.url,{signal:v.signal});case 34:return t.next=36,le(v,r,u,o,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,m,y);case 36:if(_=t.sent,k=_.shortCircuited,b=_.loaderData,x=_.errors,!k){t.next=42;break}return t.abrupt("return");case 42:I=null,te(r,O({matches:u},m?{actionData:m}:{},{loaderData:b,errors:x}));case 44:case"end":return t.stop()}}),t)}))),oe.apply(this,arguments)}function se(e,t,n,r,i){return ue.apply(this,arguments)}function ue(){return ue=C(w().mark((function e(r,i,a,o,s){var l,c,h,f;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===s&&(s={}),ge(),ee({navigation:ct(i,a)}),(c=st(o,i)).route.action||c.route.lazy){e.next=9;break}l={type:A.error,error:Be(405,{method:r.method,pathname:i.pathname,routeId:c.route.id})},e.next=14;break;case 9:return e.next=11,Le("action",r,c,o,u,n,d);case 11:if(l=e.sent,!r.signal.aborted){e.next=14;break}return e.abrupt("return",{shortCircuited:!0});case 14:if(!Je(l)){e.next=19;break}return h=s&&null!=s.replace?s.replace:l.location===P.location.pathname+P.location.search,e.next=18,pe(P,l,{submission:a,replace:h});case 18:return e.abrupt("return",{shortCircuited:!0});case 19:if(!Ye(l)){e.next=23;break}return f=Ve(o,c.route.id),!0!==(s&&s.replace)&&(D=t.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:S({},f.route.id,l.error)});case 23:if(!$e(l)){e.next=25;break}throw Be(400,{type:"defer-action"});case 25:return e.abrupt("return",{pendingActionData:S({},c.route.id,l.data)});case 26:case"end":return e.stop()}}),e)}))),ue.apply(this,arguments)}function le(e,t,n,r,i,a,o,s,u){return ce.apply(this,arguments)}function ce(){return ce=C(w().mark((function t(n,r,i,a,o,u,h,f,p){var v,m,y,g,_,k,b,x,C,S,E,T,N,R,A,D,L,M,j,F,V,H;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v=a||lt(r,o),m=o||u||ut(v),y=s||l,g=Ne(e.history,P,i,m,r,z,q,W,Y,$,y,d,f,p),_=c(g,2),k=_[0],b=_[1],Ue((function(e){return!(i&&i.some((function(t){return t.route.id===e})))||k&&k.some((function(t){return t.route.id===e}))})),G=++K,0!==k.length||0!==b.length){t.next=10;break}return x=Oe(),te(r,O({matches:i,loaderData:{},errors:p||null},f?{actionData:f}:{},x?{fetchers:new Map(P.fetchers)}:{})),t.abrupt("return",{shortCircuited:!0});case 10:return U||(b.forEach((function(e){var t=P.fetchers.get(e.key),n=dt(void 0,t?t.data:void 0);P.fetchers.set(e.key,n)})),C=f||P.actionData,ee(O({navigation:v},C?0===Object.keys(C).length?{actionData:null}:{actionData:C}:{},b.length>0?{fetchers:new Map(P.fetchers)}:{}))),b.forEach((function(e){B.has(e.key)&&Pe(e.key),e.controller&&B.set(e.key,e.controller)})),S=function(){return b.forEach((function(e){return Pe(e.key)}))},I&&I.signal.addEventListener("abort",S),t.next=16,me(P.matches,i,k,b,n);case 16:if(E=t.sent,T=E.results,N=E.loaderResults,R=E.fetcherResults,!n.signal.aborted){t.next=22;break}return t.abrupt("return",{shortCircuited:!0});case 22:if(I&&I.signal.removeEventListener("abort",S),b.forEach((function(e){return B.delete(e.key)})),!(A=Ke(T))){t.next=30;break}return A.idx>=k.length&&(D=b[A.idx-k.length].key,$.add(D)),t.next=29,pe(P,A.result,{replace:h});case 29:return t.abrupt("return",{shortCircuited:!0});case 30:return L=qe(P,i,k,N,p,b,R,J),M=L.loaderData,j=L.errors,J.forEach((function(e,t){e.subscribe((function(n){(n||e.done)&&J.delete(t)}))})),F=Oe(),V=Ae(G),H=F||V||b.length>0,t.abrupt("return",O({loaderData:M,errors:j},H?{fetchers:new Map(P.fetchers)}:{}));case 36:case"end":return t.stop()}}),t)}))),ce.apply(this,arguments)}function de(e){return P.fetchers.get(e)||we}function he(){return he=C(w().mark((function t(r,i,a,o,h,f){var p,v,m,y,g,_,k,b,x,C,E,T,N,R,A,M,j,F,U,V,X,Z,ne,re,ie,ae,oe,se,ue,le,ce;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ge(),Y.delete(r),o.route.action||o.route.lazy){t.next=6;break}return p=Be(405,{method:f.formMethod,pathname:a,routeId:i}),_e(r,i,p),t.abrupt("return");case 6:return v=P.fetchers.get(r),m=ht(f,v),P.fetchers.set(r,m),ee({fetchers:new Map(P.fetchers)}),y=new AbortController,g=je(e.history,a,y.signal,f),B.set(r,y),_=K,t.next=16,Le("action",g,o,h,u,n,d);case 16:if(k=t.sent,!g.signal.aborted){t.next=20;break}return B.get(r)===y&&B.delete(r),t.abrupt("return");case 20:if(!Je(k)){t.next=34;break}if(B.delete(r),!(G>_)){t.next=29;break}return b=ft(void 0),P.fetchers.set(r,b),ee({fetchers:new Map(P.fetchers)}),t.abrupt("return");case 29:return $.add(r),x=dt(f),P.fetchers.set(r,x),ee({fetchers:new Map(P.fetchers)}),t.abrupt("return",pe(P,k,{submission:f,isFetchActionRedirect:!0}));case 34:if(!Ye(k)){t.next=37;break}return _e(r,i,k.error),t.abrupt("return");case 37:if(!$e(k)){t.next=39;break}throw Be(400,{type:"defer-action"});case 39:return C=P.navigation.location||P.location,E=je(e.history,C,y.signal),T=s||l,L(N="idle"!==P.navigation.state?H(T,P.navigation.location,d):P.matches,"Didn't find any matches after fetcher action"),R=++K,Q.set(r,R),A=dt(f,k.data),P.fetchers.set(r,A),M=Ne(e.history,P,N,f,C,z,q,W,Y,$,T,d,S({},o.route.id,k.data),void 0),j=c(M,2),F=j[0],(U=j[1]).filter((function(e){return e.key!==r})).forEach((function(e){var t=e.key,n=P.fetchers.get(t),r=dt(void 0,n?n.data:void 0);P.fetchers.set(t,r),B.has(t)&&Pe(t),e.controller&&B.set(t,e.controller)})),ee({fetchers:new Map(P.fetchers)}),V=function(){return U.forEach((function(e){return Pe(e.key)}))},y.signal.addEventListener("abort",V),t.next=55,me(P.matches,N,F,U,E);case 55:if(X=t.sent,Z=X.results,ne=X.loaderResults,re=X.fetcherResults,!y.signal.aborted){t.next=61;break}return t.abrupt("return");case 61:if(y.signal.removeEventListener("abort",V),Q.delete(r),B.delete(r),U.forEach((function(e){return B.delete(e.key)})),!(ie=Ke(Z))){t.next=69;break}return ie.idx>=F.length&&(ae=U[ie.idx-F.length].key,$.add(ae)),t.abrupt("return",pe(P,ie.result));case 69:oe=qe(P,P.matches,F,ne,void 0,U,re,J),se=oe.loaderData,ue=oe.errors,P.fetchers.has(r)&&(le=ft(k.data),P.fetchers.set(r,le)),ce=Ae(R),"loading"===P.navigation.state&&R>G?(L(D,"Expected pending action"),I&&I.abort(),te(P.navigation.location,{matches:N,loaderData:se,errors:ue,fetchers:new Map(P.fetchers)})):(ee(O({errors:ue,loaderData:We(P.loaderData,se,N,ue)},ce||U.length>0?{fetchers:new Map(P.fetchers)}:{})),z=!1);case 73:case"end":return t.stop()}}),t)}))),he.apply(this,arguments)}function fe(){return fe=C(w().mark((function t(r,i,a,o,s,l){var c,h,f,p,v,m,y,g,_;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=P.fetchers.get(r),h=dt(l,c?c.data:void 0),P.fetchers.set(r,h),ee({fetchers:new Map(P.fetchers)}),f=new AbortController,p=je(e.history,a,f.signal),B.set(r,f),v=K,t.next=10,Le("loader",p,o,s,u,n,d);case 10:if(!$e(m=t.sent)){t.next=18;break}return t.next=14,it(m,p.signal,!0);case 14:if(t.t0=t.sent,t.t0){t.next=17;break}t.t0=m;case 17:m=t.t0;case 18:if(B.get(r)===f&&B.delete(r),!p.signal.aborted){t.next=21;break}return t.abrupt("return");case 21:if(!Je(m)){t.next=33;break}if(!(G>v)){t.next=29;break}return y=ft(void 0),P.fetchers.set(r,y),ee({fetchers:new Map(P.fetchers)}),t.abrupt("return");case 29:return $.add(r),t.next=32,pe(P,m);case 32:return t.abrupt("return");case 33:if(!Ye(m)){t.next=38;break}return g=Ve(P.matches,i),P.fetchers.delete(r),ee({fetchers:new Map(P.fetchers),errors:S({},g.route.id,m.error)}),t.abrupt("return");case 38:L(!$e(m),"Unhandled fetcher deferred data"),_=ft(m.data),P.fetchers.set(r,_),ee({fetchers:new Map(P.fetchers)});case 42:case"end":return t.stop()}}),t)}))),fe.apply(this,arguments)}function pe(e,t,n){return ve.apply(this,arguments)}function ve(){return ve=C(w().mark((function n(a,o,s){var u,l,c,h,f,p,v,m,y,g;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=(u=void 0===s?{}:s).submission,c=u.replace,h=u.isFetchActionRedirect,o.revalidate&&(z=!0),L(f=F(a.location,o.location,O({_isRedirect:!0},h?{_isFetchActionRedirect:!0}:{})),"Expected a location on the redirect navigation"),!Ce.test(o.location)||!i){n.next=10;break}if(p=e.history.createURL(o.location),v=null==ie(p.pathname,d),r.location.origin===p.origin&&!v){n.next=10;break}return c?r.location.replace(o.location):r.location.assign(o.location),n.abrupt("return");case 10:if(I=null,m=!0===c?t.Replace:t.Push,y=l||ut(a.navigation),!(ke.has(o.status)&&y&&tt(y.formMethod))){n.next=18;break}return n.next=16,ae(m,f,{submission:O({},y,{formAction:o.location}),preventScrollReset:j});case 16:case 21:n.next=26;break;case 18:if(!h){n.next=23;break}return n.next=21,ae(m,f,{overrideNavigation:lt(f),fetcherSubmission:y,preventScrollReset:j});case 23:return g=lt(f,y),n.next=26,ae(m,f,{overrideNavigation:g,preventScrollReset:j});case 26:case"end":return n.stop()}}),n)}))),ve.apply(this,arguments)}function me(e,t,n,r,i){return ye.apply(this,arguments)}function ye(){return ye=C(w().mark((function t(r,i,a,o,s){var l,c,h;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([].concat(R(a.map((function(e){return Le("loader",s,e,i,u,n,d)}))),R(o.map((function(t){return t.matches&&t.match&&t.controller?Le("loader",je(e.history,t.path,t.controller.signal),t.match,t.matches,u,n,d):{type:A.error,error:Be(404,{pathname:t.path})}})))));case 2:return l=t.sent,c=l.slice(0,a.length),h=l.slice(a.length),t.next=7,Promise.all([nt(r,a,c,c.map((function(){return s.signal})),!1,P.loaderData),nt(r,o.map((function(e){return e.match})),h,o.map((function(e){return e.controller?e.controller.signal:null})),!0)]);case 7:return t.abrupt("return",{results:l,loaderResults:c,fetcherResults:h});case 8:case"end":return t.stop()}}),t)}))),ye.apply(this,arguments)}function ge(){var e;z=!0,(e=q).push.apply(e,R(Ue())),Y.forEach((function(e,t){B.has(t)&&(W.push(t),Pe(t))}))}function _e(e,t,n){var r=Ve(P.matches,t);Ee(e),ee({errors:S({},r.route.id,n),fetchers:new Map(P.fetchers)})}function Ee(e){var t=P.fetchers.get(e);!B.has(e)||t&&"loading"===t.state&&Q.has(e)||Pe(e),Y.delete(e),Q.delete(e),$.delete(e),P.fetchers.delete(e)}function Pe(e){var t=B.get(e);L(t,"Expected fetch controller: "+e),t.abort(),B.delete(e)}function Re(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=ft(de(r).data);P.fetchers.set(r,i)}}catch(a){n.e(a)}finally{n.f()}}function Oe(){var e,t=[],n=!1,r=N($);try{for(r.s();!(e=r.n()).done;){var i=e.value,a=P.fetchers.get(i);L(a,"Expected fetcher: "+i),"loading"===a.state&&($.delete(i),t.push(i),n=!0)}}catch(o){r.e(o)}finally{r.f()}return Re(t),n}function Ae(e){var t,n=[],r=N(Q);try{for(r.s();!(t=r.n()).done;){var i=c(t.value,2),a=i[0];if(i[1]<e){var o=P.fetchers.get(a);L(o,"Expected fetcher: "+a),"loading"===o.state&&(Pe(a),Q.delete(a),n.push(a))}}}catch(s){r.e(s)}finally{r.f()}return Re(n),n.length>0}function De(e){P.blockers.delete(e),X.delete(e)}function Me(e,t){var n=P.blockers.get(e)||xe;L("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);var r=new Map(P.blockers);r.set(e,t),ee({blockers:r})}function Fe(e){var t=e.currentLocation,n=e.nextLocation,r=e.historyAction;if(0!==X.size){X.size>1&&M(!1,"A router only supports one blocker at a time");var i=Array.from(X.entries()),a=c(i[i.length-1],2),o=a[0],s=a[1],u=P.blockers.get(o);if(!u||"proceeding"!==u.state)return s({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}}function Ue(e){var t=[];return J.forEach((function(n,r){e&&!e(r)||(n.cancel(),t.push(r),J.delete(r))})),t}function ze(e,t){if(m){var n=m(e,t.map((function(e){return function(e,t){var n=e.route,r=e.pathname,i=e.params;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,P.loaderData)})));return n||e.key}return e.key}function Ge(e,t){if(v&&y){var n=ze(e,t);v[n]=y()}}function Xe(e,t){if(v){var n=ze(e,t),r=v[n];if("number"===typeof r)return r}return null}return E={get basename(){return d},get state(){return P},get routes(){return l},initialize:function(){return f=e.history.listen((function(t){var n=t.action,r=t.location,i=t.delta;if(!Z){M(0===X.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var a=Fe({currentLocation:P.location,nextLocation:r,historyAction:n});return a&&null!=i?(Z=!0,e.history.go(-1*i),void Me(a,{state:"blocked",location:r,proceed:function(){Me(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset:function(){var e=new Map(P.blockers);e.set(a,xe),ee({blockers:e})}})):ae(n,r)}Z=!1})),P.initialized||ae(t.Pop,P.location),E},subscribe:function(e){return p.add(e),function(){return p.delete(e)}},enableScrollRestoration:function(e,t,n){if(v=e,y=t,m=n||null,!g&&P.navigation===be){g=!0;var r=Xe(P.location,P.matches);null!=r&&ee({restoreScrollPosition:r})}return function(){v=null,y=null,m=null}},navigate:ne,fetch:function(e,t,n,r){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(e)&&Pe(e);var i=s||l,o=Ie(P.location,P.matches,d,h.v7_prependBasename,n,t,null==r?void 0:r.relative),u=H(i,o,d);if(u){var c=Te(h.v7_normalizeFormMethod,!0,o,r),f=c.path,p=c.submission,v=c.error;if(v)_e(e,t,v);else{var m=st(u,f);j=!0===(r&&r.preventScrollReset),p&&tt(p.formMethod)?function(e,t,n,r,i,a){he.apply(this,arguments)}(e,t,f,m,u,p):(Y.set(e,{routeId:t,path:f}),function(e,t,n,r,i,a){fe.apply(this,arguments)}(e,t,f,m,u,p))}}else _e(e,t,Be(404,{pathname:o}))},revalidate:function(){ge(),ee({revalidation:"loading"}),"submitting"!==P.navigation.state&&("idle"!==P.navigation.state?ae(D||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation}):ae(P.historyAction,P.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},encodeLocation:function(t){return e.history.encodeLocation(t)},getFetcher:de,deleteFetcher:Ee,dispose:function(){f&&f(),p.clear(),I&&I.abort(),P.fetchers.forEach((function(e,t){return Ee(t)})),P.blockers.forEach((function(e,t){return De(t)}))},getBlocker:function(e,t){var n=P.blockers.get(e)||xe;return X.get(e)!==t&&X.set(e,t),n},deleteBlocker:De,_internalFetchControllers:B,_internalActiveDeferreds:J,_internalSetRoutes:function(e){s=V(e,n,void 0,u={})}},E}Symbol("deferred");function Ie(e,t,n,r,i,a,o){var s,u;if(null!=a&&"path"!==o){s=[];var l,c=N(t);try{for(c.s();!(l=c.n()).done;){var d=l.value;if(s.push(d),d.route.id===a){u=d;break}}}catch(f){c.e(f)}finally{c.f()}}else s=t,u=t[t.length-1];var h=se(i||".",oe(s).map((function(e){return e.pathnameBase})),ie(e.pathname,n)||e.pathname,"path"===o);return null==i&&(h.search=e.search,h.hash=e.hash),null!=i&&""!==i&&"."!==i||!u||!u.route.index||ot(h.search)||(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(h.pathname="/"===h.pathname?n:ue([n,h.pathname])),U(h)}function Te(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!et(r.formMethod))return{path:n,error:Be(405,{method:r.formMethod})};var i,a,o=function(){return{path:n,error:Be(400,{type:"invalid-body"})}},s=r.formMethod||"get",u=e?s.toUpperCase():s.toLowerCase(),l=Ge(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!tt(u))return o();var d="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((function(e,t){var n=c(t,2);return""+e+n[0]+"="+n[1]+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:u,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}if("application/json"===r.formEncType){if(!tt(u))return o();try{var h="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:u,formAction:l,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch(v){return o()}}}if(L("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=Fe(r.formData),a=r.formData;else if(r.body instanceof FormData)i=Fe(r.body),a=r.body;else if(r.body instanceof URLSearchParams)a=Ue(i=r.body);else if(null==r.body)i=new URLSearchParams,a=new FormData;else try{a=Ue(i=new URLSearchParams(r.body))}catch(v){return o()}var f={formMethod:u,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(tt(f.formMethod))return{path:n,submission:f};var p=z(n);return t&&p.search&&ot(p.search)&&i.append("index",""),p.search="?"+i,{path:U(p),submission:f}}function Pe(e,t){var n=e;if(t){var r=e.findIndex((function(e){return e.route.id===t}));r>=0&&(n=e.slice(0,r))}return n}function Ne(e,t,n,r,i,a,o,s,u,l,c,d,h,f){var p=f?Object.values(f)[0]:h?Object.values(h)[0]:void 0,v=e.createURL(t.location),m=e.createURL(i),y=f?Object.keys(f)[0]:void 0,g=Pe(n,y).filter((function(e,n){if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){var r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||o.some((function(t){return t===e.route.id})))return!0;var i=t.matches[n],s=e;return Oe(e,O({currentUrl:v,currentParams:i.params,nextUrl:m,nextParams:s.params},r,{actionResult:p,defaultShouldRevalidate:a||v.pathname+v.search===m.pathname+m.search||v.search!==m.search||Re(i,s)}))})),_=[];return u.forEach((function(e,i){if(n.some((function(t){return t.route.id===e.routeId}))){var o=H(c,e.path,d);if(o){var u=t.fetchers.get(i),h=st(o,e.path);!l.has(i)&&(!!s.includes(i)||(u&&"idle"!==u.state&&void 0===u.data?a:Oe(h,O({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:a}))))&&_.push({key:i,routeId:e.routeId,path:e.path,matches:o,match:h,controller:new AbortController})}else _.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null})}})),[g,_]}function Re(e,t){var n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Oe(e,t){if(e.route.shouldRevalidate){var n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function Ae(e,t,n){return De.apply(this,arguments)}function De(){return De=C(w().mark((function e(t,n,r){var i,a,o,s,u,l;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.lazy){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.lazy();case 4:if(i=e.sent,t.lazy){e.next=7;break}return e.abrupt("return");case 7:for(s in L(a=r[t.id],"No route found in manifest"),o={},i)u=a[s],M(!(l=void 0!==u&&"hasErrorBoundary"!==s),'Route "'+a.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),l||W.has(s)||(o[s]=i[s]);Object.assign(a,o),Object.assign(a,O({},n(a),{lazy:void 0}));case 13:case"end":return e.stop()}}),e)}))),De.apply(this,arguments)}function Le(e,t,n,r,i,a,o,s){return Me.apply(this,arguments)}function Me(){return Me=C(w().mark((function e(t,n,r,i,a,o,s,u){var l,c,d,h,f,p,v,m,y,g,_,k,b,x,C,S,E,I;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===u&&(u={}),h=function(e){var t,i=new Promise((function(e,n){return t=n}));return d=function(){return t()},n.signal.addEventListener("abort",d),Promise.race([e({request:n,params:r.params,context:u.requestContext}),i])},e.prev=2,f=r.route[t],!r.route.lazy){e.next=30;break}if(!f){e.next=12;break}return e.next=8,Promise.all([h(f),Ae(r.route,o,a)]);case 8:p=e.sent,c=p[0],e.next=28;break;case 12:return e.next=14,Ae(r.route,o,a);case 14:if(!(f=r.route[t])){e.next=21;break}return e.next=18,h(f);case 18:c=e.sent,e.next=28;break;case 21:if("action"!==t){e.next=27;break}throw v=new URL(n.url),m=v.pathname+v.search,Be(405,{method:n.method,pathname:m,routeId:r.route.id});case 27:return e.abrupt("return",{type:A.data,data:void 0});case 28:e.next=39;break;case 30:if(f){e.next=36;break}throw y=new URL(n.url),Be(404,{pathname:y.pathname+y.search});case 36:return e.next=38,h(f);case 38:c=e.sent;case 39:L(void 0!==c,"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`."),e.next=46;break;case 42:e.prev=42,e.t0=e.catch(2),l=A.error,c=e.t0;case 46:return e.prev=46,d&&n.signal.removeEventListener("abort",d),e.finish(46);case 49:if(!Ze(c)){e.next=74;break}if(g=c.status,!_e.has(g)){e.next=59;break}if(L(_=c.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),Ce.test(_)?u.isStaticRequest||(k=new URL(n.url),b=_.startsWith("//")?new URL(k.protocol+_):new URL(_),x=null!=ie(b.pathname,s),b.origin===k.origin&&x&&(_=b.pathname+b.search+b.hash)):_=Ie(new URL(n.url),i.slice(0,i.indexOf(r)+1),s,!0,_),!u.isStaticRequest){e.next=58;break}throw c.headers.set("Location",_),c;case 58:return e.abrupt("return",{type:A.redirect,status:g,location:_,revalidate:null!==c.headers.get("X-Remix-Revalidate")});case 59:if(!u.isRouteRequest){e.next=61;break}throw{type:l||A.data,response:c};case 61:if(!(S=c.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(S)){e.next=68;break}return e.next=65,c.json();case 65:C=e.sent,e.next=71;break;case 68:return e.next=70,c.text();case 70:C=e.sent;case 71:if(l!==A.error){e.next=73;break}return e.abrupt("return",{type:l,error:new fe(g,c.statusText,C),headers:c.headers});case 73:return e.abrupt("return",{type:A.data,data:C,statusCode:c.status,headers:c.headers});case 74:if(l!==A.error){e.next=76;break}return e.abrupt("return",{type:l,error:c});case 76:if(!Xe(c)){e.next=78;break}return e.abrupt("return",{type:A.deferred,deferredData:c,statusCode:null==(E=c.init)?void 0:E.status,headers:(null==(I=c.init)?void 0:I.headers)&&new Headers(c.init.headers)});case 78:return e.abrupt("return",{type:A.data,data:c});case 79:case"end":return e.stop()}}),e,null,[[2,42,46,49]])}))),Me.apply(this,arguments)}function je(e,t,n,r){var i=e.createURL(Ge(t)).toString(),a={signal:n};if(r&&tt(r.formMethod)){var o=r.formMethod,s=r.formEncType;a.method=o.toUpperCase(),"application/json"===s?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(r.json)):"text/plain"===s?a.body=r.text:"application/x-www-form-urlencoded"===s&&r.formData?a.body=Fe(r.formData):a.body=r.formData}return new Request(i,a)}function Fe(e){var t,n=new URLSearchParams,r=N(e.entries());try{for(r.s();!(t=r.n()).done;){var i=c(t.value,2),a=i[0],o=i[1];n.append(a,"string"===typeof o?o:o.name)}}catch(s){r.e(s)}finally{r.f()}return n}function Ue(e){var t,n=new FormData,r=N(e.entries());try{for(r.s();!(t=r.n()).done;){var i=c(t.value,2),a=i[0],o=i[1];n.append(a,o)}}catch(s){r.e(s)}finally{r.f()}return n}function ze(e,t,n,r,i){var a,o={},s=null,u=!1,l={};return n.forEach((function(n,c){var d=t[c].route.id;if(L(!Je(n),"Cannot handle redirect results in processLoaderData"),Ye(n)){var h=Ve(e,d),f=n.error;r&&(f=Object.values(r)[0],r=void 0),null==(s=s||{})[h.route.id]&&(s[h.route.id]=f),o[d]=void 0,u||(u=!0,a=pe(n.error)?n.error.status:500),n.headers&&(l[d]=n.headers)}else $e(n)?(i.set(d,n.deferredData),o[d]=n.deferredData.data):o[d]=n.data,null==n.statusCode||200===n.statusCode||u||(a=n.statusCode),n.headers&&(l[d]=n.headers)})),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:l}}function qe(e,t,n,r,i,a,o,s){for(var u=ze(t,n,r,i,s),l=u.loaderData,c=u.errors,d=0;d<a.length;d++){var h=a[d],f=h.key,p=h.match,v=h.controller;L(void 0!==o&&void 0!==o[d],"Did not find corresponding fetcher result");var m=o[d];if(!v||!v.signal.aborted)if(Ye(m)){var y=Ve(e.matches,null==p?void 0:p.route.id);c&&c[y.route.id]||(c=O({},c,S({},y.route.id,m.error))),e.fetchers.delete(f)}else if(Je(m))L(!1,"Unhandled fetcher revalidation redirect");else if($e(m))L(!1,"Unhandled fetcher deferred data");else{var g=ft(m.data);e.fetchers.set(f,g)}}return{loaderData:l,errors:c}}function We(e,t,n,r){var i,a=O({},t),o=N(n);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.route.id;if(t.hasOwnProperty(u)?void 0!==t[u]&&(a[u]=t[u]):void 0!==e[u]&&s.route.loader&&(a[u]=e[u]),r&&r.hasOwnProperty(u))break}}catch(l){o.e(l)}finally{o.f()}return a}function Ve(e,t){return(t?e.slice(0,e.findIndex((function(e){return e.route.id===t}))+1):R(e)).reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function He(e){var t=e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Be(e,t){var n=void 0===t?{}:t,r=n.pathname,i=n.routeId,a=n.method,o=n.type,s="Unknown Server Error",u="Unknown @remix-run/router error";return 400===e?(s="Bad Request",a&&r&&i?u="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===o?u="defer() is not supported in actions":"invalid-body"===o&&(u="Unable to encode submission body")):403===e?(s="Forbidden",u='Route "'+i+'" does not match URL "'+r+'"'):404===e?(s="Not Found",u='No route matches URL "'+r+'"'):405===e&&(s="Method Not Allowed",a&&r&&i?u="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':a&&(u='Invalid request method "'+a.toUpperCase()+'"')),new fe(e||500,s,new Error(u),!0)}function Ke(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(Je(n))return{result:n,idx:t}}}function Ge(e){return U(O({},"string"===typeof e?z(e):e,{hash:""}))}function Qe(e,t){return e.pathname===t.pathname&&e.search===t.search&&(""===e.hash?""!==t.hash:e.hash===t.hash||""!==t.hash)}function $e(e){return e.type===A.deferred}function Ye(e){return e.type===A.error}function Je(e){return(e&&e.type)===A.redirect}function Xe(e){var t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}function Ze(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function et(e){return ge.has(e.toLowerCase())}function tt(e){return me.has(e.toLowerCase())}function nt(e,t,n,r,i,a){return rt.apply(this,arguments)}function rt(){return(rt=C(w().mark((function e(t,n,r,i,a,o){var s,u;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=w().mark((function e(s){var u,l,c,d,h;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r[s],l=n[s]){e.next=4;break}return e.abrupt("return","continue");case 4:if(c=t.find((function(e){return e.route.id===l.route.id})),d=null!=c&&!Re(c,l)&&void 0!==(o&&o[l.route.id]),!$e(u)||!a&&!d){e.next=11;break}return L(h=i[s],"Expected an AbortSignal for revalidating fetcher deferred result"),e.next=11,it(u,h,a).then((function(e){e&&(r[s]=e||r[s])}));case 11:case"end":return e.stop()}}),e)})),u=0;case 2:if(!(u<r.length)){e.next=10;break}return e.delegateYield(s(u),"t0",4);case 4:if("continue"!==e.t0){e.next=7;break}return e.abrupt("continue",7);case 7:u++,e.next=2;break;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e,t,n){return at.apply(this,arguments)}function at(){return at=C(w().mark((function e(t,n,r){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:A.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:A.error,error:e.t0});case 14:return e.abrupt("return",{type:A.data,data:t.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])}))),at.apply(this,arguments)}function ot(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function st(e,t){var n="string"===typeof t?z(t).search:t.search;if(e[e.length-1].route.index&&ot(n||""))return e[e.length-1];var r=oe(e);return r[r.length-1]}function ut(e){var t=e.formMethod,n=e.formAction,r=e.formEncType,i=e.text,a=e.formData,o=e.json;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=a?{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0}:void 0!==o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}:void 0}function lt(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ct(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function dt(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function ht(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0," _hasFetcherDoneAnything ":!0}}function ft(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pt.apply(this,arguments)}var vt=r.createContext(null);var mt=r.createContext(null);var yt=r.createContext(null);var gt=r.createContext(null);var _t=r.createContext(null);var kt=r.createContext({outlet:null,matches:[],isDataRoute:!1});var bt=r.createContext(null);function wt(){return null!=r.useContext(_t)}function xt(){return wt()||L(!1),r.useContext(_t).location}function Ct(e){r.useContext(gt).static||r.useLayoutEffect(e)}function St(){return r.useContext(kt).isDataRoute?function(){var e=Mt(Nt.UseNavigateStable).router,t=Ft(Rt.UseNavigateStable),n=r.useRef(!1);Ct((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,pt({fromRouteId:t},i)))}),[e,t]);return i}():function(){wt()||L(!1);var e=r.useContext(vt),t=r.useContext(gt),n=t.basename,i=t.navigator,a=r.useContext(kt).matches,o=xt().pathname,s=JSON.stringify(oe(a).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);return Ct((function(){u.current=!0})),r.useCallback((function(t,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof t){var a=se(t,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ue([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,s,o,e])}()}var Et=r.createContext(null);function It(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(kt).matches,a=xt().pathname,o=JSON.stringify(oe(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return se(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Tt(e,n,i){wt()||L(!1);var a,o=r.useContext(gt).navigator,s=r.useContext(kt).matches,u=s[s.length-1],l=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),d=(u&&u.route,xt());if(n){var h,f="string"===typeof n?z(n):n;"/"===c||(null==(h=f.pathname)?void 0:h.startsWith(c))||L(!1),a=f}else a=d;var p=a.pathname||"/",v=H(e,{pathname:"/"===c?p:p.slice(c.length)||"/"});var m=Lt(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ue([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ue([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return n&&m?r.createElement(_t.Provider,{value:{location:pt({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function Pt(){var e=function(){var e,t=r.useContext(bt),n=jt(Rt.UseRouteError),i=Ft(Rt.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=pe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Nt,Rt,Ot=r.createElement(Pt,null),At=function(e){y(n,e);var t=b(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return v(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(kt.Provider,{value:this.props.routeContext},r.createElement(bt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Dt(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(vt);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(kt.Provider,{value:t},i)}function Lt(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||L(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,l=null;n&&(l=i.route.errorElement||Ot);var c=t.concat(o.slice(0,a+1)),d=function(){var t;return t=u?l:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Dt,{match:i,routeContext:{outlet:e,matches:c,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(At,{location:n.location,revalidation:n.revalidation,component:l,error:u,children:d(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):d()}),null)}function Mt(e){var t=r.useContext(vt);return t||L(!1),t}function jt(e){var t=r.useContext(mt);return t||L(!1),t}function Ft(e){var t=function(e){var t=r.useContext(kt);return t||L(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||L(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Nt||(Nt={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Rt||(Rt={}));var Ut,zt=i.startTransition;function qt(e){var t=e.fallbackElement,n=e.router,i=e.future,a=c(r.useState(n.state),2),o=a[0],s=a[1],u=(i||{}).v7_startTransition,l=r.useCallback((function(e){u&&zt?zt((function(){return s(e)})):s(e)}),[s,u]);r.useLayoutEffect((function(){return n.subscribe(l)}),[n,l]);var d=r.useMemo((function(){return{createHref:n.createHref,encodeLocation:n.encodeLocation,go:function(e){return n.navigate(e)},push:function(e,t,r){return n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})},replace:function(e,t,r){return n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})}}}),[n]),h=n.basename||"/",f=r.useMemo((function(){return{router:n,navigator:d,static:!1,basename:h}}),[n,d,h]);return r.createElement(r.Fragment,null,r.createElement(vt.Provider,{value:f},r.createElement(mt.Provider,{value:o},r.createElement(Ht,{basename:h,location:o.location,navigationType:o.historyAction,navigator:d},o.initialized?r.createElement(Wt,{routes:n.routes,state:o}):t))),null)}function Wt(e){return Tt(e.routes,void 0,e.state)}function Vt(e){return function(e){var t=r.useContext(kt).outlet;return t?r.createElement(Et.Provider,{value:e},t):t}(e.context)}function Ht(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,l=void 0===u?t.Pop:u,c=e.navigator,d=e.static,h=void 0!==d&&d;wt()&&L(!1);var f=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:f,navigator:c,static:h}}),[f,c,h]);"string"===typeof s&&(s=z(s));var v=s,m=v.pathname,y=void 0===m?"/":m,g=v.search,_=void 0===g?"":g,k=v.hash,b=void 0===k?"":k,w=v.state,x=void 0===w?null:w,C=v.key,S=void 0===C?"default":C,E=r.useMemo((function(){var e=ie(y,f);return null==e?null:{location:{pathname:e,search:_,hash:b,state:x,key:S},navigationType:l}}),[f,y,_,b,x,S,l]);return null==E?null:r.createElement(gt.Provider,{value:p},r.createElement(_t.Provider,{children:o,value:E}))}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ut||(Ut={}));var Bt=new Promise((function(){}));r.Component;function Kt(e){var t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:r.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:r.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function Gt(){return Gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gt.apply(this,arguments)}function Qt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var $t=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Yt=["aria-current","caseSensitive","className","end","style","to","children"];function Jt(){var e,t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Gt({},t,{errors:Xt(t.errors)})),t}function Xt(e){if(!e)return null;for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=c(r[n],2),a=i[0],o=i[1];if(o&&"RouteErrorResponse"===o.__type)t[a]=new fe(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){if(o.__subType){var s=window[o.__subType];if("function"===typeof s)try{var u=new s(o.message);u.stack="",t[a]=u}catch(d){}}if(null==t[a]){var l=new Error(o.message);l.stack="",t[a]=l}}else t[a]=o}return t}i.startTransition;var Zt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,en=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,l=e.target,c=e.to,d=e.preventScrollReset,h=Qt(e,$t),f=r.useContext(gt).basename,p=!1;if("string"===typeof c&&en.test(c)&&(n=c,Zt))try{var v=new URL(window.location.href),m=c.startsWith("//")?new URL(v.protocol+c):new URL(c),y=ie(m.pathname,f);m.origin===v.origin&&null!=y?c=y+m.search+m.hash:p=!0}catch(k){}var g=function(e,t){var n=(void 0===t?{}:t).relative;wt()||L(!1);var i=r.useContext(gt),a=i.basename,o=i.navigator,s=It(e,{relative:n}),u=s.hash,l=s.pathname,c=s.search,d=l;return"/"!==a&&(d="/"===l?a:ue([a,l])),o.createHref({pathname:d,search:c,hash:u})}(c,{relative:a}),_=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,l=St(),c=xt(),d=It(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:U(c)===U(d);l(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[c,l,d,a,o,i,e,s,u])}(c,{replace:s,state:u,target:l,preventScrollReset:d,relative:a});return r.createElement("a",Gt({},h,{href:n||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||_(e)},ref:t,target:l}))}));var nn=r.forwardRef((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.caseSensitive,o=void 0!==a&&a,s=e.className,u=void 0===s?"":s,l=e.end,c=void 0!==l&&l,d=e.style,h=e.to,f=e.children,p=Qt(e,Yt),v=It(h,{relative:p.relative}),m=xt(),y=r.useContext(mt),g=r.useContext(gt).navigator,_=g.encodeLocation?g.encodeLocation(v).pathname:v.pathname,k=m.pathname,b=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(k=k.toLowerCase(),b=b?b.toLowerCase():null,_=_.toLowerCase());var w,x=k===_||!c&&k.startsWith(_)&&"/"===k.charAt(_.length),C=null!=b&&(b===_||!c&&b.startsWith(_)&&"/"===b.charAt(_.length)),S=x?i:void 0;w="function"===typeof u?u({isActive:x,isPending:C}):[u,x?"active":null,C?"pending":null].filter(Boolean).join(" ");var E="function"===typeof d?d({isActive:x,isPending:C}):d;return r.createElement(tn,Gt({},p,{"aria-current":S,className:w,ref:t,style:E,to:h}),"function"===typeof f?f({isActive:x,isPending:C}):f)}));var rn,an;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(rn||(rn={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(an||(an={}));var on={header:"AdminDashboardNav_header__ZhYQm","header-basic":"AdminDashboardNav_header-basic__fWLb7",info:"AdminDashboardNav_info__9jFlN",list:"AdminDashboardNav_list__-VQe0",active:"AdminDashboardNav_active__iMm-I"},sn=!1,un=!1,ln="${JSCORE_VERSION}",cn=function(e,t){if(!e)throw dn(t)},dn=function(e){return new Error("Firebase Database ("+ln+") INTERNAL ASSERT FAILED: "+e)},hn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},fn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,d=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(hn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new pn;var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var d=s<<6&192|u;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},pn=function(e){y(n,e);var t=b(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return v(n)}(I(Error)),vn=function(e){var t=hn(e);return fn.encodeByteArray(t,!0)},mn=function(e){return vn(e).replace(/\./g,"")},yn=function(e){try{return fn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function gn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=gn(e[n],t[n]));return e}var _n=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},kn=function(){try{return _n()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&yn(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},bn=function(){var e;return null===(e=kn())||void 0===e?void 0:e.config},wn=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return v(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function xn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Cn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function Sn(){var e,t=null===(e=kn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function En(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function In(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Tn(){var e=xn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Pn(){return!0===sn||!0===un}function Nn(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Rn=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(k(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(k(a),On.prototype.create),a}return v(n)}(I(Error)),On=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return v(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(An,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Rn(n,a,t)}}]),e}();var An=/\{\$([^}]+)}/g;function Dn(e){return JSON.parse(e)}function Ln(e){return JSON.stringify(e)}var Mn=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Dn(yn(a[0])||""),n=Dn(yn(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function jn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Fn(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Un(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function zn(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function qn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Wn(s)&&Wn(u)){if(!qn(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var d=c[l];if(!n.includes(d))return!1}return!0}function Wn(e){return null!==e&&"object"===typeof e}function Vn(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Hn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Bn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Kn=function(){function e(){d(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return v(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],d=this.chain_[2],h=this.chain_[3],f=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^c&(d^h),u=1518500249):(s=c^d^h,u=1859775393):p<60?(s=c&d|h&(c|d),u=2400959708):(s=c^d^h,u=3395469782);var v=(l<<5|l>>>27)+s+f+u+n[p]&4294967295;f=h,h=d,d=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Gn(e,t){var n=new Qn(e,t);return n.subscribe.bind(n)}var Qn=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return v(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=N(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=$n),void 0===r.error&&(r.error=$n),void 0===r.complete&&(r.complete=$n);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function $n(){}var Yn=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Jn(e,t){return"".concat(e," failed: ").concat(t," argument ")}function Xn(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Jn(e,t)+"must be a valid function.")}function Zn(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Jn(e,t)+"must be a valid context object.")}var er=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function tr(e){return e&&e._delegate?e._delegate:e}var nr=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return v(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),rr="[DEFAULT]",ir=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return v(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new wn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:rr})}catch(u){}var t,n=N(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=C(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(R(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),R(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=N(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===rr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr;return this.component?this.component.multipleInstances?e:rr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ar,or,sr=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return v(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ir(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ur=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(or||(or={}));var lr={debug:or.DEBUG,verbose:or.VERBOSE,info:or.INFO,warn:or.WARN,error:or.ERROR,silent:or.SILENT},cr=or.INFO,dr=(S(ar={},or.DEBUG,"log"),S(ar,or.VERBOSE,"log"),S(ar,or.INFO,"info"),S(ar,or.WARN,"warn"),S(ar,or.ERROR,"error"),ar),hr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=dr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},fr=function(){function e(t){d(this,e),this.name=t,this._logLevel=cr,this._logHandler=hr,this._userLogHandler=null,ur.push(this)}return v(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in or))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?lr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,or.DEBUG].concat(t)),this._logHandler.apply(this,[this,or.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,or.VERBOSE].concat(t)),this._logHandler.apply(this,[this,or.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,or.INFO].concat(t)),this._logHandler.apply(this,[this,or.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,or.WARN].concat(t)),this._logHandler.apply(this,[this,or.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,or.ERROR].concat(t)),this._logHandler.apply(this,[this,or.ERROR].concat(t))}}]),e}();function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mr,yr,gr=function(e,t){return t.some((function(t){return e instanceof t}))};var _r=new WeakMap,kr=new WeakMap,br=new WeakMap,wr=new WeakMap,xr=new WeakMap;var Cr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return kr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||br.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Sr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(yr||(yr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Tr(this),n),Ir(_r.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ir(e.apply(Tr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Tr(this),t].concat(r));return br.set(a,t.sort?t.sort():[t]),Ir(a)}}function Er(e){return"function"===typeof e?Sr(e):(e instanceof IDBTransaction&&function(e){if(!kr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));kr.set(e,t)}}(e),gr(e,mr||(mr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Cr):e)}function Ir(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ir(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&_r.set(t,e)})).catch((function(){})),xr.set(t,e),t}(e);if(wr.has(e))return wr.get(e);var t=Er(e);return t!==e&&(wr.set(e,t),xr.set(t,e)),t}var Tr=function(e){return xr.get(e)};var Pr,Nr,Rr=["get","getKey","getAll","getAllKeys","count"],Or=["put","add","delete","clear"],Ar=new Map;function Dr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ar.get(t))return Ar.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Or.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Rr.includes(n))){var a=function(){var e=C(w().mark((function e(t){var a,o,s,u,l,c,d=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=d.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=d[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ar.set(t,a),a}}}Cr=function(e){return vr(vr({},e),{},{get:function(t,n,r){return Dr(t,n)||e.get(t,n,r)},has:function(t,n){return!!Dr(t,n)||e.has(t,n)}})}(Cr);var Lr=function(){function e(t){d(this,e),this.container=t}return v(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Mr="@firebase/app",jr="0.9.15",Fr=new fr("@firebase/app"),Ur="[DEFAULT]",zr=(S(Pr={},Mr,"fire-core"),S(Pr,"@firebase/app-compat","fire-core-compat"),S(Pr,"@firebase/analytics","fire-analytics"),S(Pr,"@firebase/analytics-compat","fire-analytics-compat"),S(Pr,"@firebase/app-check","fire-app-check"),S(Pr,"@firebase/app-check-compat","fire-app-check-compat"),S(Pr,"@firebase/auth","fire-auth"),S(Pr,"@firebase/auth-compat","fire-auth-compat"),S(Pr,"@firebase/database","fire-rtdb"),S(Pr,"@firebase/database-compat","fire-rtdb-compat"),S(Pr,"@firebase/functions","fire-fn"),S(Pr,"@firebase/functions-compat","fire-fn-compat"),S(Pr,"@firebase/installations","fire-iid"),S(Pr,"@firebase/installations-compat","fire-iid-compat"),S(Pr,"@firebase/messaging","fire-fcm"),S(Pr,"@firebase/messaging-compat","fire-fcm-compat"),S(Pr,"@firebase/performance","fire-perf"),S(Pr,"@firebase/performance-compat","fire-perf-compat"),S(Pr,"@firebase/remote-config","fire-rc"),S(Pr,"@firebase/remote-config-compat","fire-rc-compat"),S(Pr,"@firebase/storage","fire-gcs"),S(Pr,"@firebase/storage-compat","fire-gcs-compat"),S(Pr,"@firebase/firestore","fire-fst"),S(Pr,"@firebase/firestore-compat","fire-fst-compat"),S(Pr,"fire-js","fire-js"),S(Pr,"firebase","fire-js-all"),Pr),qr=new Map,Wr=new Map;function Vr(e,t){try{e.container.addComponent(t)}catch(n){Fr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Hr(e,t){e.container.addOrOverwriteComponent(t)}function Br(e){var t=e.name;if(Wr.has(t))return Fr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Wr.set(t,e);var n,r=N(qr.values());try{for(r.s();!(n=r.n()).done;){Vr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Kr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Gr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ur;Kr(e,t).clearInstance(n)}function Qr(){Wr.clear()}var $r=(S(Nr={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),S(Nr,"bad-app-name","Illegal App name: '{$appName}"),S(Nr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),S(Nr,"app-deleted","Firebase App named '{$appName}' already deleted"),S(Nr,"no-options","Need to provide options, when not being deployed to hosting via source."),S(Nr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),S(Nr,"invalid-log-argument","First argument to `onLog` must be null or a function."),S(Nr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),S(Nr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),S(Nr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),S(Nr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Nr),Yr=new On("app","Firebase",$r),Jr=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nr("app",(function(){return i}),"PUBLIC"))}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}]),e}(),Xr="10.1.0";function Zr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Ur,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Yr.create("bad-app-name",{appName:String(i)});if(n||(n=bn()),!n)throw Yr.create("no-options");var a=qr.get(i);if(a){if(qn(n,a.options)&&qn(r,a.config))return a;throw Yr.create("duplicate-app",{appName:i})}var o,s=new sr(i),u=N(Wr.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s.addComponent(l)}}catch(d){u.e(d)}finally{u.f()}var c=new Jr(n,r,s);return qr.set(i,c),c}function ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur,t=qr.get(e);if(!t&&e===Ur&&bn())return Zr();if(!t)throw Yr.create("no-app",{appName:e});return t}function ti(){return Array.from(qr.values())}function ni(e){return ri.apply(this,arguments)}function ri(){return ri=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!qr.has(n)){e.next=6;break}return qr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e,t,n){var r,i=null!==(r=zr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Fr.warn(s.join(" "))}Br(new nr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ai(e,t){if(null!==e&&"function"!==typeof e)throw Yr.create("invalid-log-argument");!function(e,t){var n,r=N(ur);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=lr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:or[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function oi(e){var t;t=e,ur.forEach((function(e){e.setLogLevel(t)}))}var si="firebase-heartbeat-database",ui=1,li="firebase-heartbeat-store",ci=null;function di(){return ci||(ci=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Ir(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Ir(s.result),e.oldVersion,e.newVersion,Ir(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(si,ui,{upgrade:function(e,t){if(0===t)e.createObjectStore(li)}}).catch((function(e){throw Yr.create("idb-open",{originalErrorMessage:e.message})}))),ci}function hi(e){return fi.apply(this,arguments)}function fi(){return fi=C(w().mark((function e(t){var n,r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,di();case 3:return n=e.sent,e.next=6,n.transaction(li).objectStore(li).get(mi(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Rn?Fr.warn(e.t0.message):(i=Yr.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Fr.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),fi.apply(this,arguments)}function pi(e,t){return vi.apply(this,arguments)}function vi(){return vi=C(w().mark((function e(t,n){var r,i,a,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,di();case 3:return r=e.sent,i=r.transaction(li,"readwrite"),a=i.objectStore(li),e.next=8,a.put(n,mi(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Rn?Fr.warn(e.t0.message):(o=Yr.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Fr.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),vi.apply(this,arguments)}function mi(e){return"".concat(e.name,"!").concat(e.options.appId)}var yi=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new wi(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return v(e,[{key:"triggerHeartbeat",value:function(){var e=C(w().mark((function e(){var t,n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=gi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=C(w().mark((function e(){var t,n,r,i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=gi(),n=_i(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=mn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gi(){return(new Date).toISOString().substring(0,10)}function _i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=N(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),xi(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),xi(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ki,bi,wi=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return v(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Sh){t(Sh)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=C(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,hi(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=C(w().mark((function e(t){var n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=C(w().mark((function e(t){var n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(R(r.heartbeats),R(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function xi(e){return mn(JSON.stringify({version:2,heartbeats:e})).length}ki="",Br(new nr("platform-logger",(function(e){return new Lr(e)}),"PRIVATE")),Br(new nr("heartbeat",(function(e){return new yi(e)}),"PRIVATE")),ii(Mr,jr,ki),ii(Mr,jr,"esm2017"),ii("fire-js","");var Ci=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,Vr(t,new nr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return v(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ni(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ur;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ur;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Vr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Hr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Si=(S(bi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),S(bi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),bi),Ei=new On("app-compat","Firebase",Si);var Ii=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Zr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(jn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ii,setLogLevel:oi,onLog:ai,apps:null,SDK_VERSION:Xr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Br(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ei.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&gn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!jn(n,e=e||Ur))throw Ei.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ci);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){gn(n,e)},createSubscribe:Gn,ErrorFactory:On,deepExtend:gn}),n}(),Ti=new fr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ti.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Pi=self.firebase.SDK_VERSION;Pi&&Pi.indexOf("LITE")>=0&&Ti.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ni=Ii;!function(e){ii("@firebase/app-compat","0.2.15",e)}();function Ri(){return Ri="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ri.apply(this,arguments)}Ni.registerVersion("firebase","10.1.0","app-compat");function Oi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Ai,Di={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Li="EMAIL_SIGNIN",Mi="PASSWORD_RESET",ji="RECOVER_EMAIL",Fi="REVERT_SECOND_FACTOR_ADDITION",Ui="VERIFY_AND_CHANGE_EMAIL",zi="VERIFY_EMAIL";function qi(){return S({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Wi=function(){var e;return S(e={},"admin-restricted-operation","This operation is restricted to administrators only."),S(e,"argument-error",""),S(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),S(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),S(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),S(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),S(e,"cordova-not-ready","Cordova framework is not ready."),S(e,"cors-unsupported","This browser is not supported."),S(e,"credential-already-in-use","This credential is already associated with a different user account."),S(e,"custom-token-mismatch","The custom token corresponds to a different audience."),S(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),S(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),S(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),S(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),S(e,"email-already-in-use","The email address is already in use by another account."),S(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),S(e,"expired-action-code","The action code has expired."),S(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),S(e,"internal-error","An internal AuthError has occurred."),S(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),S(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),S(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),S(e,"invalid-auth-event","An internal AuthError has occurred."),S(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),S(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),S(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),S(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),S(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),S(e,"invalid-email","The email address is badly formatted."),S(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),S(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),S(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),S(e,"invalid-credential","The supplied auth credential is malformed or has expired."),S(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),S(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),S(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),S(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),S(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),S(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),S(e,"wrong-password","The password is invalid or the user does not have a password."),S(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),S(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),S(e,"invalid-provider-id","The specified provider ID is invalid."),S(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),S(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),S(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),S(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),S(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),S(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),S(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),S(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),S(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),S(e,"missing-continue-uri","A continue URL must be provided in the request."),S(e,"missing-iframe-start","An internal AuthError has occurred."),S(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),S(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),S(e,"missing-password","A non-empty password must be provided"),S(e,"missing-multi-factor-info","No second factor identifier is provided."),S(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),S(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),S(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),S(e,"app-deleted","This instance of FirebaseApp has been deleted."),S(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),S(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),S(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),S(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),S(e,"no-auth-event","An internal AuthError has occurred."),S(e,"no-such-provider","User was not linked to an account with the given provider."),S(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),S(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),S(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),S(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),S(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),S(e,"provider-already-linked","User can only be linked to one identity for the given provider."),S(e,"quota-exceeded","The project's quota for this operation has been exceeded."),S(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),S(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),S(e,"rejected-credential","The request contains malformed or mismatching credentials."),S(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),S(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),S(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),S(e,"timeout","The operation has timed out."),S(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),S(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),S(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),S(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),S(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),S(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),S(e,"unverified-email","The operation requires a verified email."),S(e,"user-cancelled","The user did not grant your application the permissions it requested."),S(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),S(e,"user-disabled","The user account has been disabled by an administrator."),S(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),S(e,"user-signed-out",""),S(e,"weak-password","The password must be 6 characters long or more."),S(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),S(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),S(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),S(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),S(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),S(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),S(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),S(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),S(e,"invalid-req-type","Invalid request parameters."),S(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},Vi=qi,Hi=new On("auth","Firebase",qi()),Bi=new fr("@firebase/auth");function Ki(e){if(Bi.logLevel<=or.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Bi.warn.apply(Bi,["Auth (".concat(Xr,"): ").concat(e)].concat(n))}}function Gi(e){if(Bi.logLevel<=or.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Bi.error.apply(Bi,["Auth (".concat(Xr,"): ").concat(e)].concat(n))}}function Qi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Xi.apply(void 0,[e].concat(n))}function $i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Xi.apply(void 0,[e].concat(n))}function Yi(e,t,n){var r=Object.assign(Object.assign({},Vi()),S({},t,n));return new On("auth","Firebase",r).create(t,{appName:e.name})}function Ji(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Qi(e,"argument-error"),Yi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Xi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=R(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(R(o)))}return Hi.create.apply(Hi,[e].concat(n))}function Zi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Xi.apply(void 0,[t].concat(r))}}function ea(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Gi(t),new Error(t)}function ta(e,t){e||ea(t)}function na(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ra(){return"http:"===ia()||"https:"===ia()}function ia(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var aa=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,ta(n>t,"Short delay should be less than long delay!"),this.isMobile=Cn()||In()}return v(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ra()||En()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function oa(e,t){ta(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var sa=function(){function e(){d(this,e)}return v(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ua=(S(Ai={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),S(Ai,"MISSING_CUSTOM_TOKEN","internal-error"),S(Ai,"INVALID_IDENTIFIER","invalid-email"),S(Ai,"MISSING_CONTINUE_URI","internal-error"),S(Ai,"INVALID_PASSWORD","wrong-password"),S(Ai,"MISSING_PASSWORD","missing-password"),S(Ai,"EMAIL_EXISTS","email-already-in-use"),S(Ai,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),S(Ai,"INVALID_IDP_RESPONSE","invalid-credential"),S(Ai,"INVALID_PENDING_TOKEN","invalid-credential"),S(Ai,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),S(Ai,"MISSING_REQ_TYPE","internal-error"),S(Ai,"EMAIL_NOT_FOUND","user-not-found"),S(Ai,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),S(Ai,"EXPIRED_OOB_CODE","expired-action-code"),S(Ai,"INVALID_OOB_CODE","invalid-action-code"),S(Ai,"MISSING_OOB_CODE","internal-error"),S(Ai,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),S(Ai,"INVALID_ID_TOKEN","invalid-user-token"),S(Ai,"TOKEN_EXPIRED","user-token-expired"),S(Ai,"USER_NOT_FOUND","user-token-expired"),S(Ai,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),S(Ai,"INVALID_CODE","invalid-verification-code"),S(Ai,"INVALID_SESSION_INFO","invalid-verification-id"),S(Ai,"INVALID_TEMPORARY_PROOF","invalid-credential"),S(Ai,"MISSING_SESSION_INFO","missing-verification-id"),S(Ai,"SESSION_EXPIRED","code-expired"),S(Ai,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),S(Ai,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),S(Ai,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),S(Ai,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),S(Ai,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),S(Ai,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),S(Ai,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),S(Ai,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),S(Ai,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),S(Ai,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),S(Ai,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),S(Ai,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),S(Ai,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),S(Ai,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),S(Ai,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),S(Ai,"MISSING_CLIENT_TYPE","missing-client-type"),S(Ai,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),S(Ai,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),S(Ai,"INVALID_REQ_TYPE","invalid-req-type"),Ai),la=new aa(3e4,6e4);function ca(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function da(e,t,n,r){return ha.apply(this,arguments)}function ha(){return ha=C(w().mark((function e(t,n,r,i){var a,o=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",fa(t,a,C(w().mark((function e(){var a,o,s,u;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Vn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",sa.fetch()(ya(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}function fa(e,t,n){return pa.apply(this,arguments)}function pa(){return pa=C(w().mark((function e(t,n,r){var i,a,o,s,u,l,d,h,f,p;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ua),n),e.prev=2,a=new ga(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw _a(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),d=c(l,2),h=d[0],f=d[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw _a(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw _a(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw _a(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!f){e.next=34;break}throw Yi(t,p,f);case 34:Qi(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Rn)){e.next=41;break}throw e.t0;case 41:Qi(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),pa.apply(this,arguments)}function va(e,t,n,r){return ma.apply(this,arguments)}function ma(){return ma=C(w().mark((function e(t,n,r,i){var a,o,s=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,da(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Qi(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ma.apply(this,arguments)}function ya(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?oa(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ga=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t($i(n.auth,"network-request-failed"))}),la.get())}))}return v(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function _a(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=$i(e,t,r);return i.customData._tokenResponse=n,i}function ka(e,t){return ba.apply(this,arguments)}function ba(){return ba=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",da(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ba.apply(this,arguments)}function wa(e,t){return xa.apply(this,arguments)}function xa(){return xa=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",da(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}function Ca(e,t){return Sa.apply(this,arguments)}function Sa(){return Sa=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",da(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Sa.apply(this,arguments)}function Ea(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ia(){return Ia=C(w().mark((function e(t){var n,r,i,a,o,s,u=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=tr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Zi((a=Pa(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ea(Ta(a.auth_time)),issuedAtTime:Ea(Ta(a.iat)),expirationTime:Ea(Ta(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}function Ta(e){return 1e3*Number(e)}function Pa(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Gi("JWT malformed, contained fewer than 3 sections"),null;try{var a=yn(r);return a?JSON.parse(a):(Gi("Failed to decode base64 JWT payload"),null)}catch(o){return Gi("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Na(e,t){return Ra.apply(this,arguments)}function Ra(){return Ra=C(w().mark((function e(t,n){var r=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Rn&&Oa(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ra.apply(this,arguments)}function Oa(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Aa=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return v(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(C(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Da=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return v(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ea(this.lastLoginAt),this.creationTime=Ea(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function La(e){return Ma.apply(this,arguments)}function Ma(){return Ma=C(w().mark((function e(t){var n,r,i,a,o,s,u,l,c,d,h;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Na(t,Ca(r,{idToken:i}));case 6:Zi(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Oi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Fa(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),d=!!l&&c,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Da(o.createdAt,o.lastLoginAt),isAnonymous:d},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function ja(){return(ja=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tr(t),e.next=3,La(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fa(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(R(n),R(t))}function Ua(e,t){return za.apply(this,arguments)}function za(){return za=C(w().mark((function e(t,n){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa(t,{},C(w().mark((function e(){var r,i,a,o,s,u;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=ya(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",sa.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}var qa=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return v(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Zi(e.idToken,"internal-error"),Zi("undefined"!==typeof e.idToken,"internal-error"),Zi("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Pa(e);return Zi(t,"internal-error"),Zi("undefined"!==typeof t.exp,"internal-error"),Zi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=C(w().mark((function e(t){var n,r=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Zi(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=C(w().mark((function e(t,n){var r,i,a,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ua(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ea("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Zi("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Zi("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Zi("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Wa(e,t){Zi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Va=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Oi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Aa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?R(a.providerData):[],this.metadata=new Da(a.createdAt||void 0,a.lastLoginAt||void 0)}return v(e,[{key:"getIdToken",value:function(){var e=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Zi(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ia.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ja.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Zi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Zi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=C(w().mark((function e(t){var n,r,i=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,La(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=C(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Na(this,ka(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,l,c,d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,_=n.uid,k=n.emailVerified,b=n.isAnonymous,w=n.providerData,x=n.stsTokenManager;Zi(_&&x,t,"internal-error");var C=qa.fromJSON(this.name,x);Zi("string"===typeof _,t,"internal-error"),Wa(d,t.name),Wa(h,t.name),Zi("boolean"===typeof k,t,"internal-error"),Zi("boolean"===typeof b,t,"internal-error"),Wa(f,t.name),Wa(p,t.name),Wa(v,t.name),Wa(m,t.name),Wa(y,t.name),Wa(g,t.name);var S=new e({uid:_,auth:t,email:h,emailVerified:k,displayName:d,isAnonymous:b,photoURL:p,phoneNumber:f,tenantId:v,stsTokenManager:C,createdAt:y,lastLoginAt:g});return w&&Array.isArray(w)&&(S.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=C(w().mark((function t(n,r){var i,a,o,s=arguments;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new qa).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,La(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ha=new Map;function Ba(e){ta(e instanceof Function,"Expected a class definition");var t=Ha.get(e);return t?(ta(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ha.set(e,t),t)}var Ka=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return v(e,[{key:"_isAvailable",value:function(){var e=C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ka.type="NONE";var Ga=Ka;function Qa(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var $a=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Qa(this.userKey,a.apiKey,o),this.fullPersistenceKey=Qa("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return v(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=C(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Va._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=C(w().mark((function t(n,r){var i,a,o,s,u,l,c,d,h,f,p,v=arguments;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ba(Ga),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ba(Ga),s=Qa(i,n.config.apiKey,n.name),u=null,l=N(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return d=c.value,t.prev=14,t.next=17,d._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return f=Va._fromJSON(n,h),d!==o&&(u=f),o=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ya(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ja(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(no(t))return"Blackberry";if(ro(t))return"Webos";if(Xa(t))return"Safari";if((t.includes("chrome/")||Za(t))&&!t.includes("edge/"))return"Chrome";if(to(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn();return/firefox\//i.test(e)}function Xa(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Za(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn();return/crios\//i.test(e)}function eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn();return/iemobile/i.test(e)}function to(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn();return/android/i.test(e)}function no(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn();return/blackberry/i.test(e)}function ro(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn();return/webos/i.test(e)}function io(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn();return io(e)||to(e)||ro(e)||no(e)||/windows phone/i.test(e)||eo(e)}function oo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ya(xn());break;case"Worker":t="".concat(Ya(xn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Xr,"/").concat(r)}function so(e){return uo.apply(this,arguments)}function uo(){return uo=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function lo(e,t){return co.apply(this,arguments)}function co(){return co=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",da(t,"GET","/v2/recaptchaConfig",ca(t,n)));case 1:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}function ho(e){return void 0!==e&&void 0!==e.getResponse}function fo(e){return void 0!==e&&void 0!==e.enterprise}var po=v((function e(t){if(d(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function vo(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=$i("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function mo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var yo=function(){function e(t){d(this,e),this.type="recaptcha-enterprise",this.auth=wo(t)}return v(e,[{key:"verify",value:function(){var e=C(w().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;fo(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=C(w().mark((function e(n,r){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lo(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new po(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&fo(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));vo("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function go(e,t,n){return _o.apply(this,arguments)}function _o(){return _o=C(w().mark((function e(t,n,r){var i,a,o,s,u=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new yo(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),_o.apply(this,arguments)}var ko=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return v(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=C(w().mark((function e(t){var n,r,i,a,o,s,u;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=N(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=N(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(l){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),bo=function(){function e(t,n,r,i){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xo(this),this.idTokenSubscription=new xo(this),this.beforeStateQueue=new ko(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return v(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ba(t)),this._initializationPromise=this.queue(C(w().mark((function r(){var i,a;return w().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,$a.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=C(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=C(w().mark((function e(t){var n,r,i,a,o,s,u;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Zi(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,La(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?tr(t):null)&&Zi(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=C(w().mark((function e(t){var n,r=this,i=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Zi(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(C(w().mark((function n(){return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ba(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=C(w().mark((function e(){var t,n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new po(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new yo(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new On("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=C(w().mark((function e(t,n){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Zi(n=t&&Ba(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,$a.create(this,[Ba(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=C(w().mark((function e(t){var n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=C(w().mark((function e(t){var n=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Zi(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Zi(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oo(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=C(w().mark((function e(){var t,n,r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=C(w().mark((function e(){var t,n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Ki("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wo(e){return tr(e)}var xo=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=Gn((function(e){return n.observer=e}))}return v(e,[{key:"next",get:function(){return Zi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Co(e,t,n){var r=wo(e);Zi(r._canInitEmulator,r,"emulator-config-failed"),Zi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=So(t),o=function(e){var t=So(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Eo(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Eo(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function So(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Eo(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Io=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return v(e,[{key:"toJSON",value:function(){return ea("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ea("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ea("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ea("not implemented")}}]),e}();function To(e,t){return Po.apply(this,arguments)}function Po(){return Po=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",da(t,"POST","/v1/accounts:resetPassword",ca(t,n)));case 1:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}function No(e,t){return Ro.apply(this,arguments)}function Ro(){return Ro=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",da(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Oo(e,t){return Ao.apply(this,arguments)}function Ao(){return Ao=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",da(t,"POST","/v1/accounts:update",ca(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function Do(e,t){return Lo.apply(this,arguments)}function Lo(){return Lo=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",va(t,"POST","/v1/accounts:signInWithPassword",ca(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Mo(e,t){return jo.apply(this,arguments)}function jo(){return jo=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",da(t,"POST","/v1/accounts:sendOobCode",ca(t,n)));case 1:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Fo(e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mo(t,n));case 1:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function zo(e,t){return qo.apply(this,arguments)}function qo(){return qo=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mo(t,n));case 1:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}function Wo(e,t){return Vo.apply(this,arguments)}function Vo(){return Vo=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mo(t,n));case 1:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function Ho(e,t){return Bo.apply(this,arguments)}function Bo(){return Bo=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mo(t,n));case 1:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}function Ko(e,t){return Go.apply(this,arguments)}function Go(){return Go=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",va(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,n)));case 1:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}function Qo(e,t){return $o.apply(this,arguments)}function $o(){return $o=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",va(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,n)));case 1:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}var Yo=function(e){y(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return v(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=C(w().mark((function e(t){var n,r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,go(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Do(t,i));case 11:return e.abrupt("return",Do(t,r).catch(function(){var e=C(w().mark((function e(n){var i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,go(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Do(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Ko(t,{email:this._email,oobCode:this._password}));case 13:Qi(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",No(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Qo(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Qi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Io);function Jo(e,t){return Xo.apply(this,arguments)}function Xo(){return Xo=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",va(t,"POST","/v1/accounts:signInWithIdp",ca(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}var Zo=function(e){y(n,e);var t=b(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return v(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Jo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Jo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Jo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qi("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Oi(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Io);function es(e,t){return ts.apply(this,arguments)}function ts(){return ts=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",da(t,"POST","/v1/accounts:sendVerificationCode",ca(t,n)));case 1:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(){return ns=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",va(t,"POST","/v1/accounts:signInWithPhoneNumber",ca(t,n)));case 1:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}function rs(){return rs=C(w().mark((function e(t,n){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,va(t,"POST","/v1/accounts:signInWithPhoneNumber",ca(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw _a(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}var is=S({},"USER_NOT_FOUND","user-not-found");function as(){return as=C(w().mark((function e(t,n){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",va(t,"POST","/v1/accounts:signInWithPhoneNumber",ca(t,r),is));case 2:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}var os=function(e){y(n,e);var t=b(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ns.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return rs.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return as.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Io);var ss=function(){function e(t){var n,r,i,a,o,s;d(this,e);var u=Hn(Bn(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Zi(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return v(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Hn(Bn(e)).link,n=t?Hn(Bn(t)).deep_link_id:null,r=Hn(Bn(e)).deep_link_id;return(r?Hn(Bn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var us=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return v(e,null,[{key:"credential",value:function(e,t){return Yo._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ss.parseLink(t);return Zi(n,"argument-error"),Yo._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();us.PROVIDER_ID="password",us.EMAIL_PASSWORD_SIGN_IN_METHOD="password",us.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ls=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return v(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),cs=function(e){y(n,e);var t=b(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return v(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return R(this.scopes)}}]),n}(ls),ds=function(e){y(n,e);var t=b(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Zi(e.idToken||e.accessToken,"argument-error"),Zo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Zi("providerId"in t&&"signInMethod"in t,"argument-error"),Zo._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(l){return null}}}]),n}(cs),hs=function(e){y(n,e);var t=b(n);function n(){return d(this,n),t.call(this,"facebook.com")}return v(n,null,[{key:"credential",value:function(e){return Zo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(cs);hs.FACEBOOK_SIGN_IN_METHOD="facebook.com",hs.PROVIDER_ID="facebook.com";var fs=function(e){y(n,e);var t=b(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return v(n,null,[{key:"credential",value:function(e,t){return Zo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(cs);fs.GOOGLE_SIGN_IN_METHOD="google.com",fs.PROVIDER_ID="google.com";var ps=function(e){y(n,e);var t=b(n);function n(){return d(this,n),t.call(this,"github.com")}return v(n,null,[{key:"credential",value:function(e){return Zo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(cs);ps.GITHUB_SIGN_IN_METHOD="github.com",ps.PROVIDER_ID="github.com";var vs=function(e){y(n,e);var t=b(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return v(n,[{key:"_getIdTokenResponse",value:function(e){return Jo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Jo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Jo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Io),ms=function(e){y(n,e);var t=b(n);function n(e){return d(this,n),Zi(e.startsWith("saml."),"argument-error"),t.call(this,e)}return v(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=vs.fromJSON(e);return Zi(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return vs._create(r,n)}catch(i){return null}}}]),n}(ls),ys=function(e){y(n,e);var t=b(n);function n(){return d(this,n),t.call(this,"twitter.com")}return v(n,null,[{key:"credential",value:function(e,t){return Zo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(cs);function gs(e,t){return _s.apply(this,arguments)}function _s(){return _s=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",va(t,"POST","/v1/accounts:signUp",ca(t,n)));case 1:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}ys.TWITTER_SIGN_IN_METHOD="twitter.com",ys.PROVIDER_ID="twitter.com";var ks=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return v(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=C(w().mark((function t(n,r,i){var a,o,s,u,l=arguments;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Va._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=bs(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=C(w().mark((function t(n,r,i){var a;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=bs(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function bs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ws(){return ws=C(w().mark((function e(t){var n,r,i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wo(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ks({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,gs(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ks._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}var xs=function(e){y(n,e);var t=b(n);function n(e,r,i,a){var o,s;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(k(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return v(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Rn);function Cs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw xs._fromErrorAndOperation(e,n,t,r);throw n}))}function Ss(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Es(e,t){return Is.apply(this,arguments)}function Is(){return(Is=C(w().mark((function e(t,n){var r,i,a,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tr(t),e.next=3,Ns(!0,r,n);case 3:return e.t0=wa,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ss(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ts(e,t){return Ps.apply(this,arguments)}function Ps(){return Ps=C(w().mark((function e(t,n){var r,i,a=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Na,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ks._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function Ns(e,t,n){return Rs.apply(this,arguments)}function Rs(){return(Rs=C(w().mark((function e(t,n,r){var i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La(n);case 2:i=Ss(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Zi(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Os(e,t){return As.apply(this,arguments)}function As(){return As=C(w().mark((function e(t,n){var r,i,a,o,s,u,l=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Na(t,Cs(i,a,n,t),r);case 6:return Zi((o=e.sent).idToken,i,"internal-error"),Zi(s=Pa(o.idToken),i,"internal-error"),u=s.sub,Zi(t.uid===u,i,"user-mismatch"),e.abrupt("return",ks._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Qi(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),As.apply(this,arguments)}function Ds(e,t){return Ls.apply(this,arguments)}function Ls(){return Ls=C(w().mark((function e(t,n){var r,i,a,o,s=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Cs(t,i,n);case 4:return a=e.sent,e.next=7,ks._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Ms(e,t){return js.apply(this,arguments)}function js(){return js=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ds(wo(t),n));case 1:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}function Fs(e,t){return Us.apply(this,arguments)}function Us(){return(Us=C(w().mark((function e(t,n){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tr(t),e.next=3,Ns(!1,r,n.providerId);case 3:return e.abrupt("return",Ts(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(e,t){return qs.apply(this,arguments)}function qs(){return(qs=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Os(tr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ws(e,t){return Vs.apply(this,arguments)}function Vs(){return Vs=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",va(t,"POST","/v1/accounts:signInWithCustomToken",ca(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vs.apply(this,arguments)}function Hs(){return Hs=C(w().mark((function e(t,n){var r,i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wo(t),e.next=3,Ws(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ks._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}var Bs=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return v(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Ks._fromServerResponse(e,t):"totpInfo"in t?Gs._fromServerResponse(e,t):Qi(e,"internal-error")}}]),e}(),Ks=function(e){y(n,e);var t=b(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return v(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Bs),Gs=function(e){y(n,e);var t=b(n);function n(e){return d(this,n),t.call(this,"totp",e)}return v(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Bs);function Qs(e,t,n){var r;Zi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Zi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Zi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Zi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function $s(){return $s=C(w().mark((function e(t,n,r){var i,a,o,s;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=wo(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,go(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&Qs(a,s,r),e.next=9,zo(a,s);case 9:e.next=14;break;case 11:return r&&Qs(a,o,r),e.next=14,zo(a,o).catch(function(){var e=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,go(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Qs(a,n,r),e.next=8,zo(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}function Ys(){return Ys=C(w().mark((function e(t,n,r){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,To(tr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Js(){return Js=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oo(tr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function Xs(e,t){return Zs.apply(this,arguments)}function Zs(){return Zs=C(w().mark((function e(t,n){var r,i,a,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tr(t),e.next=3,To(r,{oobCode:n});case 3:i=e.sent,Zi(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Zi(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Zi(i.mfaInfo,r,"internal-error");case 13:Zi(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Bs._fromServerResponse(wo(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Zs.apply(this,arguments)}function eu(){return eu=C(w().mark((function e(t,n){var r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xs(tr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t,n){return nu.apply(this,arguments)}function nu(){return nu=C(w().mark((function e(t,n,r){var i,a,o,s,u,l,c;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=wo(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,go(a,o,"signUpPassword");case 5:u=e.sent,s=gs(a,u),e.next=10;break;case 9:s=gs(a,o).catch(function(){var e=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,go(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",gs(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return l=e.sent,e.next=15,ks._fromIdTokenResponse(a,"signIn",l);case 15:return c=e.sent,e.next=18,a._updateCurrentUser(c.user);case 18:return e.abrupt("return",c);case 19:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}function ru(){return ru=C(w().mark((function e(t,n,r){var i,a,o,s,u;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){Zi(t.handleCodeInApp,a,"argument-error"),t&&Qs(a,e,t)},a=wo(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,go(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,Wo(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,Wo(a,o).catch(function(){var e=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,go(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,Wo(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(){return iu=C(w().mark((function e(t,n,r){var i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tr(t),Zi((a=us.credentialWithLink(n,r||na()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Ms(i,a));case 4:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(e,t){return ou.apply(this,arguments)}function ou(){return ou=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",da(t,"POST","/v1/accounts:createAuthUri",ca(t,n)));case 1:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function su(){return su=C(w().mark((function e(t,n){var r,i,a,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ra()?na():"http://localhost",i={identifier:n,continueUri:r},e.next=4,au(tr(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),su.apply(this,arguments)}function uu(){return(uu=C(w().mark((function e(t,n){var r,i,a,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Qs(r.auth,a,n),e.next=8,Fo(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lu(){return(lu=C(w().mark((function e(t,n,r){var i,a,o,s;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Qs(i.auth,o,r),e.next=8,Ho(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cu(e,t){return du.apply(this,arguments)}function du(){return du=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",da(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function hu(){return(hu=C(w().mark((function e(t,n){var r,i,a,o,s,u,l;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=tr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Na(a,cu(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fu(e,t,n){return pu.apply(this,arguments)}function pu(){return pu=C(w().mark((function e(t,n,r){var i,a,o,s;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Na(t,No(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}var vu=v((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),mu=function(e){y(n,e);var t=b(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return v(n)}(vu),yu=function(e){y(n,e);var t=b(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return v(n)}(vu),gu=function(e){y(n,e);var t=b(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return v(n)}(mu),_u=function(e){y(n,e);var t=b(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return v(n)}(vu),ku=function(e){y(n,e);var t=b(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return v(n)}(mu);function bu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Pa(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new vu(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new yu(a,i);case"github.com":return new gu(a,i);case"google.com":return new _u(a,i);case"twitter.com":return new ku(a,i,e.screenName||null);case"custom":case"anonymous":return new vu(a,null);default:return new vu(a,r,i)}}(n)}var wu=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.user=r}return v(e,[{key:"toJSON",value:function(){return{multiFactorSession:S({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),xu=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return v(e,[{key:"resolveSignIn",value:function(){var e=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=wo(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Bs._fromServerResponse(r,e)}));Zi(i.mfaPendingCredential,r,"internal-error");var o=wu._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=C(w().mark((function e(t){var a,s,u;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ks._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Zi(n.user,r,"internal-error"),e.abrupt("return",ks._forOperation(n.user,n.operationType,s));case 17:Qi(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Cu(e,t){return da(e,"POST","/v2/accounts/mfaEnrollment:start",ca(e,t))}function Su(e,t){return da(e,"POST","/v2/accounts/mfaEnrollment:start",ca(e,t))}function Eu(e,t){return da(e,"POST","/v2/accounts/mfaEnrollment:finalize",ca(e,t))}function Iu(e,t){return da(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ca(e,t))}var Tu=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Bs._fromServerResponse(t.auth,e)})))}))}return v(e,[{key:"getSession",value:function(){var e=C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=wu,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=C(w().mark((function e(t,n){var r,i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Na(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=C(w().mark((function e(t){var n,r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Na(this.user,Iu(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Pu=new WeakMap;var Nu="__sak",Ru=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return v(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Nu,"1"),this.storage.removeItem(Nu),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ou=function(e){y(n,e);var t=b(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=xn();return Xa(e)||io(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ao(),e._shouldAllowMigration=!0,e}return v(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Tn()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=C(w().mark((function e(t,r){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ri(g(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=C(w().mark((function e(t){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ri(g(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ri(g(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ru);Ou.type="LOCAL";var Au=Ou,Du=function(e){y(n,e);var t=b(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return v(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ru);Du.type="SESSION";var Lu=Du;function Mu(e){return Promise.all(e.map(function(){var e=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ju=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return v(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=C(w().mark((function e(t){var n,r,i,a,o,s,u,l;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Mu(u);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Fu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ju.receivers=[];var Uu=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return v(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=C(w().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var l=Fu("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function zu(){return window}function qu(e){zu().location.href=e}function Wu(){return"undefined"!==typeof zu().WorkerGlobalScope&&"function"===typeof zu().importScripts}function Vu(){return Hu.apply(this,arguments)}function Hu(){return(Hu=C(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Bu(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ku="firebaseLocalStorageDb",Gu="firebaseLocalStorage",Qu="fbase_key",$u=function(){function e(t){d(this,e),this.request=t}return v(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Yu(e,t){return e.transaction([Gu],t?"readwrite":"readonly").objectStore(Gu)}function Ju(){var e=indexedDB.deleteDatabase(Ku);return new $u(e).toPromise()}function Xu(){var e=indexedDB.open(Ku,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Gu,{keyPath:Qu})}catch(r){n(r)}})),e.addEventListener("success",C(w().mark((function n(){var r;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Gu)){n.next=12;break}return r.close(),n.next=5,Ju();case 5:return n.t0=t,n.next=8,Xu();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Zu(e,t,n){return el.apply(this,arguments)}function el(){return(el=C(w().mark((function e(t,n,r){var i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Yu(t,!0).put((S(i={},Qu,n),S(i,"value",r),i)),e.abrupt("return",new $u(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tl(e,t){return nl.apply(this,arguments)}function nl(){return(nl=C(w().mark((function e(t,n){var r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yu(t,!1).get(n),e.next=3,new $u(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rl(e,t){var n=Yu(e,!0).delete(t);return new $u(n).toPromise()}var il=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return v(e,[{key:"_openDb",value:function(){var e=C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Xu();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=C(w().mark((function e(t){var n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=C(w().mark((function e(){var t=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ju._getInstance(Wu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=C(w().mark((function e(n,r){var i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=C(w().mark((function e(){var t,n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vu();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Uu(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Bu()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=C(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Xu();case 5:return t=e.sent,e.next=8,Zu(t,Nu,"1");case 8:return e.next=10,rl(t,Nu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=C(w().mark((function e(t,n){var r=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Zu(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return tl(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=C(w().mark((function e(t){var n=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return rl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=C(w().mark((function e(){var t,n,r,i,a,o,s,u,l,c,d;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Yu(e,!1).getAll();return new $u(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=N(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)d=c[l],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(C(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();il.type="LOCAL";var al=il;function ol(e,t){return da(e,"POST","/v2/accounts/mfaSignIn:start",ca(e,t))}function sl(e,t){return da(e,"POST","/v2/accounts/mfaSignIn:finalize",ca(e,t))}var ul=1e12,ll=function(){function e(t){d(this,e),this.auth=t,this.counter=ul,this._widgets=new Map}return v(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new cl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ul;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ul;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=C(w().mark((function e(t){var n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ul,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),cl=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Zi(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return v(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var dl=mo("rcb"),hl=new aa(3e4,6e4),fl=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=zu().grecaptcha)||void 0===t?void 0:t.render)}return v(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Zi(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&ho(zu().grecaptcha)?Promise.resolve(zu().grecaptcha):new Promise((function(r,i){var a=zu().setTimeout((function(){i($i(e,"network-request-failed"))}),hl.get());zu()[dl]=function(){zu().clearTimeout(a),delete zu()[dl];var o=zu().grecaptcha;if(o&&ho(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i($i(e,"internal-error"))},vo("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Vn({onload:dl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i($i(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=zu().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var pl=function(){function e(){d(this,e)}return v(e,[{key:"load",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ll(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),vl="recaptcha",ml={theme:"light",type:"image"},yl=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},ml);d(this,e),this.parameters=r,this.type=vl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wo(t),this.isInvisible="invisible"===this.parameters.size,Zi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;Zi(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pl:new fl,this.validateStartingState()}return v(e,[{key:"verify",value:function(){var e=C(w().mark((function e(){var t,n,r,i=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Zi(!this.parameters.sitekey,this.auth,"argument-error"),Zi(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Zi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=zu()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Zi(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=C(w().mark((function e(){var t,n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=C(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zi(ra()&&!Wu(),this.auth,"internal-error"),e.next=3,gl();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,so(this.auth);case 8:Zi(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Zi(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function gl(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var _l=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return v(e,[{key:"confirm",value:function(e){var t=os._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function kl(){return kl=C(w().mark((function e(t,n,r){var i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wo(t),e.next=3,Cl(i,n,tr(r));case 3:return a=e.sent,e.abrupt("return",new _l(a,(function(e){return Ms(i,e)})));case 5:case"end":return e.stop()}}),e)}))),kl.apply(this,arguments)}function bl(e,t,n){return wl.apply(this,arguments)}function wl(){return(wl=C(w().mark((function e(t,n,r){var i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tr(t),e.next=3,Ns(!1,i,"phone");case 3:return e.next=5,Cl(i.auth,n,tr(r));case 5:return a=e.sent,e.abrupt("return",new _l(a,(function(e){return Fs(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xl(){return(xl=C(w().mark((function e(t,n,r){var i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tr(t),e.next=3,Cl(i.auth,n,tr(r));case 3:return a=e.sent,e.abrupt("return",new _l(a,(function(e){return zs(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cl(e,t,n){return Sl.apply(this,arguments)}function Sl(){return Sl=C(w().mark((function e(t,n,r){var i,a,o,s,u,l,c,d,h;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Zi("string"===typeof a,t,"argument-error"),Zi(r.type===vl,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Zi("enroll"===s.type,t,"internal-error"),e.next=13,Cu(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Zi("signin"===s.type,t,"internal-error"),Zi(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ol(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,es(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return d=e.sent,h=d.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Sl.apply(this,arguments)}function El(){return(El=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ts(tr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Il=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=wo(t)}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return Cl(this.auth,e,tr(t))}}],[{key:"credential",value:function(e,t){return os._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?os._fromTokenResponse(n,r):null}}]),e}();function Tl(e,t){return t?Ba(t):(Zi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Il.PROVIDER_ID="phone",Il.PHONE_SIGN_IN_METHOD="phone";var Pl=function(e){y(n,e);var t=b(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return v(n,[{key:"_getIdTokenResponse",value:function(e){return Jo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Jo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Jo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Io);function Nl(e){return Ds(e.auth,new Pl(e),e.bypassAuthState)}function Rl(e){var t=e.auth,n=e.user;return Zi(n,t,"internal-error"),Os(n,new Pl(e),e.bypassAuthState)}function Ol(e){return Al.apply(this,arguments)}function Al(){return Al=C(w().mark((function e(t){var n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Zi(r=t.user,n,"internal-error"),e.abrupt("return",Ts(r,new Pl(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Al.apply(this,arguments)}var Dl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return v(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=C(w().mark((function t(n,r){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=C(w().mark((function e(t){var n,r,i,a,o,s,u;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nl;case"linkViaPopup":case"linkViaRedirect":return Ol;case"reauthViaPopup":case"reauthViaRedirect":return Rl;default:Qi(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ll=new aa(2e3,1e4);function Ml(e,t,n){return jl.apply(this,arguments)}function jl(){return jl=C(w().mark((function e(t,n,r){var i,a,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wo(t),Ji(t,n,ls),a=Tl(i,r),o=new ql(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),jl.apply(this,arguments)}function Fl(){return(Fl=C(w().mark((function e(t,n,r){var i,a,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ji((i=tr(t)).auth,n,ls),a=Tl(i.auth,r),o=new ql(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ul(e,t,n){return zl.apply(this,arguments)}function zl(){return(zl=C(w().mark((function e(t,n,r){var i,a,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ji((i=tr(t)).auth,n,ls),a=Tl(i.auth,r),o=new ql(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ql=function(e){y(n,e);var t=b(n);function n(e,r,i,a,o){var s;return d(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=k(s),s}return v(n,[{key:"executeNotNull",value:function(){var e=C(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Zi(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=C(w().mark((function e(){var t,n=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ta(1===this.filter.length,"Popup operations only handle one event"),t=Fu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject($i(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject($i(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject($i(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Ll.get())}()}}]),n}(Dl);ql.currentPopupAction=null;var Wl="pendingRedirect",Vl=new Map,Hl=function(e){y(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return v(n,[{key:"execute",value:function(){var e=C(w().mark((function e(){var t,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Vl.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Bl(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ri(g(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Vl.set(this.auth._key(),t);case 21:return this.bypassAuthState||Vl.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=C(w().mark((function e(t){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ri(g(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ri(g(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Dl);function Bl(e,t){return Kl.apply(this,arguments)}function Kl(){return Kl=C(w().mark((function e(t,n){var r,i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jl(n),i=Yl(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Gl(e,t){return Ql.apply(this,arguments)}function Ql(){return Ql=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yl(t)._set(Jl(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function $l(e,t){Vl.set(e._key(),t)}function Yl(e){return Ba(e._redirectPersistence)}function Jl(e){return Qa(Wl,e.config.apiKey,e.name)}function Xl(e,t,n){return function(e,t,n){return Zl.apply(this,arguments)}(e,t,n)}function Zl(){return Zl=C(w().mark((function e(t,n,r){var i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wo(t),Ji(t,n,ls),e.next=4,i._initializationPromise;case 4:return a=Tl(i,r),e.next=7,Gl(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Zl.apply(this,arguments)}function ec(e,t,n){return function(e,t,n){return tc.apply(this,arguments)}(e,t,n)}function tc(){return(tc=C(w().mark((function e(t,n,r){var i,a,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ji((i=tr(t)).auth,n,ls),e.next=4,i.auth._initializationPromise;case 4:return a=Tl(i.auth,r),e.next=7,Gl(a,i.auth);case 7:return e.next=9,uc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nc(e,t,n){return function(e,t,n){return rc.apply(this,arguments)}(e,t,n)}function rc(){return(rc=C(w().mark((function e(t,n,r){var i,a,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ji((i=tr(t)).auth,n,ls),e.next=4,i.auth._initializationPromise;case 4:return a=Tl(i.auth,r),e.next=7,Ns(!1,i,n.providerId);case 7:return e.next=9,Gl(a,i.auth);case 9:return e.next=11,uc(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ic(e,t){return ac.apply(this,arguments)}function ac(){return ac=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wo(t)._initializationPromise;case 2:return e.abrupt("return",oc(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),ac.apply(this,arguments)}function oc(e,t){return sc.apply(this,arguments)}function sc(){return sc=C(w().mark((function e(t,n){var r,i,a,o,s,u=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=wo(t),a=Tl(i,n),o=new Hl(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),sc.apply(this,arguments)}function uc(e){return lc.apply(this,arguments)}function lc(){return(lc=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fu("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cc=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return v(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!hc(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError($i(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(dc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function dc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function hc(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function fc(e){return pc.apply(this,arguments)}function pc(){return pc=C(w().mark((function e(t){var n,r=arguments;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",da(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}var vc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mc=/^https?/;function yc(){return yc=C(w().mark((function e(t){var n,r,i,a,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fc(t);case 4:n=e.sent,r=n.authorizedDomains,i=N(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!gc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Qi(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),yc.apply(this,arguments)}function gc(e){var t=na(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!mc.test(r))return!1;if(vc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var _c=new aa(3e4,6e4);function kc(){var e=zu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=R(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var bc=null;function wc(e){return bc=bc||function(e){return new Promise((function(t,n){var r,i,a;function o(){kc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){kc(),n($i(e,"network-request-failed"))},timeout:_c.get()})}if(null===(i=null===(r=zu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=zu().gapi)||void 0===a?void 0:a.load)){var s=mo("iframefcb");return zu()[s]=function(){gapi.load?o():n($i(e,"network-request-failed"))},vo("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw bc=null,e}))}(e),bc}var xc=new aa(5e3,15e3),Cc="__/auth/iframe",Sc="emulator/auth/iframe",Ec={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ic=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tc(e){var t=e.config;Zi(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?oa(t,Sc):"https://".concat(e.config.authDomain,"/").concat(Cc),r={apiKey:t.apiKey,appName:e.name,v:Xr},i=Ic.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Vn(r).slice(1))}function Pc(e){return Nc.apply(this,arguments)}function Nc(){return Nc=C(w().mark((function e(t){var n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wc(t);case 2:return n=e.sent,Zi(r=zu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Tc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ec,dontclear:!0},(function(e){return new Promise(function(){var n=C(w().mark((function n(r,i){var a,o,s;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){zu().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=$i(t,"network-request-failed"),o=zu().setTimeout((function(){i(a)}),xc.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}var Rc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Oc=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return v(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ac(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Rc),{width:r.toString(),height:i.toString(),top:a,left:o}),l=xn().toLowerCase();n&&(s=Za(l)?"_blank":n),Ja(l)&&(t=t||"http://localhost",u.scrollbars="yes");var d=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return io(arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Oc(null);var h=window.open(t||"",s,d);Zi(h,e,"popup-blocked");try{h.focus()}catch(f){}return new Oc(h)}var Dc="__/auth/handler",Lc="emulator/auth/handler",Mc=encodeURIComponent("fac");function jc(e,t,n,r,i,a){return Fc.apply(this,arguments)}function Fc(){return Fc=C(w().mark((function e(t,n,r,i,a,o){var s,u,l,d,h,f,p,v,m,y,g,_,k;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zi(t.config.authDomain,t,"auth-domain-config-required"),Zi(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Xr,eventId:a},n instanceof ls)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Un(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,l=Object.entries(o||{});u<l.length;u++)d=c(l[u],2),h=d[0],f=d[1],s[h]=f;for(n instanceof cs&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return _=e.sent,k=_?"#".concat(Mc,"=").concat(encodeURIComponent(_)):"",e.abrupt("return","".concat(Uc(t),"?").concat(Vn(v).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}function Uc(e){var t=e.config;return t.emulator?oa(t,Lc):"https://".concat(t.authDomain,"/").concat(Dc)}var zc="webStorageSupport",qc=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lu,this._completeRedirectFn=oc,this._overrideRedirectResult=$l}return v(e,[{key:"_openPopup",value:function(){var e=C(w().mark((function e(t,n,r,i){var a,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ta(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,jc(t,n,r,na(),i);case 3:return o=e.sent,e.abrupt("return",Ac(t,o,Fu()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=C(w().mark((function e(t,n,r,i){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,jc(t,n,r,na(),i);case 4:return qu(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ta(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=C(w().mark((function e(t){var n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pc(t);case 2:return n=e.sent,r=new cc(t),n.register("authEvent",(function(e){return Zi(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(zc,{type:zc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[zc];void 0!==i&&t(!!i),Qi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return yc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ao()||Xa()||io()}}]),e}(),Wc=qc,Vc=function(){function e(t){d(this,e),this.factorId=t}return v(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ea("unexpected MultiFactorSessionType")}}}]),e}(),Hc=function(e){y(n,e);var t=b(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return v(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return da(e,"POST","/v2/accounts/mfaEnrollment:finalize",ca(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return da(e,"POST","/v2/accounts/mfaSignIn:finalize",ca(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Vc),Bc=function(){function e(){d(this,e)}return v(e,null,[{key:"assertion",value:function(e){return Hc._fromCredential(e)}}]),e}();Bc.FACTOR_ID="phone";var Kc=function(){function e(){d(this,e)}return v(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Gc._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Gc._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=C(w().mark((function e(t){var n,r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zi("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,Su(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",Qc._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Kc.FACTOR_ID="totp";var Gc=function(e){y(n,e);var t=b(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return v(n,[{key:"_finalizeEnroll",value:function(){var e=C(w().mark((function e(t,n,r){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zi("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Eu(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=C(w().mark((function e(t,n){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zi(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",sl(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Vc),Qc=function(){function e(t,n,r,i,a,o,s){d(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return v(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return($c(e)||$c(t))&&(r=!0),r&&($c(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),$c(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function $c(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Yc="@firebase/auth",Jc="1.1.0",Xc=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return v(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Zi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Zc;!function(e){var t;null===(t=kn())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function ed(){return window}Zc="Browser",Br(new nr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Zi(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var l={apiKey:s,authDomain:u,clientPlatform:Zc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oo(Zc)},c=new bo(r,i,a,l);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ba);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Br(new nr("auth-internal",(function(e){return function(e){return new Xc(e)}(wo(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ii(Yc,Jc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Zc)),ii(Yc,Jc,"esm2017");var td=2e3;function nd(e,t,n){return rd.apply(this,arguments)}function rd(){return rd=C(w().mark((function e(t,n,r){var i,a,o,s,u;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ed(),o=a.BuildInfo,ta(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,ld(n.sessionId);case 4:return s=e.sent,u={},io()?u.ibi=o.packageName:to()?u.apn=o.packageName:Qi(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",jc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(){return id=C(w().mark((function e(t){var n,r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ed(),r=n.BuildInfo,i={},io()?i.iosBundleId=r.packageName:to()?i.androidPackageName=r.packageName:Qi(t,"operation-not-supported-in-this-environment"),e.next=5,fc(t,i);case 5:case"end":return e.stop()}}),e)}))),id.apply(this,arguments)}function ad(e){var t=ed().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function od(e,t,n){return sd.apply(this,arguments)}function sd(){return sd=C(w().mark((function e(t,n,r){var i,a,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ed(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function l(){s||(s=window.setTimeout((function(){i($i(t,"redirect-cancelled-by-user"))}),td))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}n.addPassiveListener(u),document.addEventListener("resume",l,!1),to()&&document.addEventListener("visibilitychange",c,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),sd.apply(this,arguments)}function ud(e){var t,n,r,i,a,o,s,u,l,c,d=ed();Zi("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Zi("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Zi("function"===typeof(null===(a=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zi("function"===typeof(null===(u=null===(s=null===(o=null===d||void 0===d?void 0:d.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zi("function"===typeof(null===(c=null===(l=null===d||void 0===d?void 0:d.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function ld(e){return cd.apply(this,arguments)}function cd(){return(cd=C(w().mark((function e(t){var n,r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dd(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dd(e){if(ta(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var hd=20,fd=function(e){y(n,e);var t=b(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return v(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ri(g(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(cc);function pd(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:_d(),postBody:null,tenantId:e.tenantId,error:$i(e,"no-auth-event")}}function vd(e,t){return kd()._set(bd(e),t)}function md(e){return yd.apply(this,arguments)}function yd(){return yd=C(w().mark((function e(t){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kd()._get(bd(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,kd()._remove(bd(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function gd(e,t){var n,r,i=function(e){var t=wd(e),n=t.link?decodeURIComponent(t.link):void 0,r=wd(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return wd(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=wd(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?$i(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function _d(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<hd;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function kd(){return Ba(Au)}function bd(e){return Qa("authEvent",e.config.apiKey,e.name)}function wd(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=P(e.split("?"));t[0];return Hn(t.slice(1).join("?"))}var xd=function(){function e(){d(this,e),this._redirectPersistence=Lu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=oc,this._overrideRedirectResult=$l}return v(e,[{key:"_initialize",value:function(){var e=C(w().mark((function e(t){var n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new fd(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Qi(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=C(w().mark((function e(t,n,r,i){var a,o,s,u;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ud(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Vl.clear(),e.next=10,this._originValidation(t);case 10:return o=pd(t,r,i),e.next=13,vd(t,o);case 13:return e.next=15,nd(t,o,n);case 15:return s=e.sent,e.next=18,ad(s);case 18:return u=e.sent,e.abrupt("return",od(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return id.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=ed(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(C(w().mark((function n(){return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,md(e);case 2:t.onEvent(Sd());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=C(w().mark((function n(r){var i,a;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,md(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=gd(i,r.url)),t.onEvent(a||Sd());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,l="".concat(a.packageName.toLowerCase(),"://");ed().handleOpenURL=function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Cd=xd;function Sd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$i("no-auth-event")}}var Ed=1e3;function Id(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Td(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn();return!("file:"!==Id()&&"ionic:"!==Id()&&"capacitor:"!==Id()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn();return Tn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn();return/Edge\/\d+/.test(e)}(e)}function Nd(){try{var e=self.localStorage,t=Fu();if(e)return e.setItem(t,"1"),e.removeItem(t),!Pd()||Nn()}catch(n){return Rd()&&Nn()}return!1}function Rd(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Od(){return("http:"===Id()||"https:"===Id()||En()||Td())&&!(In()||Sn())&&Nd()&&!Rd()}function Ad(){return Td()&&"undefined"!==typeof document}function Dd(){return Ld.apply(this,arguments)}function Ld(){return(Ld=C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ad()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Ed);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Md={LOCAL:"local",NONE:"none",SESSION:"session"},jd=Zi,Fd="persistence";function Ud(e,t){jd(Object.values(Md).includes(t),e,"invalid-persistence-type"),In()?jd(t!==Md.SESSION,e,"unsupported-persistence-type"):Sn()?jd(t===Md.NONE,e,"unsupported-persistence-type"):Rd()?jd(t===Md.NONE||t===Md.LOCAL&&Nn(),e,"unsupported-persistence-type"):jd(t===Md.NONE||Nd(),e,"unsupported-persistence-type")}function zd(e){return qd.apply(this,arguments)}function qd(){return qd=C(w().mark((function e(t){var n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Wd(),r=Qa(Fd,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),qd.apply(this,arguments)}function Wd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Vd=Zi,Hd=function(){function e(){d(this,e),this.browserResolver=Ba(Wc),this.cordovaResolver=Ba(Cd),this.underlyingResolver=null,this._redirectPersistence=Lu,this._completeRedirectFn=oc,this._overrideRedirectResult=$l}return v(e,[{key:"_initialize",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=C(w().mark((function e(t,n,r,i){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=C(w().mark((function e(t,n,r,i){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Ad()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Vd(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=C(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Dd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bd(e){return e.unwrap()}function Kd(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Jd(e,function(e,t){var n,r=tr(e),i=t;return Zi(t.customData.operationType,r,"argument-error"),Zi(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),xu._fromError(r,i)}(e,t));else if(r){var i=Gd(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Gd(e){var t=(e instanceof Rn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Rn)&&"temporaryProof"in t&&"phoneNumber"in t)return Il.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Di.PASSWORD)return null;switch(r){case Di.GOOGLE:n=fs;break;case Di.FACEBOOK:n=hs;break;case Di.GITHUB:n=ps;break;case Di.TWITTER:n=ys;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?vs._create(r,s):Zo._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new ds(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Rn?n.credentialFromError(e):n.credentialFromResult(e)}function Qd(e,t){return t.catch((function(t){throw t instanceof Rn&&Kd(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Gd(t)),additionalUserInfo:bu(e),user:Xd.getOrCreate(r)}}))}function $d(e,t){return Yd.apply(this,arguments)}function Yd(){return Yd=C(w().mark((function e(t,n){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Qd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Yd.apply(this,arguments)}var Jd=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=t.wrapped()}return v(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Qd(Bd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Xd=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=tr(e);return Pu.has(t)||Pu.set(t,Tu._fromUser(t)),Pu.get(t)}(t)}return v(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qd(this.auth,Fs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$d(this.auth,bl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qd(this.auth,Ul(this._delegate,t,Hd)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zd(wo(this.auth));case 2:return e.abrupt("return",nc(this._delegate,t,Hd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qd(this.auth,zs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return $d(this.auth,function(e,t,n){return xl.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Qd(this.auth,function(e,t,n){return Fl.apply(this,arguments)}(this._delegate,e,Hd))}},{key:"reauthenticateWithRedirect",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zd(wo(this.auth));case 2:return e.abrupt("return",ec(this._delegate,t,Hd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return uu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Es(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return fu(tr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return fu(tr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return El.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return hu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return lu.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Xd.USER_MAP=new WeakMap;var Zd=Zi,eh=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Zd(r,"invalid-api-key",{appName:t.name}),Zd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Hd:void 0;this._delegate=n.initialize({options:{persistence:nh(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Wi),this.linkUnderlyingAuth()}return v(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Xd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Co(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Js.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Xs(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ys.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=C(w().mark((function e(t,n){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qd(this._delegate,tu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return su.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ss.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=C(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zd(Od(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ic(this._delegate,Hd);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Qd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){wo(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=th(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=th(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ru.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return $s.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=C(w().mark((function e(t){var n,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ud(this._delegate,t),e.t0=t,e.next=e.t0===Md.SESSION?4:e.t0===Md.LOCAL?6:e.t0===Md.NONE?11:13;break;case 4:return n=Lu,e.abrupt("break",14);case 6:return e.next=8,Ba(al)._isAvailable();case 8:return r=e.sent,n=r?al:Au,e.abrupt("break",14);case 11:return n=Ga,e.abrupt("break",14);case 13:return e.abrupt("return",Qi("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Qd(this._delegate,function(e){return ws.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Qd(this._delegate,Ms(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Qd(this._delegate,function(e,t){return Hs.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Qd(this._delegate,function(e,t,n){return Ms(tr(e),us.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Qd(this._delegate,function(e,t,n){return iu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return $d(this._delegate,function(e,t,n){return kl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zd(Od(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Qd(this._delegate,Ml(this._delegate,t,Hd)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zd(Od(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,zd(this._delegate);case 3:return e.abrupt("return",Xl(this._delegate,t,Hd));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return eu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function th(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Xd.getOrCreate(e))},error:t,complete:n}}function nh(e,t){var n=function(e,t){var n=Wd();if(!n)return[];var r=Qa(Fd,e,t);switch(n.getItem(r)){case Md.NONE:return[Ga];case Md.LOCAL:return[al,Lu];case Md.SESSION:return[Lu];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(al)||n.push(al),"undefined"!==typeof window)for(var r=0,i=[Au,Lu];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ga)||n.push(Ga),n}eh.Persistence=Md;var rh=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new Il(Bd(Ni.auth()))}return v(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Il.credential(e,t)}}]),e}();rh.PHONE_SIGN_IN_METHOD=Il.PHONE_SIGN_IN_METHOD,rh.PROVIDER_ID=Il.PROVIDER_ID;var ih,ah=Zi,oh=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ni.app();d(this,e),ah(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new yl(i.auth(),t,n),this.type=this._delegate.type}return v(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(ih=Ni).INTERNAL.registerComponent(new nr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new eh(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Li,PASSWORD_RESET:Mi,RECOVER_EMAIL:ji,REVERT_SECOND_FACTOR_ADDITION:Fi,VERIFY_AND_CHANGE_EMAIL:Ui,VERIFY_EMAIL:zi}},EmailAuthProvider:us,FacebookAuthProvider:hs,GithubAuthProvider:ps,GoogleAuthProvider:fs,OAuthProvider:ds,SAMLAuthProvider:ms,PhoneAuthProvider:rh,PhoneMultiFactorGenerator:Bc,RecaptchaVerifier:oh,TwitterAuthProvider:ys,Auth:eh,AuthCredential:Io,Error:Rn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ih.registerVersion("@firebase/auth-compat","0.4.4");var sh="@firebase/database",uh="1.0.1",lh="";function ch(e){lh=e}var dh=function(){function e(t){d(this,e),this.domStorage_=t,this.prefix_="firebase:"}return v(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ln(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Dn(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),hh=function(){function e(){d(this,e),this.cache_={},this.isInMemoryStorage=!0}return v(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return jn(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),fh=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new dh(t)}}catch(n){}return new hh},ph=fh("localStorage"),vh=fh("sessionStorage"),mh=new fr("@firebase/database"),yh=function(){var e=1;return function(){return e++}}(),gh=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,cn(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Kn;n.update(t);var r=n.digest();return fn.encodeByteArray(r)},_h=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Ln(r):r,t+=" "}return t},kh=null,bh=!0,wh=function(e,t){cn(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(mh.logLevel=or.VERBOSE,kh=mh.log.bind(mh),t&&vh.set("logging_enabled",!0)):"function"===typeof e?kh=e:(kh=null,vh.remove("logging_enabled"))},xh=function(){if(!0===bh&&(bh=!1,null===kh&&!0===vh.get("logging_enabled")&&wh(!0)),kh){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=_h.apply(null,t);kh(r)}},Ch=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];xh.apply(void 0,[e].concat(n))}},Sh=function(){var e="FIREBASE INTERNAL ERROR: "+_h.apply(void 0,arguments);mh.error(e)},Eh=function(){var e="FIREBASE FATAL ERROR: ".concat(_h.apply(void 0,arguments));throw mh.error(e),new Error(e)},Ih=function(){var e="FIREBASE WARNING: "+_h.apply(void 0,arguments);mh.warn(e)},Th=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ph="[MIN_NAME]",Nh="[MAX_NAME]",Rh=function(e,t){if(e===t)return 0;if(e===Ph||t===Nh)return-1;if(t===Ph||e===Nh)return 1;var n=Uh(e),r=Uh(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Oh=function(e,t){return e===t?0:e<t?-1:1},Ah=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ln(t))},Dh=function e(t){if("object"!==typeof t||null===t)return Ln(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Ln(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Lh=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Mh(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var jh=function(e){cn(!Th(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var Fh=new RegExp("^-?(0*)\\d{1,10}$"),Uh=function(e){if(Fh.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},zh=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Ih("Exception was thrown by user callback.",e),t}),Math.floor(0))}},qh=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},Wh=function(){function e(t,n){var r=this;d(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return v(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Ih('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Vh=function(){function e(t,n,r){var i=this;d(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return v(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(xh("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ih(e)}}]),e}(),Hh=function(){function e(t){d(this,e),this.accessToken=t}return v(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Hh.OWNER="owner";var Bh="5",Kh=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Gh="ac",Qh="websocket",$h="long_polling",Yh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];d(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ph.get("host:"+t)||this._host}return v(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ph.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function Jh(e,t,n){var r;if(cn("string"===typeof t,"typeof type must == string"),cn("object"===typeof n,"typeof params must == object"),t===Qh)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==$h)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Mh(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Xh=function(){function e(){d(this,e),this.counters_={}}return v(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;jn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return gn(void 0,this.counters_)}}]),e}(),Zh={},ef={};function tf(e){var t=e.toString();return Zh[t]||(Zh[t]=new Xh),Zh[t]}var nf=function(){function e(t){d(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return v(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&zh((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),rf="start",af=function(){function e(t,n,r,i,a,o,s){var u=this;d(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ch(t),this.stats_=tf(n),this.urlFn=function(e){return u.appCheckToken&&(e[Gh]=u.appCheckToken),Jh(n,$h,e)}}return v(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new nf(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Pn()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new of((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===rf)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[rf]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Bh,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[Gh]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Kh.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Ln(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=vn(t),r=Lh(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Pn()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Ln(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Pn()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),of=function(){function e(t,n,r,i){if(d(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Pn())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=yh(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){xh("frame writing exception"),s.stack&&xh(s.stack),xh(s)}}}return v(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Pn()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){xh("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||xh("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),sf=null;"undefined"!==typeof MozWebSocket?sf=MozWebSocket:"undefined"!==typeof WebSocket&&(sf=WebSocket);var uf=function(){function e(t,n,r,i,a,o,s){d(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ch(this.connId),this.stats_=tf(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return v(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ph.set("previous_websocket_failure",!0);try{var r;if(Pn()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(Bh,"/").concat(lh,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new sf(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){ph.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Dn(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(cn(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Ln(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Lh(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Bh,!Pn()&&"undefined"!==typeof location&&location.hostname&&Kh.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[Gh]=r),i&&(a.p=i),Jh(e,Qh,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==sf&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return ph.isInMemoryStorage||!0===ph.get("previous_websocket_failure")}}]),e}();uf.responsesRequiredToBeHealthy=2,uf.healthyTimeout=3e4;var lf=function(){function e(t){d(this,e),this.initTransports_(t)}return v(e,[{key:"initTransports_",value:function(t){var n=uf&&uf.isAvailable(),r=n&&!uf.previouslyFailed();if(t.webSocketOnly&&(n||Ih("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[uf];else{var i,a=this.transports_=[],o=N(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[af,uf]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();lf.globalTransportInitialized_=!1;var cf=function(){function e(t,n,r,i,a,o,s,u,l,c){d(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ch("c:"+this.id+":"),this.transportManager_=new lf(n),this.log_("Connection created"),this.start_()}return v(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=qh((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Ah("t",e),n=Ah("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Ah("t",e),n=Ah("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Ah("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Sh("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Sh("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Bh!==n&&Ih("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),qh((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qh((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ph.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),df=function(){function e(){d(this,e)}return v(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),hf=function(){function e(t){d(this,e),this.allowedEvents_=t,this.listeners_={},cn(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return v(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=R(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){cn(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),ff=function(e){y(n,e);var t=b(n);function n(){var e;return d(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Cn()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return v(n,[{key:"getInitialEvent",value:function(e){return cn("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(hf),pf=32,vf=768,mf=function(){function e(t,n){if(d(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return v(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function yf(){return new mf("")}function gf(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function _f(e){return e.pieces_.length-e.pieceNum_}function kf(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new mf(e.pieces_,t)}function bf(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function wf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function xf(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new mf(t,0)}function Cf(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof mf)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new mf(n,0)}function Sf(e){return e.pieceNum_>=e.pieces_.length}function Ef(e,t){var n=gf(e),r=gf(t);if(null===n)return t;if(n===r)return Ef(kf(e),kf(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function If(e,t){for(var n=wf(e,0),r=wf(t,0),i=0;i<n.length&&i<r.length;i++){var a=Rh(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Tf(e,t){if(_f(e)!==_f(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Pf(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(_f(e)>_f(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Nf=v((function e(t,n){d(this,e),this.errorPrefix_=n,this.parts_=wf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=er(this.parts_[r]);Rf(this)}));function Rf(e){if(e.byteLength_>vf)throw new Error(e.errorPrefix_+"has a key path longer than "+vf+" bytes ("+e.byteLength_+").");if(e.parts_.length>pf)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pf+") or object contains a cycle "+Of(e))}function Of(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Af=function(e){y(n,e);var t=b(n);function n(){var e,r,i;return d(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return v(n,[{key:"getInitialEvent",value:function(e){return cn("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(hf),Df=1e3,Lf=function(e){y(n,e);var t=b(n);function n(e,r,i,a,o,s,u,l){var c;if(d(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=Ch("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Df,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!Pn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Af.getInstance().on("visible",c.onVisible_,k(c)),-1===e.host.indexOf("fblocal")&&ff.getInstance().on("online",c.onOnline_,k(c)),c}return v(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Ln(i)),cn(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new wn,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),cn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),cn(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Mn(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Mn(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),cn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Ln(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Sh("Unrecognized action received from server: "+Ln(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;cn(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Df,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Df,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Df),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=C(w().mark((function e(){var t,r,i,a,o,s,u,l,d,h,f,p,v,m,y=this;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},d=function(e){cn(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:d},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:f=e.sent,p=c(f,2),v=p[0],m=p[1],s?xh("getToken() completed but was canceled"):(xh("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new cf(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Ih(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&Ih(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){xh("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){xh("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Un(this.interruptReasons_)&&(this.reconnectDelay_=Df,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Dh(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new mf(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){xh("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){xh("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=N(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=N(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Pn()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+lh.replace(/\./g,"-")]=1,Cn()?e["framework.cordova"]=1:In()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=ff.getInstance().currentlyOnline();return Un(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&jn(e,"w")){var n=Fn(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Ih("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(df);Lf.nextPersistentConnectionId_=0,Lf.nextConnectionId_=0;var Mf,jf=function(){function e(t,n){d(this,e),this.name=t,this.node=n}return v(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Ff=function(){function e(){d(this,e)}return v(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new jf(Ph,e),r=new jf(Ph,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return jf.MIN}}]),e}(),Uf=function(e){y(n,e);var t=b(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e,t){return Rh(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw dn("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return jf.MIN}},{key:"maxPost",value:function(){return new jf(Nh,Mf)}},{key:"makePost",value:function(e,t){return cn("string"===typeof e,"KeyIndex indexValue must always be a string."),new jf(e,Mf)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Mf},set:function(e){Mf=e}}]),n}(Ff),zf=new Uf,qf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;d(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return v(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Wf=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Bf.EMPTY_NODE,this.right=null!=a?a:Bf.EMPTY_NODE}return v(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Bf.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Bf.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Wf.RED=!0,Wf.BLACK=!1;var Vf,Hf=function(){function e(){d(this,e)}return v(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Wf(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Bf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;d(this,e),this.comparator_=t,this.root_=n}return v(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Wf.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Wf.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new qf(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new qf(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new qf(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new qf(this.root_,null,this.comparator_,!0,e)}}]),e}();function Kf(e,t){return Rh(e.name,t.name)}function Gf(e,t){return Rh(e,t)}Bf.EMPTY_NODE=new Hf;var Qf,$f,Yf,Jf=function(e){return"number"===typeof e?"number:"+jh(e):"string:"+e},Xf=function(e){if(e.isLeafNode()){var t=e.val();cn("string"===typeof t||"number"===typeof t||"object"===typeof t&&jn(t,".sv"),"Priority must be a string or number.")}else cn(e===Vf||e.isEmpty(),"priority of unexpected type.");cn(e===Vf||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Zf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;d(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,cn(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Xf(this.priorityNode_)}return v(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Sf(t)?this:".priority"===gf(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=gf(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(cn(".priority"!==r||1===_f(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(kf(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Jf(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?jh(this.value_):this.value_,this.lazyHash_=gh(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(cn(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return cn(i>=0,"Unknown leaf type: "+n),cn(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Qf},set:function(e){Qf=e}}]),e}();Zf.VALUE_TYPE_ORDER=["object","boolean","number","string"];var ep,tp,np=function(e){y(n,e);var t=b(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Rh(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return jf.MIN}},{key:"maxPost",value:function(){return new jf(Nh,new Zf("[PRIORITY-POST]",Yf))}},{key:"makePost",value:function(e,t){var n=$f(e);return new jf(t,new Zf("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Ff),rp=new np,ip=Math.log(2),ap=function(){function e(t){d(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/ip,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return v(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),op=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new Wf(o,a.node,Wf.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new Wf(o,a.node,Wf.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),c=e[a],d=n?n(c):c;u(new Wf(d,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),d=Math.pow(2,t.count-(l+1));c?s(d,Wf.BLACK):(s(d,Wf.BLACK),s(d,Wf.RED))}return a}(new ap(e.length));return new Bf(r||t,a)},sp={},up=function(){function e(t,n){d(this,e),this.indexes_=t,this.indexSet_=n}return v(e,[{key:"get",value:function(e){var t=Fn(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Bf?t:null}},{key:"hasIndex",value:function(e){return jn(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){cn(t!==zf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(jf.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?op(i,t.getCompare()):sp;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(zn(this.indexes_,(function(e,i){var a=Fn(r.indexSet_,i);if(cn(a,"Missing index implementation for "+i),e===sp){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(jf.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),op(o,a.getCompare())}return sp}var l=n.get(t.name),c=e;return l&&(c=c.remove(new jf(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(zn(this.indexes_,(function(e){if(e===sp)return e;var r=n.get(t.name);return r?e.remove(new jf(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return cn(sp&&rp,"ChildrenNode.ts has not been loaded"),ep=ep||new e({".priority":sp},{".priority":rp})}}]),e}(),lp=function(){function e(t,n,r){d(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Xf(this.priorityNode_),this.children_.isEmpty()&&cn(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return v(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||tp}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?tp:t}},{key:"getChild",value:function(e){var t=gf(e);return null===t?this:this.getImmediateChild(t).getChild(kf(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(cn(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new jf(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?tp:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=gf(e);if(null===n)return t;cn(".priority"!==gf(e)||1===_f(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(kf(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(rp,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Jf(this.getPriority().val())+":"),this.forEachChild(rp,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":gh(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new jf(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new jf(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new jf(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,jf.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,jf.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===cp?-1:0}},{key:"withIndex",value:function(t){if(t===zf||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===zf||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(rp),r=t.getIterator(rp),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===zf?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return tp||(tp=new e(new Bf(Gf),null,up.Default))}}]),e}();lp.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var cp=new(function(e){y(n,e);var t=b(n);function n(){return d(this,n),t.call(this,new Bf(Gf),lp.EMPTY_NODE,up.Default)}return v(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return lp.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(lp));Object.defineProperties(jf,{MIN:{value:new jf(Ph,lp.EMPTY_NODE)},MAX:{value:new jf(Nh,cp)}}),Uf.__EMPTY_NODE=lp.EMPTY_NODE,Zf.__childrenNodeConstructor=lp,Vf=cp,function(e){Yf=e}(cp);var dp=!0;function hp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return lp.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),cn(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Zf(e,hp(t));if(e instanceof Array||!dp){var n=lp.EMPTY_NODE;return Mh(e,(function(t,r){if(jn(e,t)&&"."!==t.substring(0,1)){var i=hp(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(hp(t))}var r=[],i=!1;if(Mh(e,(function(e,t){if("."!==e.substring(0,1)){var n=hp(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new jf(e,n)))}})),0===r.length)return lp.EMPTY_NODE;var a=op(r,Kf,(function(e){return e.name}),Gf);if(i){var o=op(r,rp.getCompare());return new lp(a,hp(t),new up({".priority":o},{".priority":rp}))}return new lp(a,hp(t),up.Default)}!function(e){$f=e}(hp);var fp=function(e){y(n,e);var t=b(n);function n(e){var r;return d(this,n),(r=t.call(this)).indexPath_=e,cn(!Sf(e)&&".priority"!==gf(e),"Can't create PathIndex with empty path or .priority key"),r}return v(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Rh(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=hp(e),r=lp.EMPTY_NODE.updateChild(this.indexPath_,n);return new jf(t,r)}},{key:"maxPost",value:function(){var e=lp.EMPTY_NODE.updateChild(this.indexPath_,cp);return new jf(Nh,e)}},{key:"toString",value:function(){return wf(this.indexPath_,0).join("/")}}]),n}(Ff),pp=function(e){y(n,e);var t=b(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Rh(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return jf.MIN}},{key:"maxPost",value:function(){return jf.MAX}},{key:"makePost",value:function(e,t){var n=hp(e);return new jf(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Ff),vp=new pp;function mp(e){return{type:"value",snapshotNode:e}}function yp(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function gp(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function _p(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var kp=function(){function e(t){d(this,e),this.index_=t}return v(e,[{key:"updateChild",value:function(e,t,n,r,i,a){cn(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(gp(t,o)):cn(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(yp(t,n)):a.trackChildChange(_p(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(rp,(function(e,r){t.hasChild(e)||n.trackChildChange(gp(e,r))})),t.isLeafNode()||t.forEachChild(rp,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(_p(t,r,i))}else n.trackChildChange(yp(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?lp.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),bp=function(){function e(t){d(this,e),this.indexedFilter_=new kp(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return v(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new jf(t,n))||(n=lp.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=lp.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(lp.EMPTY_NODE);var i=this;return t.forEachChild(rp,(function(e,t){i.matches(new jf(e,t))||(r=r.updateImmediateChild(e,lp.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),wp=function(){function e(t){var n=this;d(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new bp(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return v(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new jf(t,n))||(n=lp.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=lp.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=lp.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(lp.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var l=s.getNext();u<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?u++:r=r.updateImmediateChild(l.name,lp.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;cn(s.numChildren()===this.limit_,"");var u=new jf(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var d=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,l,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var f=null==h?1:a(h,u);if(c&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(_p(t,n,d)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(gp(t,d));var p=s.updateImmediateChild(t,lp.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(yp(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:c&&a(l,u)>=0?(null!=i&&(i.trackChildChange(gp(l.name,l.node)),i.trackChildChange(yp(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,lp.EMPTY_NODE)):e}}]),e}(),xp=function(){function e(){d(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rp}return v(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return cn(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return cn(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ph}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return cn(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return cn(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Nh}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return cn(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===rp}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Cp(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Sp(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ep(e,t){var n=e.copy();return n.index_=t,n}function Ip(e){var t,n={};if(e.isDefault())return n;if(e.index_===rp?t="$priority":e.index_===vp?t="$value":e.index_===zf?t="$key":(cn(e.index_ instanceof fp,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Ln(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Ln(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Ln(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Ln(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Ln(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Tp(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==rp&&(t.i=e.index_.toString()),t}var Pp=function(e){y(n,e);var t=b(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Ch("p:rest:"),o.listens_={},o}return v(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=Ip(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Fn(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Ip(e._queryParams),r=e._path.toString(),i=new wn;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=c(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Vn(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Dn(l.responseText)}catch(n){Ih("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&Ih("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(cn(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(df),Np=function(){function e(){d(this,e),this.rootNode_=lp.EMPTY_NODE}return v(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Rp(){return{value:null,children:new Map}}function Op(e,t,n){if(Sf(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=gf(t);e.children.has(r)||e.children.set(r,Rp()),Op(e.children.get(r),t=kf(t),n)}}function Ap(e,t){if(Sf(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(rp,(function(t,n){Op(e,new mf(t),n)})),Ap(e,t)}if(e.children.size>0){var r=gf(t);if(t=kf(t),e.children.has(r))Ap(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Dp(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Dp(r,new mf(t.toString()+"/"+e),n)}))}var Lp,Mp=function(){function e(t){d(this,e),this.collection_=t,this.last_=null}return v(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Mh(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),jp=function(){function e(t,n){d(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Mp(t);var r=1e4+2e4*Math.random();qh(this.reportStats_.bind(this),Math.floor(r))}return v(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Mh(t,(function(t,i){i>0&&jn(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),qh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Fp(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Lp||(Lp={}));var Up,zp=function(){function e(t,n,r){d(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Lp.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return v(e,[{key:"operationForChild",value:function(t){if(Sf(this.path)){if(null!=this.affectedTree.value)return cn(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new mf(t));return new e(yf(),n,this.revert)}return cn(gf(this.path)===t,"operationForChild called for unrelated child."),new e(kf(this.path),this.affectedTree,this.revert)}}]),e}(),qp=function(){function e(t,n){d(this,e),this.source=t,this.path=n,this.type=Lp.LISTEN_COMPLETE}return v(e,[{key:"operationForChild",value:function(t){return Sf(this.path)?new e(this.source,yf()):new e(this.source,kf(this.path))}}]),e}(),Wp=function(){function e(t,n,r){d(this,e),this.source=t,this.path=n,this.snap=r,this.type=Lp.OVERWRITE}return v(e,[{key:"operationForChild",value:function(t){return Sf(this.path)?new e(this.source,yf(),this.snap.getImmediateChild(t)):new e(this.source,kf(this.path),this.snap)}}]),e}(),Vp=function(){function e(t,n,r){d(this,e),this.source=t,this.path=n,this.children=r,this.type=Lp.MERGE}return v(e,[{key:"operationForChild",value:function(t){if(Sf(this.path)){var n=this.children.subtree(new mf(t));return n.isEmpty()?null:n.value?new Wp(this.source,yf(),n.value):new e(this.source,yf(),n)}return cn(gf(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,kf(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Hp=function(){function e(t,n,r){d(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return v(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Sf(e))return this.isFullyInitialized()&&!this.filtered_;var t=gf(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Bp=v((function e(t){d(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function Kp(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw dn("Should only compare child_ events.");var r=new jf(t.childName,t.snapshotNode),i=new jf(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Gp(e,t){return{eventCache:e,serverCache:t}}function Qp(e,t,n,r){return Gp(new Hp(t,n,r),e.serverCache)}function $p(e,t,n,r){return Gp(e.eventCache,new Hp(t,n,r))}function Yp(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Jp(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Xp=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Up||(Up=new Bf(Oh)),Up);d(this,e),this.value=t,this.children=n}return v(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:yf(),value:this.value};if(Sf(e))return null;var n=gf(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(kf(e),t);return null!=i?{path:Cf(new mf(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Sf(t))return this;var n=gf(t),r=this.children.get(n);return null!==r?r.subtree(kf(t)):new e(null)}},{key:"set",value:function(t,n){if(Sf(t))return new e(n,this.children);var r=gf(t),i=(this.children.get(r)||new e(null)).set(kf(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Sf(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=gf(t),r=this.children.get(n);if(r){var i,a=r.remove(kf(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Sf(e))return this.value;var t=gf(e),n=this.children.get(t);return n?n.get(kf(e)):null}},{key:"setTree",value:function(t,n){if(Sf(t))return n;var r,i=gf(t),a=(this.children.get(i)||new e(null)).setTree(kf(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(yf(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Cf(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,yf(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Sf(e))return null;var i=gf(e),a=this.children.get(i);return a?a.findOnPath_(kf(e),Cf(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,yf(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Sf(t))return this;this.value&&r(n,this.value);var i=gf(t),a=this.children.get(i);return a?a.foreachOnPath_(kf(t),Cf(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(yf(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Cf(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Mh(t,(function(e,t){n=n.set(new mf(e),t)})),n}}]),e}(),Zp=function(){function e(t){d(this,e),this.writeTree_=t}return v(e,null,[{key:"empty",value:function(){return new e(new Xp(null))}}]),e}();function ev(e,t,n){if(Sf(t))return new Zp(new Xp(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Ef(i,t);return a=a.updateChild(o,n),new Zp(e.writeTree_.set(i,a))}var s=new Xp(n),u=e.writeTree_.setTree(t,s);return new Zp(u)}function tv(e,t,n){var r=e;return Mh(n,(function(e,n){r=ev(r,Cf(t,e),n)})),r}function nv(e,t){if(Sf(t))return Zp.empty();var n=e.writeTree_.setTree(t,new Xp(null));return new Zp(n)}function rv(e,t){return null!=iv(e,t)}function iv(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ef(n.path,t)):null}function av(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(rp,(function(e,n){t.push(new jf(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new jf(e,n.value))})),t}function ov(e,t){if(Sf(t))return e;var n=iv(e,t);return new Zp(null!=n?new Xp(n):e.writeTree_.subtree(t))}function sv(e){return e.writeTree_.isEmpty()}function uv(e,t){return lv(yf(),e.writeTree_,t)}function lv(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(cn(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=lv(Cf(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Cf(e,".priority"),r)),n}function cv(e,t){return xv(t,e)}function dv(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));cn(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&hv(s,r.path)?i=!1:Pf(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=pv(e.allWrites,fv,yf()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=nv(e.visibleWrites,r.path):Mh(r.children,(function(t){e.visibleWrites=nv(e.visibleWrites,Cf(r.path,t))}));return!0}return!1}function hv(e,t){if(e.snap)return Pf(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Pf(Cf(e.path,n),t))return!0;return!1}function fv(e){return e.visible}function pv(e,t,n){for(var r=Zp.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Pf(n,o)?r=ev(r,s=Ef(n,o),a.snap):Pf(o,n)&&(s=Ef(o,n),r=ev(r,yf(),a.snap.getChild(s)));else{if(!a.children)throw dn("WriteRecord should have .snap or .children");if(Pf(n,o))r=tv(r,s=Ef(n,o),a.children);else if(Pf(o,n))if(Sf(s=Ef(o,n)))r=tv(r,yf(),a.children);else{var u=Fn(a.children,gf(s));if(u){var l=u.getChild(kf(s));r=ev(r,yf(),l)}}}}}return r}function vv(e,t,n,r,i){if(r||i){var a=ov(e.visibleWrites,t);if(!i&&sv(a))return n;if(i||null!=n||rv(a,yf())){return uv(pv(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Pf(e.path,t)||Pf(t,e.path))}),t),n||lp.EMPTY_NODE)}return null}var o=iv(e.visibleWrites,t);if(null!=o)return o;var s=ov(e.visibleWrites,t);return sv(s)?n:null!=n||rv(s,yf())?uv(s,n||lp.EMPTY_NODE):null}function mv(e,t,n,r){return vv(e.writeTree,e.treePath,t,n,r)}function yv(e,t){return function(e,t,n){var r=lp.EMPTY_NODE,i=iv(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(rp,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=ov(e.visibleWrites,t);return n.forEachChild(rp,(function(e,t){var n=uv(ov(a,new mf(e)),t);r=r.updateImmediateChild(e,n)})),av(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return av(ov(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function gv(e,t,n,r){return function(e,t,n,r,i){cn(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Cf(t,n);if(rv(e.visibleWrites,a))return null;var o=ov(e.visibleWrites,a);return sv(o)?i.getChild(n):uv(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function _v(e,t){return function(e,t){return iv(e.visibleWrites,t)}(e.writeTree,Cf(e.treePath,t))}function kv(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=ov(e.visibleWrites,t),l=iv(u,yf());if(null!=l)s=l;else{if(null==n)return[];s=uv(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],d=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),f=h.getNext();f&&c.length<i;)0!==d(f,r)&&c.push(f),f=h.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function bv(e,t,n){return function(e,t,n,r){var i=Cf(t,n),a=iv(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?uv(ov(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function wv(e,t){return xv(Cf(e.treePath,t),e.writeTree)}function xv(e,t){return{treePath:e,writeTree:t}}var Cv=function(){function e(){d(this,e),this.changeMap=new Map}return v(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;cn("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),cn(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,_p(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,gp(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,yp(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw dn("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,_p(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Sv=new(function(){function e(){d(this,e)}return v(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Ev=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return v(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Hp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bv(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jp(this.viewCache_),i=kv(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Iv(e,t,n,r,i){var a,o,s=new Cv;if(n.type===Lp.OVERWRITE){var u=n;u.source.fromUser?a=Nv(e,t,u.path,u.snap,r,i,s):(cn(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Sf(u.path),a=Pv(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Lp.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=Cf(n,r);Rv(t,gf(l))&&(s=Nv(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=Cf(n,r);Rv(t,gf(l))||(s=Nv(e,s,l,u,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):(cn(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=Av(e,t,l.path,l.children,r,i,o,s))}else if(n.type===Lp.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=_v(r,n))return t;var s,u=new Ev(r,t,i),l=t.eventCache.getNode();if(Sf(n)||".priority"===gf(n)){var c;if(t.serverCache.isFullyInitialized())c=mv(r,Jp(t));else{var d=t.serverCache.getNode();cn(d instanceof lp,"serverChildren would be complete if leaf node"),c=yv(r,d)}s=e.filter.updateFullNode(l,c,a)}else{var h=gf(n),f=bv(r,h,t.serverCache);null==f&&t.serverCache.isCompleteForChild(h)&&(f=l.getImmediateChild(h)),(s=null!=f?e.filter.updateChild(l,h,f,kf(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(l,h,lp.EMPTY_NODE,kf(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=mv(r,Jp(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=_v(r,yf()),Qp(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=_v(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Sf(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Pv(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Sf(n)){var l=new Xp(null);return u.getNode().forEachChild(zf,(function(e,t){l=l.set(new mf(e),t)})),Av(e,t,n,l,i,a,s,o)}return t}var c=new Xp(null);return r.foreach((function(e,t){var r=Cf(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Av(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Lp.LISTEN_COMPLETE)throw dn("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=$p(t,a.getNode(),a.isFullyInitialized()||Sf(n),a.isFiltered());return Tv(e,o,n,r,Sv,i)}(e,t,n.path,r,s)}var d=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Yp(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(mp(Yp(t)))}}(t,a,d),{viewCache:a,changes:d}}function Tv(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=_v(r,n))return t;if(Sf(n))if(cn(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Jp(t),c=yv(r,l instanceof lp?l:lp.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var d=mv(r,Jp(t));o=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var h=gf(n);if(".priority"===h){cn(1===_f(n),"Can't have a priority with additional path components");var f=u.getNode(),p=gv(r,n,f,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(f,p):u.getNode()}else{var v,m=kf(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var y=gv(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(h).updateChild(m,y):u.getNode().getImmediateChild(h)}else v=bv(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return Qp(t,o,u.isFullyInitialized()||Sf(n),e.filter.filtersNodes())}function Pv(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(Sf(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var d=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),d,null)}else{var h=gf(n);if(!l.isCompleteForPath(n)&&_f(n)>1)return t;var f=kf(n),p=l.getNode().getImmediateChild(h).updateChild(f,r);u=".priority"===h?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),h,p,f,Sv,null)}var v=$p(t,u,l.isFullyInitialized()||Sf(n),c.filtersNodes());return Tv(e,v,n,i,new Ev(i,v,a),s)}function Nv(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new Ev(i,t,a);if(Sf(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=Qp(t,u,!0,e.filter.filtersNodes());else{var d=gf(n);if(".priority"===d)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Qp(t,u,l.isFullyInitialized(),l.isFiltered());else{var h,f=kf(n),p=l.getNode().getImmediateChild(d);if(Sf(f))h=r;else{var v=c.getCompleteChild(d);h=null!=v?".priority"===bf(f)&&v.getChild(xf(f)).isEmpty()?v:v.updateChild(f,r):lp.EMPTY_NODE}if(p.equals(h))s=t;else s=Qp(t,e.filter.updateChild(l.getNode(),d,h,f,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Rv(e,t){return e.eventCache.isCompleteForChild(t)}function Ov(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Av(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=Sf(n)?r:new Xp(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=Ov(0,t.serverCache.getNode().getImmediateChild(n),r);l=Pv(e,l,new mf(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!u){var d=Ov(0,t.serverCache.getNode().getImmediateChild(n),r);l=Pv(e,l,new mf(n),d,i,a,o,s)}})),l}var Dv,Lv=function(){function e(t,n){d(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new kp(i.getIndex()),o=(r=i).loadsAllData()?new kp(r.getIndex()):r.hasLimit()?new wp(r):new bp(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,l=a.updateFullNode(lp.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(lp.EMPTY_NODE,u.getNode(),null),h=new Hp(l,s.isFullyInitialized(),a.filtersNodes()),f=new Hp(c,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Gp(f,h),this.eventGenerator_=new Bp(this.query_)}return v(e,[{key:"query",get:function(){return this.query_}}]),e}();function Mv(e,t){var n=Jp(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Sf(t)&&!n.getImmediateChild(gf(t)).isEmpty())?n.getChild(t):null}function jv(e){return 0===e.eventRegistrations_.length}function Fv(e,t,n){var r=[];if(n){cn(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Uv(e,t,n,r){t.type===Lp.MERGE&&null!==t.source.queryId&&(cn(Jp(e.viewCache_),"We should always have a full cache before handling merges"),cn(Yp(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Iv(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,cn(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),cn(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),cn(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,zv(e,s.changes,s.viewCache.eventCache.getNode(),null)}function zv(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Kp(e,i,"child_removed",t,r,n),Kp(e,i,"child_added",t,r,n),Kp(e,i,"child_moved",a,r,n),Kp(e,i,"child_changed",t,r,n),Kp(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var qv,Wv=v((function e(){d(this,e),this.views=new Map}));function Vv(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return cn(null!=a,"SyncTree gave us an op for an invalid query."),Uv(a,t,n,r)}var o,s=[],u=N(e.views.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s=s.concat(Uv(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function Hv(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=mv(n,i?r:null),u=!1;s?u=!0:r instanceof lp?(s=yv(n,r),u=!1):(s=lp.EMPTY_NODE,u=!1);var l=Gp(new Hp(s,u,!1),new Hp(r,i,!1));return new Lv(t,l)}return o}function Bv(e,t,n,r,i,a){var o=Hv(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(rp,(function(e,t){r.push(yp(e,t))})),n.isFullyInitialized()&&r.push(mp(n.getNode())),zv(e,r,n.getNode(),t)}(o,n)}function Kv(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=Jv(e);if("default"===i){var u,l=N(e.views.entries());try{for(l.s();!(u=l.n()).done;){var d=c(u.value,2),h=d[0],f=d[1];o=o.concat(Fv(f,n,r)),jv(f)&&(e.views.delete(h),f.query._queryParams.loadsAllData()||a.push(f.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(Fv(p,n,r)),jv(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!Jv(e)&&a.push(new(cn(Dv,"Reference.ts has not been loaded"),Dv)(t._repo,t._path)),{removed:a,events:o}}function Gv(e){var t,n=[],r=N(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function Qv(e,t){var n,r=null,i=N(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Mv(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function $v(e,t){if(t._queryParams.loadsAllData())return Xv(e);var n=t._queryIdentifier;return e.views.get(n)}function Yv(e,t){return null!=$v(e,t)}function Jv(e){return null!=Xv(e)}function Xv(e){var t,n=N(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var Zv=1,em=v((function e(t){d(this,e),this.listenProvider_=t,this.syncPointTree_=new Xp(null),this.pendingWriteTree_={visibleWrites:Zp.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function tm(e,t,n,r,i){return function(e,t,n,r,i){cn(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ev(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?cm(e,new Wp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function nm(e,t,n,r){!function(e,t,n,r){cn(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=tv(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Xp.fromObject(n);return cm(e,new Vp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function rm(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(dv(e.pendingWriteTree_,t)){var i=new Xp(null);return null!=r.snap?i=i.set(yf(),!0):Mh(r.children,(function(e){i=i.set(new mf(e),!0)})),cm(e,new zp(r.path,i,n))}return[]}function im(e,t,n){return cm(e,new Wp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function am(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||Yv(o,t))){var u=Kv(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=u.removed;if(s=u.events,!i){var c=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),d=e.syncPointTree_.findOnPath(a,(function(e,t){return Jv(t)}));if(c&&!d){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&Jv(t))return[Xv(t)];var r=[];return t&&(r=Gv(t)),Mh(n,(function(e,t){r=r.concat(t)})),r}))}(h),p=0;p<f.length;++p){var v=f[p],m=v.query,y=fm(e,v);e.listenProvider_.startListening(_m(m),pm(e,m),y.hashFn,y.onComplete)}}if(!d&&l.length>0&&!r)if(c){e.listenProvider_.stopListening(_m(t),null)}else l.forEach((function(t){var n=e.queryToTagMap.get(vm(t));e.listenProvider_.stopListening(_m(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=vm(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,l)}return s}function om(e,t,n,r){var i=mm(e,r);if(null!=i){var a=ym(i),o=a.path,s=a.queryId,u=Ef(o,t);return gm(e,o,new Wp(Fp(s),u,n))}return[]}function sm(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=Ef(e,i);a=a||Qv(t,n),o=o||Jv(t)}));var s,u=e.syncPointTree_.get(i);(u?(o=o||Jv(u),a=a||Qv(u,yf())):(u=new Wv,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)?s=!0:(s=!1,a=lp.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=Qv(t,yf());n&&(a=a.updateImmediateChild(e,n))})));var l=Yv(u,t);if(!l&&!t._queryParams.loadsAllData()){var c=vm(t);cn(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var d=Zv++;e.queryToTagMap.set(c,d),e.tagToQueryMap.set(d,c)}var h=Bv(u,t,n,cv(e.pendingWriteTree_,i),a,s);if(!l&&!o&&!r){var f=$v(u,t);h=h.concat(function(e,t,n){var r=t._path,i=pm(e,t),a=fm(e,n),o=e.listenProvider_.startListening(_m(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)cn(!Jv(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!Sf(e)&&t&&Jv(t))return[Xv(t).query];var r=[];return t&&(r=r.concat(Gv(t).map((function(e){return e.query})))),Mh(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var c=u[l];e.listenProvider_.stopListening(_m(c),pm(e,c))}return o}(e,t,f))}return h}function um(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Qv(n,Ef(e,t));if(r)return r}));return vv(r,t,i,n,!0)}function lm(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Ef(e,n);r=r||Qv(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Qv(i,yf()):(i=new Wv,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new Hp(r,!0,!1):null;return function(e){return Yp(e.viewCache_)}(Hv(i,t,cv(e.pendingWriteTree_,t._path),a?o.getNode():lp.EMPTY_NODE,a))}function cm(e,t){return dm(t,e.syncPointTree_,null,cv(e.pendingWriteTree_,yf()))}function dm(e,t,n,r){if(Sf(e.path))return hm(e,t,n,r);var i=t.get(yf());null==n&&null!=i&&(n=Qv(i,yf()));var a=[],o=gf(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var l=n?n.getImmediateChild(o):null,c=wv(r,o);a=a.concat(dm(s,u,l,c))}return i&&(a=a.concat(Vv(i,e,r,n))),a}function hm(e,t,n,r){var i=t.get(yf());null==n&&null!=i&&(n=Qv(i,yf()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=wv(r,t),u=e.operationForChild(t);u&&(a=a.concat(hm(u,i,o,s)))})),i&&(a=a.concat(Vv(i,e,r,n))),a}function fm(e,t){var n=t.query,r=pm(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||lp.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=mm(e,n);if(r){var i=ym(r),a=i.path,o=i.queryId,s=Ef(a,t);return gm(e,a,new qp(Fp(o),s))}return[]}(e,n._path,r):function(e,t){return cm(e,new qp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return am(e,n,null,i)}}}function pm(e,t){var n=vm(t);return e.queryToTagMap.get(n)}function vm(e){return e._path.toString()+"$"+e._queryIdentifier}function mm(e,t){return e.tagToQueryMap.get(t)}function ym(e){var t=e.indexOf("$");return cn(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new mf(e.substr(0,t))}}function gm(e,t,n){var r=e.syncPointTree_.get(t);return cn(r,"Missing sync point for query tag that we're tracking"),Vv(r,n,cv(e.pendingWriteTree_,t),null)}function _m(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(cn(qv,"Reference.ts has not been loaded"),qv)(e._repo,e._path):e}var km=function(){function e(t){d(this,e),this.node_=t}return v(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),bm=function(){function e(t,n){d(this,e),this.syncTree_=t,this.path_=n}return v(e,[{key:"getImmediateChild",value:function(t){var n=Cf(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return um(this.syncTree_,this.path_)}}]),e}(),wm=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},xm=function(e,t,n){return e&&"object"===typeof e?(cn(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Cm(e[".sv"],t,n):"object"===typeof e[".sv"]?Sm(e[".sv"],t):void cn(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Cm=function(e,t,n){if("timestamp"===e)return n.timestamp;cn(!1,"Unexpected server value: "+e)},Sm=function(e,t,n){e.hasOwnProperty("increment")||cn(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&cn(!1,"Unexpected increment value: "+r);var i=t.node();if(cn(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Em=function(e,t,n,r){return Tm(t,new bm(n,e),r)},Im=function(e,t,n){return Tm(e,new km(t),n)};function Tm(e,t,n){var r,i=e.getPriority().val(),a=xm(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=xm(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new Zf(s,hp(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new Zf(a))),u.forEachChild(rp,(function(e,i){var a=Tm(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Pm=v((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};d(this,e),this.name=t,this.parent=n,this.node=r}));function Nm(e,t){for(var n=t instanceof mf?t:new mf(t),r=e,i=gf(n);null!==i;){var a=Fn(r.node.children,i)||{children:{},childCount:0};r=new Pm(i,r,a),i=gf(n=kf(n))}return r}function Rm(e){return e.node.value}function Om(e,t){e.node.value=t,jm(e)}function Am(e){return e.node.childCount>0}function Dm(e,t){Mh(e.node.children,(function(n,r){t(new Pm(n,e,r))}))}function Lm(e,t,n,r){n&&!r&&t(e),Dm(e,(function(e){Lm(e,t,!0,r)})),n&&r&&t(e)}function Mm(e){return new mf(null===e.parent?e.name:Mm(e.parent)+"/"+e.name)}function jm(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Rm(e)&&!Am(e)}(n),i=jn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,jm(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,jm(e))}(e.parent,e.name,e)}var Fm=/[\[\].#$\/\u0000-\u001F\u007F]/,Um=/[\[\].#$\u0000-\u001F\u007F]/,zm=10485760,qm=function(e){return"string"===typeof e&&0!==e.length&&!Fm.test(e)},Wm=function(e){return"string"===typeof e&&0!==e.length&&!Um.test(e)},Vm=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Th(e)||e&&"object"===typeof e&&jn(e,".sv")},Hm=function(e,t,n,r){r&&void 0===t||Bm(Jn(e,"value"),t,n)},Bm=function e(t,n,r){var i=r instanceof mf?new Nf(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Of(i));if("function"===typeof n)throw new Error(t+"contains a function "+Of(i)+" with contents = "+n.toString());if(Th(n))throw new Error(t+"contains "+n.toString()+" "+Of(i));if("string"===typeof n&&n.length>zm/3&&er(n)>zm)throw new Error(t+"contains a string greater than "+zm+" utf8 bytes "+Of(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Mh(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!qm(n)))throw new Error(t+" contains an invalid key ("+n+") "+Of(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=er(u),Rf(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=er(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Of(i)+" in addition to actual children.")}},Km=function(e,t,n,r){if(!r||void 0!==t){var i=Jn(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];Mh(t,(function(e,t){var r=new mf(e);if(Bm(i,t,Cf(n,r)),".priority"===bf(r)&&!Vm(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=wf(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!qm(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(If);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Pf(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},Gm=function(e,t,n){if(!n||void 0!==t){if(Th(t))throw new Error(Jn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Vm(t))throw new Error(Jn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Qm=function(e,t,n,r){if((!r||void 0!==n)&&!qm(n))throw new Error(Jn(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},$m=function(e,t,n,r){if((!r||void 0!==n)&&!Wm(n))throw new Error(Jn(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ym=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$m(e,t,n,r)},Jm=function(e,t){if(".info"===gf(t))throw new Error(e+" failed = Can't modify data under /.info/")},Xm=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!qm(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Wm(e)}(n))throw new Error(Jn(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Zm=v((function e(){d(this,e),this.eventLists_=[],this.recursionDepth_=0}));function ey(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Tf(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function ty(e,t,n){ey(e,n),ry(e,(function(e){return Tf(e,t)}))}function ny(e,t,n){ey(e,n),ry(e,(function(e){return Pf(e,t)||Pf(t,e)}))}function ry(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(iy(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function iy(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();kh&&xh("event: "+n.toString()),zh(r)}}}var ay="repo_interrupt",oy=25,sy=function(){function e(t,n,r,i){d(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Zm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rp(),this.transactionQueueTree_=new Pm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return v(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function uy(e,t,n){if(e.stats_=tf(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Pp(e.repoInfo_,(function(t,n,r,i){dy(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return hy(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ln(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Lf(e.repoInfo_,t,(function(t,n,r,i){dy(e,t,n,r,i)}),(function(t){hy(e,t)}),(function(t){!function(e,t){Mh(t,(function(t,n){fy(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return ef[n]||(ef[n]=t()),ef[n]}(e.repoInfo_,(function(){return new jp(e.stats_,e.server_)})),e.infoData_=new Np,e.infoSyncTree_=new em({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=im(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),fy(e,"connected",!1),e.serverSyncTree_=new em({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);ny(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ly(e){var t=e.infoData_.getNode(new mf(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function cy(e){return wm({timestamp:ly(e)})}function dy(e,t,n,r,i){e.dataUpdateCount++;var a=new mf(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=zn(n,(function(e){return hp(e)}));o=function(e,t,n,r){var i=mm(e,r);if(i){var a=ym(i),o=a.path,s=a.queryId,u=Ef(o,t),l=Xp.fromObject(n);return gm(e,o,new Vp(Fp(s),u,l))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=hp(n);o=om(e.serverSyncTree_,a,u,i)}else if(r){var l=zn(n,(function(e){return hp(e)}));o=function(e,t,n){var r=Xp.fromObject(n);return cm(e,new Vp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=hp(n);o=im(e.serverSyncTree_,a,c)}var d=a;o.length>0&&(d=Cy(e,a)),ny(e.eventQueue_,d,o)}function hy(e,t){fy(e,"connected",t),!1===t&&function(e){ky(e,"onDisconnectEvents");var t=cy(e),n=Rp();Dp(e.onDisconnect_,yf(),(function(r,i){var a=Em(r,i,e.serverSyncTree_,t);Op(n,r,a)}));var r=[];Dp(n,yf(),(function(t,n){r=r.concat(im(e.serverSyncTree_,t,n));var i=Py(e,t);Cy(e,i)})),e.onDisconnect_=Rp(),ny(e.eventQueue_,yf(),r)}(e)}function fy(e,t,n){var r=new mf("/.info/"+t),i=hp(n);e.infoData_.updateSnapshot(r,i);var a=im(e.infoSyncTree_,r,i);ny(e.eventQueue_,r,a)}function py(e){return e.nextWriteId_++}function vy(e,t,n,r,i){ky(e,"set",{path:t.toString(),value:n,priority:r});var a=cy(e),o=hp(n,r),s=um(e.serverSyncTree_,t),u=Im(o,s,a),l=py(e),c=tm(e.serverSyncTree_,t,u,l,!0);ey(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||Ih("set at "+t+" failed: "+n);var o=rm(e.serverSyncTree_,l,!a);ny(e.eventQueue_,t,o),by(e,i,n,r)}));var d=Py(e,t);Cy(e,d),ny(e.eventQueue_,d,[])}function my(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Ap(e.onDisconnect_,t),by(e,n,r,i)}))}function yy(e,t,n,r){var i=hp(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&Op(e.onDisconnect_,t,i),by(e,r,n,a)}))}function gy(e,t,n){var r;r=".info"===gf(t._path)?am(e.infoSyncTree_,t,n):am(e.serverSyncTree_,t,n),ty(e.eventQueue_,t._path,r)}function _y(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ay)}function ky(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];xh.apply(void 0,[t].concat(r))}function by(e,t,n,r){t&&zh((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function wy(e,t,n){return um(e.serverSyncTree_,t,n)||lp.EMPTY_NODE}function xy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Ty(e,t),Rm(t)){var n=Ey(e,t);cn(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=wy(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];cn(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=Ef(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),d=t;e.server_.put(d.toString(),c,(function(r){ky(e,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(rm(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);Ty(e,Nm(e.transactionQueueTree_,t)),xy(e,e.transactionQueueTree_),ny(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)zh(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{Ih("transaction at "+d.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}Cy(e,t)}}),o)}(e,Mm(t),n)}else Am(t)&&Dm(t,(function(t){xy(e,t)}))}function Cy(e,t){var n=Sy(e,t),r=Mm(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),o=function(o){var s,u,l=t[o],c=Ef(n,l.path),d=!1;if(cn(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,s=l.abortReason,i=i.concat(rm(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=oy)d=!0,s="maxretry",i=i.concat(rm(e.serverSyncTree_,l.currentWriteId,!0));else{var h=wy(e,l.path,a);l.currentInputSnapshot=h;var f=t[o].update(h.val());if(void 0!==f){Bm("transaction failed: Data returned ",f,l.path);var p=hp(f);"object"===typeof f&&null!=f&&jn(f,".priority")||(p=p.updatePriority(h.getPriority()));var v=l.currentWriteId,m=cy(e),y=Im(p,h,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=py(e),a.splice(a.indexOf(v),1),i=(i=i.concat(tm(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(rm(e.serverSyncTree_,v,!0))}else d=!0,s="nodata",i=i.concat(rm(e.serverSyncTree_,l.currentWriteId,!0))}ny(e.eventQueue_,n,i),i=[],d&&(t[o].status=2,u=t[o].unwatcher,setTimeout(u,Math.floor(0)),t[o].onComplete&&("nodata"===s?r.push((function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)})):r.push((function(){return t[o].onComplete(new Error(s),!1,null)}))))},s=0;s<t.length;s++)o(s);Ty(e,e.transactionQueueTree_);for(var u=0;u<r.length;u++)zh(r[u]);xy(e,e.transactionQueueTree_)}(e,Ey(e,n),r),r}function Sy(e,t){var n,r=e.transactionQueueTree_;for(n=gf(t);null!==n&&void 0===Rm(r);)r=Nm(r,n),n=gf(t=kf(t));return r}function Ey(e,t){var n=[];return Iy(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Iy(e,t,n){var r=Rm(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Dm(t,(function(t){Iy(e,t,n)}))}function Ty(e,t){var n=Rm(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Om(t,n.length>0?n:void 0)}Dm(t,(function(t){Ty(e,t)}))}function Py(e,t){var n=Mm(Sy(e,t)),r=Nm(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Ny(e,t)})),Ny(e,r),Lm(r,(function(t){Ny(e,t)})),n}function Ny(e,t){var n=Rm(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(cn(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(cn(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(rm(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Om(t,void 0):n.length=a+1,ny(e.eventQueue_,Mm(t),i);for(var s=0;s<r.length;s++)zh(r[s])}}var Ry=function(e,t){var n=Oy(e),r=n.namespace;"firebase.com"===n.domain&&Eh(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Eh("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ih("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Yh(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new mf(n.pathString)}},Oy=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,d)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=N(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Ih("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,d)));(l=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var f=t.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},Ay="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Dy=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=Ay.charAt(n%64),n=Math.floor(n/64);cn(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=Ay.charAt(t[r]);return cn(20===o.length,"nextPushId: Length should be 20."),o}}(),Ly=function(){function e(t,n,r,i){d(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return v(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Ln(this.snapshot.exportVal())}}]),e}(),My=function(){function e(t,n,r){d(this,e),this.eventRegistration=t,this.error=n,this.path=r}return v(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),jy=function(){function e(t,n){d(this,e),this.snapshotCallback=t,this.cancelCallback=n}return v(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return cn(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),Fy=function(){function e(t,n){d(this,e),this._repo=t,this._path=n}return v(e,[{key:"cancel",value:function(){var e=new wn;return my(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){Jm("OnDisconnect.remove",this._path);var e=new wn;return yy(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){Jm("OnDisconnect.set",this._path),Hm("OnDisconnect.set",e,this._path,!1);var t=new wn;return yy(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){Jm("OnDisconnect.setWithPriority",this._path),Hm("OnDisconnect.setWithPriority",e,this._path,!1),Gm("OnDisconnect.setWithPriority",t,!1);var n=new wn;return function(e,t,n,r,i){var a=hp(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&Op(e.onDisconnect_,t,a),by(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){Jm("OnDisconnect.update",this._path),Km("OnDisconnect.update",e,this._path,!1);var t=new wn;return function(e,t,n,r){if(Un(n))return xh("onDisconnect().update() called with empty data.  Don't do anything."),void by(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&Mh(n,(function(n,r){var i=hp(r);Op(e.onDisconnect_,Cf(t,n),i)})),by(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),Uy=function(){function e(t,n,r,i){d(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return v(e,[{key:"key",get:function(){return Sf(this._path)?null:bf(this._path)}},{key:"ref",get:function(){return new Vy(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Tp(this._queryParams),t=Dh(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Tp(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=tr(t))instanceof e))return!1;var n=this._repo===t._repo,r=Tf(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function zy(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function qy(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===zf){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Ph)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Nh)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===rp){if(null!=t&&!Vm(t)||null!=n&&!Vm(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(cn(e.getIndex()instanceof fp||e.getIndex()===vp,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Wy(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Vy=function(e){y(n,e);var t=b(n);function n(e,r){return d(this,n),t.call(this,e,r,new xp,!1)}return v(n,[{key:"parent",get:function(){var e=xf(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Uy),Hy=function(){function e(t,n,r){d(this,e),this._node=t,this.ref=n,this._index=r}return v(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new mf(t),r=Gy(this.ref,t);return new e(this._node.getChild(n),r,rp)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Gy(n.ref,r),rp))}))}},{key:"hasChild",value:function(e){var t=new mf(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function By(e,t){return(e=tr(e))._checkNotDeleted("ref"),void 0!==t?Gy(e._root,t):e._root}function Ky(e,t){(e=tr(e))._checkNotDeleted("refFromURL");var n=Ry(t,e._repo.repoInfo_.nodeAdmin);Xm("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||Eh("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),By(e,n.path.toString())}function Gy(e,t){return null===gf((e=tr(e))._path)?Ym("child","path",t,!1):$m("child","path",t,!1),new Vy(e._repo,Cf(e._path,t))}function Qy(e,t){e=tr(e),Jm("set",e._path),Hm("set",t,e._path,!1);var n=new wn;return vy(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function $y(e,t){Km("update",t,e._path,!1);var n=new wn;return function(e,t,n,r){ky(e,"update",{path:t.toString(),value:n});var i=!0,a=cy(e),o={};if(Mh(n,(function(n,r){i=!1,o[n]=Em(Cf(t,n),hp(r),e.serverSyncTree_,a)})),i)xh("update() called with empty data.  Don't do anything."),by(0,r,"ok",void 0);else{var s=py(e),u=nm(e.serverSyncTree_,t,o,s);ey(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||Ih("update at "+t+" failed: "+n);var o=rm(e.serverSyncTree_,s,!a),u=o.length>0?Cy(e,t):t;ny(e.eventQueue_,u,o),by(0,r,n,i)})),Mh(n,(function(n){var r=Py(e,Cf(t,n));Cy(e,r)})),ny(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Yy(e){e=tr(e);var t=new jy((function(){})),n=new Jy(t);return function(e,t,n){var r=lm(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=hp(r).withIndex(t._queryParams.getIndex());if(sm(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=im(e.serverSyncTree_,t._path,a);else{var o=pm(e.serverSyncTree_,t);i=om(e.serverSyncTree_,t._path,a,o)}return ny(e.eventQueue_,t._path,i),am(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return ky(e,"get for query "+Ln(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new Hy(t,new Vy(e._repo,e._path),e._queryParams.getIndex())}))}var Jy=function(){function e(t){d(this,e),this.callbackContext=t}return v(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Ly("value",this,new Hy(e.snapshotNode,new Vy(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new My(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),Xy=function(){function e(t,n){d(this,e),this.eventType=t,this.callbackContext=n}return v(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new My(this,e,t):null}},{key:"createEvent",value:function(e,t){cn(null!=e.childName,"Child events should have a childName.");var n=Gy(new Vy(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ly(e.type,this,new Hy(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function Zy(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){gy(e._repo,e,l),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new jy(n,a||void 0),l="value"===t?new Jy(u):new Xy(t,u);return function(e,t,n){var r;r=".info"===gf(t._path)?sm(e.infoSyncTree_,t,n):sm(e.serverSyncTree_,t,n),ty(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return gy(e._repo,e,l)}}function eg(e,t,n,r){return Zy(e,"value",t,n,r)}function tg(e,t,n,r){return Zy(e,"child_added",t,n,r)}function ng(e,t,n,r){return Zy(e,"child_changed",t,n,r)}function rg(e,t,n,r){return Zy(e,"child_moved",t,n,r)}function ig(e,t,n,r){return Zy(e,"child_removed",t,n,r)}function ag(e,t,n){var r=null,i=n?new jy(n):null;"value"===t?r=new Jy(i):t&&(r=new Xy(t,i)),gy(e._repo,e,r)}var og=v((function e(){d(this,e)})),sg=function(e){y(n,e);var t=b(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return v(n,[{key:"_apply",value:function(e){Hm("endAt",this._value,e._path,!0);var t=Sp(e._queryParams,this._value,this._key);if(Wy(t),qy(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Uy(e._repo,e._path,t,e._orderByCalled)}}]),n}(og);var ug=function(e){y(n,e);var t=b(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return v(n,[{key:"_apply",value:function(e){Hm("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===zf||n?Sp(e,t,n):Sp(e,t,Ph)).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Wy(t),qy(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Uy(e._repo,e._path,t,e._orderByCalled)}}]),n}(og);var lg=function(e){y(n,e);var t=b(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return v(n,[{key:"_apply",value:function(e){Hm("startAt",this._value,e._path,!0);var t=Cp(e._queryParams,this._value,this._key);if(Wy(t),qy(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Uy(e._repo,e._path,t,e._orderByCalled)}}]),n}(og);var cg=function(e){y(n,e);var t=b(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return v(n,[{key:"_apply",value:function(e){Hm("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===zf||n?Cp(e,t,n):Cp(e,t,Nh)).startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Wy(t),qy(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Uy(e._repo,e._path,t,e._orderByCalled)}}]),n}(og);var dg=function(e){y(n,e);var t=b(n);function n(e){var r;return d(this,n),(r=t.call(this))._limit=e,r}return v(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Uy(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(og);var hg=function(e){y(n,e);var t=b(n);function n(e){var r;return d(this,n),(r=t.call(this))._limit=e,r}return v(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Uy(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(og);var fg=function(e){y(n,e);var t=b(n);function n(e){var r;return d(this,n),(r=t.call(this))._path=e,r}return v(n,[{key:"_apply",value:function(e){zy(e,"orderByChild");var t=new mf(this._path);if(Sf(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new fp(t),r=Ep(e._queryParams,n);return qy(r),new Uy(e._repo,e._path,r,!0)}}]),n}(og);var pg=function(e){y(n,e);var t=b(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"_apply",value:function(e){zy(e,"orderByKey");var t=Ep(e._queryParams,zf);return qy(t),new Uy(e._repo,e._path,t,!0)}}]),n}(og);var vg=function(e){y(n,e);var t=b(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"_apply",value:function(e){zy(e,"orderByPriority");var t=Ep(e._queryParams,rp);return qy(t),new Uy(e._repo,e._path,t,!0)}}]),n}(og);var mg=function(e){y(n,e);var t=b(n);function n(){return d(this,n),t.apply(this,arguments)}return v(n,[{key:"_apply",value:function(e){zy(e,"orderByValue");var t=Ep(e._queryParams,vp);return qy(t),new Uy(e._repo,e._path,t,!0)}}]),n}(og);var yg=function(e){y(n,e);var t=b(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._value=e,i._key=r,i}return v(n,[{key:"_apply",value:function(e){if(Hm("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new sg(this._value,this._key)._apply(new lg(this._value,this._key)._apply(e))}}]),n}(og);function gg(e){for(var t=tr(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t=o[a]._apply(t)}return t}!function(e){cn(!Dv,"__referenceConstructor has already been defined"),Dv=e}(Vy),function(e){cn(!qv,"__referenceConstructor has already been defined"),qv=e}(Vy);var _g="FIREBASE_DATABASE_EMULATOR_HOST",kg={},bg=!1;function wg(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Eh("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xh("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=Ry(a,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[_g]),l?(o=!0,a="http://".concat(l,"?ns=").concat(u.namespace),u=(s=Ry(a,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new Hh(Hh.OWNER):new Vh(e.name,e.options,t);Xm("Invalid Firebase Database URL",s),Sf(s.path)||Eh("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var i=kg[t.name];i||(i={},kg[t.name]=i);var a=i[e.toURLString()];a&&Eh("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new sy(e,bg,n,r),i[e.toURLString()]=a,a}(u,e,c,new Wh(e.name,n));return new xg(d,e)}var xg=function(){function e(t,n){d(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return v(e,[{key:"_repo",get:function(){return this._instanceStarted||(uy(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Vy(this._repo,yf())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=kg[t];n&&n[e.key]===e||Eh("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),_y(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Eh("Cannot call "+e+" on a deleted database.")}}]),e}();function Cg(){lf.IS_TRANSPORT_INITIALIZED&&Ih("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Sg(){Cg(),af.forceDisallow()}function Eg(){Cg(),uf.forceDisallow(),af.forceAllow()}function Ig(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=tr(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Eh("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Eh('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Hh(Hh.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[mn(JSON.stringify({alg:"none",type:"JWT"})),mn(JSON.stringify(a)),""].join(".")}(r.mockUserToken,e.app.options.projectId);a=new Hh(o)}!function(e,t,n,r){e.repoInfo_=new Yh("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Tg(e){var t;(e=tr(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ay)}function Pg(e,t){wh(e,t)}var Ng={".sv":"timestamp"};var Rg=function(){function e(t,n){d(this,e),this.committed=t,this.snapshot=n}return v(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function Og(e,t,n){var r;if(e=tr(e),Jm("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new wn,o=eg(e,(function(){}));return function(e,t,n,r,i,a){ky(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:yh(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=wy(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Bm("transaction failed: Data returned ",u,o.path),o.status=0;var l,c=Nm(e.transactionQueueTree_,t),d=Rm(c)||[];d.push(o),Om(c,d),"object"===typeof u&&null!==u&&jn(u,".priority")?(l=Fn(u,".priority"),cn(Vm(l),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):l=(um(e.serverSyncTree_,t)||lp.EMPTY_NODE).getPriority().val();var h=cy(e),f=hp(u,l),p=Im(f,s,h);o.currentOutputSnapshotRaw=f,o.currentOutputSnapshotResolved=p,o.currentWriteId=py(e);var v=tm(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);ny(e.eventQueue_,t,v),xy(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Hy(r,new Vy(e._repo,e._path),rp),a.resolve(new Rg(n,i)))}),o,i),a.promise}Lf.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Lf.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){ch(Xr),Br(new nr("database",(function(e,t){var n=t.instanceIdentifier;return wg(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),ii(sh,uh,e),ii(sh,uh,"esm2017")}();var Ag=new fr("@firebase/database-compat"),Dg=function(e){var t="FIREBASE WARNING: "+e;Ag.warn(t)},Lg=function(){function e(t){d(this,e),this._delegate=t}return v(e,[{key:"cancel",value:function(e){Yn("OnDisconnect.cancel",0,1,arguments.length),Xn("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Yn("OnDisconnect.remove",0,1,arguments.length),Xn("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Yn("OnDisconnect.set",1,2,arguments.length),Xn("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Yn("OnDisconnect.setWithPriority",2,3,arguments.length),Xn("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Yn("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Dg("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xn("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),Mg=function(){function e(t,n){d(this,e),this.committed=t,this.snapshot=n}return v(e,[{key:"toJSON",value:function(){return Yn("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),jg=function(){function e(t,n){d(this,e),this._database=t,this._delegate=n}return v(e,[{key:"val",value:function(){return Yn("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Yn("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Yn("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Yn("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Yn("DataSnapshot.child",0,1,arguments.length),t=String(t),$m("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Yn("DataSnapshot.hasChild",1,1,arguments.length),$m("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Yn("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Yn("DataSnapshot.forEach",1,1,arguments.length),Xn("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Yn("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Yn("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Yn("DataSnapshot.ref",0,0,arguments.length),new Ug(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),Fg=function(){function e(t,n){d(this,e),this.database=t,this._delegate=n}return v(e,[{key:"on",value:function(t,n,r,i){var a,o=this;Yn("Query.on",2,4,arguments.length),Xn("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new jg(o.database,e),t)};u.userCallback=n,u.context=s.context;var l=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return eg(this._delegate,u,l),n;case"child_added":return tg(this._delegate,u,l),n;case"child_removed":return ig(this._delegate,u,l),n;case"child_changed":return ng(this._delegate,u,l),n;case"child_moved":return rg(this._delegate,u,l),n;default:throw new Error(Jn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Yn("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Jn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),Xn("Query.off","callback",t,!0),Zn("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,ag(this._delegate,e,r)}else ag(this._delegate,e)}},{key:"get",value:function(){var e=this;return Yy(this._delegate).then((function(t){return new jg(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;Yn("Query.once",1,4,arguments.length),Xn("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new wn,u=function(e,t){var r=new jg(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var l=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":eg(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":tg(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":ig(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":ng(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":rg(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(Jn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return Yn("Query.limitToFirst",1,1,arguments.length),new e(this.database,gg(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new dg(e)}(t)))}},{key:"limitToLast",value:function(t){return Yn("Query.limitToLast",1,1,arguments.length),new e(this.database,gg(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new hg(e)}(t)))}},{key:"orderByChild",value:function(t){return Yn("Query.orderByChild",1,1,arguments.length),new e(this.database,gg(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return $m("orderByChild","path",e,!1),new fg(e)}(t)))}},{key:"orderByKey",value:function(){return Yn("Query.orderByKey",0,0,arguments.length),new e(this.database,gg(this._delegate,new pg))}},{key:"orderByPriority",value:function(){return Yn("Query.orderByPriority",0,0,arguments.length),new e(this.database,gg(this._delegate,new vg))}},{key:"orderByValue",value:function(){return Yn("Query.orderByValue",0,0,arguments.length),new e(this.database,gg(this._delegate,new mg))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Yn("Query.startAt",0,2,arguments.length),new e(this.database,gg(this._delegate,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return Qm("startAt","key",t,!0),new lg(e,t)}(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Yn("Query.startAfter",0,2,arguments.length),new e(this.database,gg(this._delegate,function(e,t){return Qm("startAfter","key",t,!0),new cg(e,t)}(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Yn("Query.endAt",0,2,arguments.length),new e(this.database,gg(this._delegate,function(e,t){return Qm("endAt","key",t,!0),new sg(e,t)}(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Yn("Query.endBefore",0,2,arguments.length),new e(this.database,gg(this._delegate,function(e,t){return Qm("endBefore","key",t,!0),new ug(e,t)}(t,n)))}},{key:"equalTo",value:function(t,n){return Yn("Query.equalTo",1,2,arguments.length),new e(this.database,gg(this._delegate,function(e,t){return Qm("equalTo","key",t,!0),new yg(e,t)}(t,n)))}},{key:"toString",value:function(){return Yn("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Yn("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Yn("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new Ug(this.database,new Vy(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Xn(e,"cancel",r.cancel,!0),r.context=n,Zn(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Jn(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),Ug=function(e){y(n,e);var t=b(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,new Uy(r._repo,r._path,new xp,!1))).database=e,i._delegate=r,i}return v(n,[{key:"getKey",value:function(){return Yn("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Yn("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,Gy(this._delegate,e))}},{key:"getParent",value:function(){Yn("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Yn("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Yn("Reference.set",1,2,arguments.length),Xn("Reference.set","onComplete",t,!0);var n=Qy(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Yn("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Dg("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Jm("Reference.update",this._delegate._path),Xn("Reference.update","onComplete",t,!0);var i=$y(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Yn("Reference.setWithPriority",2,3,arguments.length),Xn("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(Jm("setWithPriority",e._path),Hm("setWithPriority",t,e._path,!1),Gm("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new wn;return vy(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Yn("Reference.remove",0,1,arguments.length),Xn("Reference.remove","onComplete",e,!0);var t,n=(t=this._delegate,Jm("remove",t._path),Qy(t,null));return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n}},{key:"transaction",value:function(e,t,n){var r=this;Yn("Reference.transaction",1,3,arguments.length),Xn("Reference.transaction","transactionUpdate",e,!1),Xn("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Jn(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=Og(this._delegate,e,{applyLocally:n}).then((function(e){return new Mg(e.committed,new jg(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Yn("Reference.setPriority",1,2,arguments.length),Xn("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=tr(e),Jm("setPriority",e._path),Gm("setPriority",t,!1);var n=new wn;return vy(e._repo,Cf(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Yn("Reference.push",0,2,arguments.length),Xn("Reference.push","onComplete",t,!0);var i=function(e,t){e=tr(e),Jm("push",e._path),Hm("push",t,e._path,!0);var n,r=ly(e._repo),i=Dy(r),a=Gy(e,i),o=Gy(e,i);return n=null!=t?Qy(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return Jm("Reference.onDisconnect",this._delegate._path),new Lg(new Fy(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(Fg),zg=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:Sg,forceLongPolling:Eg}}return v(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ig(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Yn("database.ref",0,1,arguments.length),e instanceof Ug){var t=Ky(this._delegate,e.toString());return new Ug(this,t)}var n=By(this._delegate,e);return new Ug(this,n)}},{key:"refFromURL",value:function(e){Yn("database.refFromURL",1,1,arguments.length);var t=Ky(this._delegate,e);return new Ug(this,t)}},{key:"goOffline",value:function(){return Yn("database.goOffline",0,0,arguments.length),(e=tr(e=this._delegate))._checkNotDeleted("goOffline"),void _y(e._repo);var e}},{key:"goOnline",value:function(){return Yn("database.goOnline",0,0,arguments.length),Tg(this._delegate)}}]),e}();zg.ServerValue={TIMESTAMP:Ng,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var qg=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.customAppCheckImpl,o=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;ch(r);var l=new sr("database-standalone"),c=new ir("auth-internal",l);c.setComponent(new nr("auth-internal",(function(){return i}),"PRIVATE"));var d=void 0;return a&&(d=new ir("app-check-internal",l)).setComponent(new nr("app-check-internal",(function(){return a}),"PRIVATE")),{instance:new zg(wg(t,c,d,n,u),t),namespace:o}}}),Wg=zg.ServerValue;!function(e){e.INTERNAL.registerComponent(new nr("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new zg(i,r)}),"PUBLIC").setServiceProps({Reference:Ug,Query:Fg,Database:zg,DataSnapshot:jg,enableLogging:Pg,INTERNAL:qg,ServerValue:Wg}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","1.0.1")}(Ni);var Vg=Ni.initializeApp({apiKey:"AIzaSyALUvh54cFbeNdVI0hgNZIu_KaGxcY6AI8",authDomain:"react-http-530b7.firebaseapp.com",databaseURL:"https://react-http-530b7-default-rtdb.europe-west1.firebasedatabase.app",projectId:"react-http-530b7",storageBucket:"react-http-530b7.appspot.com",messagingSenderId:"747921879674",appId:"1:747921879674:web:0e7b8025827fec459841c3"}),Hg=Vg.auth(),Bg=Vg.database(),Kg=n(184),Gg=(0,r.createContext)(),Qg=function(e){var t=c((0,r.useState)(),2),n=t[0],i=t[1],a=c((0,r.useState)(),2),o=a[0],s=a[1],u=c((0,r.useState)(!0),2),l=u[0],d=u[1],h=c((0,r.useState)(!1),2),f=h[0],p=h[1],v=function(){var e=C(w().mark((function e(t,n){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.next=3,Hg.createUserWithEmailAndPassword(t,n);case 3:return r=e.sent,e.next=6,Bg.ref("users/"+Hg.currentUser.uid).set({email:t,isAdmin:!1,likes:["1"]});case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){p(!0),console.log("uso je u update"),Bg.ref().child("users").child(Hg.currentUser.uid).get().then((function(e){e.exists()?(s(e.val()),p(!1),console.log("uso je u if")):(p(!1),console.log("uso je u else"))})).catch((function(e){console.error(e)}))},y=function(){var e=C(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bg.ref("users/"+Hg.currentUser.uid).set(t);case 2:Hg.currentUser&&m();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){var e=Hg.onAuthStateChanged((function(e){i(e),console.log("uso je u unsubscribe"),Hg.currentUser&&(console.log("uso je u IF"),m()),d(!1)}));return function(){return e()}}),[]);var g={currentUser:n,signup:v,login:function(e,t){return Hg.signInWithEmailAndPassword(e,t)},logout:function(){return console.log("logging out page:"),Hg.signOut()},userData:o,updateLocalUserData:m,updateOnlineUserData:y,userDataLoading:f,setUserData:s};return(0,Kg.jsx)(Gg.Provider,{value:g,children:!l&&e.children})},$g=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1],i=(0,r.useContext)(Gg),a=i.currentUser,o=i.logout,s=i.setUserData,u=St(),l=function(){var e=C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(""),e.prev=1,e.next=4,o();case 4:s(null),u("/login"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n("Failed to log out");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return(0,Kg.jsxs)("header",{className:on.header,children:[(0,Kg.jsxs)("div",{className:on["header-basic"],children:[(0,Kg.jsx)("h1",{children:"Dashboard"}),a&&(0,Kg.jsxs)("div",{className:on.info,children:[(0,Kg.jsxs)("p",{children:[(0,Kg.jsx)("strong",{children:"Signed in as:"})," ",a.email]}),(0,Kg.jsx)("button",{onClick:l,children:"Log out"})]}),t&&(0,Kg.jsx)("p",{children:t})]}),(0,Kg.jsx)("nav",{className:on.navigation,children:(0,Kg.jsxs)("ul",{className:on.list,children:[(0,Kg.jsx)("li",{children:(0,Kg.jsx)(nn,{to:"meals",className:function(e){return e.isActive?on.active:void 0},children:"Meals"})}),(0,Kg.jsx)("li",{children:(0,Kg.jsx)(nn,{to:"categories",className:function(e){return e.isActive?on.active:void 0},children:"Categories"})}),(0,Kg.jsx)("li",{children:(0,Kg.jsx)(nn,{to:"ingredients",className:function(e){return e.isActive?on.active:void 0},children:"Ingredients"})})]})})]})},Yg=function(){return(0,Kg.jsxs)(Kg.Fragment,{children:[(0,Kg.jsx)($g,{}),(0,Kg.jsx)(Vt,{})]})},Jg="IngredientList_list__ceWTU",Xg="IngredientList_item__z5XIy",Zg="IngredientList_include__j58Cz",e_="IngredientList_exclude__O8JLh",t_=function(e){return(0,Kg.jsx)("ul",{className:Jg,children:e.ingredients.map((function(t,n){return(0,Kg.jsxs)("li",{className:"".concat(Xg," ").concat("INCLUDE"===e.type&&Zg," ").concat("EXCLUDE"===e.type&&e_),children:[t,(0,Kg.jsx)("button",{type:"button",onClick:function(){e.onDelete(t,e.type)},children:"X"})]},n)}))})},n_="MealForm_error__W3hlb",r_="MealForm_container__C1sdj",i_="MealForm_actions__QDfUO",a_="MealForm_btn-save__I3T1X",o_="MealForm_btn-cancel__3w4QI",s_="MealForm_form__8N7On",u_="MealForm_input__siXo3",l_="MealForm_select__oZ-Hk",c_="MealForm_checks__peGyp",d_="MealForm_check__FhNKd",h_=function(e){var t=c((0,r.useState)(null),2),n=t[0],i=t[1],a=(0,r.useRef)(),o=(0,r.useRef)(),s=(0,r.useRef)(),u=(0,r.useRef)(),l=(0,r.useRef)(),d=(0,r.useRef)(),h=(0,r.useRef)(),f=(0,r.useRef)(),p=(0,r.useRef)(),v=(0,r.useRef)(),m=c((0,r.useState)([]),2),y=m[0],g=m[1],_=c((0,r.useState)([]),2),k=_[0],b=_[1],x=c((0,r.useState)([]),2),S=x[0],E=x[1],I=c((0,r.useState)(),2),T=I[0],P=I[1],N=c((0,r.useState)({}),2),O=N[0],A=N[1],D=(0,r.useCallback)(function(){var e=C(w().mark((function e(t){var n,r,a,o,s;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="","ingredients"===t&&(n="ingredients.json"),"categories"===t&&(n="categories.json"),e.prev=3,e.next=6,fetch("https://react-http-530b7-default-rtdb.europe-west1.firebasedatabase.app/"+n);case 6:if((r=e.sent).ok){e.next=9;break}throw new Error("Could not fetch data!");case 9:return e.next=11,r.json();case 11:for(s in a=e.sent,o=[],a)o.push(a[s].value);o.sort(),"ingredients"===t&&b(o),"categories"===t&&(g(o),P(o[0])),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),i(e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}(),[]);(0,r.useEffect)((function(){D("ingredients"),D("categories")}),[D]),(0,r.useEffect)((function(){e.meal&&(E(e.meal.ingredients),A(e.meal),P(e.meal.category),a.current.scrollIntoView({behavior:"smooth",block:"start"}))}),[e.meal,O]);return(0,Kg.jsxs)("div",{className:r_,children:[(0,Kg.jsx)("h3",{ref:a,children:"POST"===e.method?"Add":"Edit"}),(0,Kg.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),S&&0!==S.length){var n=Math.floor(150*Math.random()+20),r=Math.floor(45*Math.random()+5),a=vr(vr(vr(vr({},"PATCH"===e.method&&{id:e.meal.id}),{},{name:o.current.value,category:T,ingredients:S,price:s.current.value,calories:u.current.value,isVegetarian:d.current.checked,isVegan:h.current.checked,isKosher:f.current.checked,isLactoseFree:p.current.checked,isGlutenFree:v.current.checked},"POST"===e.method&&{numOfOrders:n}),"POST"===e.method&&{numOfLikes:r}),"POST"===e.method&&{isAvailable:!0});console.log(a),e.onSubmit(a,e.method)}else i("Please fill in ingredients")},className:s_,children:[n&&(0,Kg.jsx)("p",{className:n_,children:n}),(0,Kg.jsxs)("div",{className:u_,children:[(0,Kg.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,Kg.jsx)("input",{type:"text",id:"name",ref:o,defaultValue:e.meal?O.name:"",required:!0})]}),(0,Kg.jsxs)("div",{className:l_,children:[(0,Kg.jsx)("label",{htmlFor:"category",children:"Category:"}),(0,Kg.jsx)("select",{id:"category",onChange:function(e){return P(e.target.value)},value:T,children:y.map((function(e,t){return(0,Kg.jsx)("option",{children:e},t)}))})]}),(0,Kg.jsxs)("div",{className:l_,children:[(0,Kg.jsx)("label",{htmlFor:"ingredients",children:"Ingredients:"}),(0,Kg.jsx)("select",{id:"ingredients",ref:l,children:k.map((function(e,t){return(0,Kg.jsx)("option",{children:e},t)}))}),(0,Kg.jsx)("button",{type:"button",onClick:function(){var e;e=l.current.value,i(null),S.includes(e)?i("Can not add duplicate ingredients."):E((function(t){return[].concat(R(t),[e])}))},children:"Add"}),0!==S.length&&(0,Kg.jsx)(t_,{ingredients:S,onDelete:function(e){var t=S.indexOf(e);E((function(e){return e.filter((function(e,n){return n!==t}))}))}})]}),(0,Kg.jsxs)("div",{className:u_,children:[(0,Kg.jsx)("label",{htmlFor:"price",children:"Price/$:"}),(0,Kg.jsx)("input",{type:"number",id:"price",ref:s,min:0,step:.01,defaultValue:e.meal?O.price:"",required:!0})]}),(0,Kg.jsxs)("div",{className:u_,children:[(0,Kg.jsx)("label",{htmlFor:"calories",children:"Calories/kcal:"}),(0,Kg.jsx)("input",{type:"number",id:"calories",ref:u,min:0,defaultValue:e.meal?O.calories:"",required:!0})]}),(0,Kg.jsxs)("div",{className:c_,children:[(0,Kg.jsxs)("div",{className:d_,children:[(0,Kg.jsx)("input",{type:"checkbox",id:"vegetarian",ref:d,defaultChecked:!!e.meal&&O.isVegetarian}),(0,Kg.jsx)("label",{htmlFor:"vegetarian",children:"Vegetarian"})]}),(0,Kg.jsxs)("div",{className:d_,children:[(0,Kg.jsx)("input",{type:"checkbox",id:"vegan",ref:h,defaultChecked:!!e.meal&&O.isVegan}),(0,Kg.jsx)("label",{htmlFor:"vegan",children:"Vegan"})]}),(0,Kg.jsxs)("div",{className:d_,children:[(0,Kg.jsx)("input",{type:"checkbox",id:"kosher",ref:f,defaultChecked:!!e.meal&&O.isKosher}),(0,Kg.jsx)("label",{htmlFor:"kosher",children:"Kosher"})]}),(0,Kg.jsxs)("div",{className:d_,children:[(0,Kg.jsx)("input",{type:"checkbox",id:"lactoseFree",ref:p,defaultChecked:!!e.meal&&O.isLactoseFree}),(0,Kg.jsx)("label",{htmlFor:"lactoseFree",children:"Lactose free"})]}),(0,Kg.jsxs)("div",{className:d_,children:[(0,Kg.jsx)("input",{type:"checkbox",id:"glutenFree",ref:v,defaultChecked:!!e.meal&&O.isGlutenFree}),(0,Kg.jsx)("label",{htmlFor:"glutenFree",children:"Gluten free"})]})]}),(0,Kg.jsxs)("div",{className:i_,children:[(0,Kg.jsx)("button",{type:"submit",className:a_,children:"Save"}),(0,Kg.jsx)("button",{type:"button",onClick:e.onCancel,className:o_,children:"Cancel"})]})]})]})},f_=(0,r.createContext)(),p_=function(e){var t=c((0,r.useState)([]),2),n=t[0],i=t[1];return(0,Kg.jsx)(f_.Provider,{value:{cartItems:n,addToCart:function(e){var t=n.find((function(t){return t.id===e.id}));i(t?n.map((function(t){return t.id===e.id?vr(vr({},t),{},{quantity:t.quantity+1}):t})):[].concat(R(n),[vr(vr({},e),{},{quantity:1})]))},removeFromCart:function(e){1===n.find((function(t){return t.id===e.id})).quantity?i(n.filter((function(t){return t.id!==e.id}))):i(n.map((function(t){return t.id===e.id?vr(vr({},t),{},{quantity:t.quantity-1}):t})))},clearCart:function(){i([])},getCartTotal:function(){return n.reduce((function(e,t){return e+t.price*t.quantity}),0)}},children:e.children})},v_="MealsList_error__7t-mY",m_="MealsList_container__1blpb",y_="MealsList_list__RC1YR",g_="MealsList_unavailable-item__cHe8x",__="MealsList_unavailable__IYDlR",k_="MealsList_availability__RuTwn",b_="MealsList_info__x4rFr",w_="MealsList_title-category__3TNgV",x_="MealsList_category__Pmqqv",C_="MealsList_ingredients__pVfSj",S_="MealsList_checks__ud4ld",E_="MealsList_likes__4qgj6",I_="MealsList_actions__kB4ye",T_="MealsList_btn-edit__Ye3ZP",P_="MealsList_btn-delete__QsJuA",N_="MealsList_cart-controls__tIrI+",R_=function(e){var t=c((0,r.useState)([]),2),n=t[0],i=t[1],a=c((0,r.useState)(null),2),o=a[0],s=a[1],u=(0,r.useContext)(f_),l=u.cartItems,d=u.addToCart,h=u.removeFromCart,f=(0,r.useContext)(Gg),p=f.userData,v=f.userDataLoading,m=f.updateOnlineUserData,y=function(){var t=C(w().mark((function t(n,r){var i,a;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(null),i="https://react-http-530b7-default-rtdb.europe-west1.firebasedatabase.app/meals/"+n.id+".json",a=n.numOfLikes,"ADD"===r&&(a+=1),"REMOVE"===r&&(a-=1),t.prev=5,t.next=8,fetch(i,{method:"PATCH",body:JSON.stringify(vr(vr({},n),{},{numOfLikes:a})),headers:{"Content-type":"application/json"}});case 8:if(t.sent.ok){t.next=11;break}throw new Error("Could not save data!");case 11:e.updateItems(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(5),s(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(e,n){return t.apply(this,arguments)}}();return(0,r.useEffect)((function(){i(e.items)}),[e.items]),(0,Kg.jsxs)("div",{className:m_,children:[o&&(0,Kg.jsx)("p",{className:v_,children:o}),(0,Kg.jsx)("ul",{className:y_,children:n.map((function(t){return(0,Kg.jsxs)("li",{className:"".concat(t.isAvailable?"":g_),children:[e.isAdmin&&(0,Kg.jsxs)("div",{className:k_,children:[t.isAvailable?(0,Kg.jsx)("span",{children:"Available"}):(0,Kg.jsx)("span",{children:"Unavailable"}),(0,Kg.jsx)("button",{onClick:function(){return e.onChangeAvailabiliy(vr(vr({},t),{},{isAvailable:!t.isAvailable}),"PATCH")},children:t.isAvailable?"Set unavailable":"Set available"})]}),!e.isAdmin&&!t.isAvailable&&(0,Kg.jsx)("div",{className:__,children:(0,Kg.jsx)("span",{children:"Unavailable"})}),(0,Kg.jsxs)("div",{className:b_,children:[(0,Kg.jsxs)("div",{className:w_,children:[(0,Kg.jsx)("h3",{children:t.name}),(0,Kg.jsxs)("p",{className:x_,children:["(",t.category,")"]})]}),(0,Kg.jsxs)("div",{children:[(0,Kg.jsxs)("p",{children:[(0,Kg.jsx)("strong",{children:"Price: "}),"$",t.price]}),(0,Kg.jsxs)("p",{children:[(0,Kg.jsx)("strong",{children:"Calories: "}),t.calories," kcal"]})]})]}),(0,Kg.jsxs)("div",{className:C_,children:[(0,Kg.jsx)("p",{children:"Ingredients:"}),(0,Kg.jsx)("ul",{children:t.ingredients.map((function(e,t){return(0,Kg.jsx)("li",{children:e},t)}))})]}),(t.isVegetarian||t.isVegan||t.isKosher||t.isGlutenFree||t.isLactoseFree)&&(0,Kg.jsxs)("ul",{className:S_,children:[t.isVegetarian&&(0,Kg.jsx)("li",{children:"Vegetarian"}),t.isVegan&&(0,Kg.jsx)("li",{children:"Vegan"}),t.isKosher&&(0,Kg.jsx)("li",{children:"Kosher"}),t.isGlutenFree&&(0,Kg.jsx)("li",{children:"Gluten free"}),t.isLactoseFree&&(0,Kg.jsx)("li",{children:"Lactose free"})]}),e.isAdmin&&(0,Kg.jsxs)("div",{className:E_,children:[(0,Kg.jsxs)("p",{children:[(0,Kg.jsx)("strong",{children:"Likes: "}),t.numOfLikes]}),(0,Kg.jsxs)("p",{children:[(0,Kg.jsx)("strong",{children:"Orders: "}),t.numOfOrders]})]}),e.isAdmin&&(0,Kg.jsxs)("div",{className:I_,children:[(0,Kg.jsx)("button",{onClick:function(){return e.onEdit(t)},className:T_,children:"Edit"}),(0,Kg.jsx)("button",{onClick:function(){e.onDelete(t.id)},className:P_,children:"Delete"})]}),!e.isAdmin&&(v?(0,Kg.jsx)("div",{children:"Sending data..."}):(0,Kg.jsxs)("div",{className:E_,children:[(0,Kg.jsxs)("p",{children:[(0,Kg.jsx)("strong",{children:"Likes: "}),t.numOfLikes]}),(0,Kg.jsx)("button",{onClick:function(){!function(e){var t=vr({},p),n=[];p.likes?((n=R(p.likes)).includes(e.id)?(n.splice(n.indexOf(e.id),1),y(e,"REMOVE")):(n.push(e.id),y(e,"ADD")),m(vr(vr({},t),{},{likes:n}))):(n.push(e.id),m(vr(vr({},t),{},{likes:n})))}(t)},children:p.likes&&p.likes.includes(t.id)?"Remove Like":"Like"})]})),!e.isAdmin&&t.isAvailable&&(0,Kg.jsx)("div",{className:N_,children:l.find((function(e){return e.id===t.id}))?(0,Kg.jsxs)("div",{children:[(0,Kg.jsx)("button",{onClick:function(){h(t)},children:"-"}),(0,Kg.jsx)("span",{children:l.find((function(e){return e.id===t.id})).quantity}),(0,Kg.jsx)("button",{onClick:function(){d(t)},children:"+"})]}):(0,Kg.jsx)("button",{onClick:function(){d(t)},children:"Add to cart"})})]},t.id)}))})]})},O_=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0},A_=function(e,t){return e.category<t.category?-1:e.category>t.category?1:0},D_=function(e,t){var n=A_(e,t);return 0!==n?n:e.name<t.name?-1:e.name>t.name?1:0},L_=function(e,t){var n=A_(e,t);return 0!==n?n:e.name<t.name?1:e.name>t.name?-1:0},M_=function(e,t){var n=A_(e,t);return 0!==n?n:+e.price<+t.price?-1:+e.price>+t.price?1:0},j_=function(e,t){var n=A_(e,t);return 0!==n?n:+e.price<+t.price?1:+e.price>+t.price?-1:0},F_=function(e,t){var n=A_(e,t);return 0!==n?n:+e.calories<+t.calories?-1:+e.calories>+t.calories?1:0},U_=function(e,t){var n=A_(e,t);return 0!==n?n:+e.calories<+t.calories?1:+e.calories>+t.calories?-1:0},z_=function(e,t){var n=A_(e,t);return 0!==n?n:+e.numOfLikes<+t.numOfLikes?-1:+e.numOfLikes>+t.numOfLikes?1:0},q_=function(e,t){var n=A_(e,t);return 0!==n?n:+e.numOfLikes<+t.numOfLikes?1:+e.numOfLikes>+t.numOfLikes?-1:0},W_="MealsPage_error__hPmA+",V_="MealsPage_container__-Ef1I",H_="MealsPage_btn-add__ZVh2d",B_=function(){var e="https://react-http-530b7-default-rtdb.europe-west1.firebasedatabase.app/",t=c((0,r.useState)(null),2),n=t[0],i=t[1],a=c((0,r.useState)(!1),2),o=a[0],s=a[1],u=c((0,r.useState)(!1),2),l=u[0],d=u[1],h=c((0,r.useState)([]),2),f=h[0],p=h[1],v=c((0,r.useState)(),2),m=v[0],y=v[1],g=function(){i(null),s(!1)},_=function(){i(null),d(!1)},k=(0,r.useCallback)(C(w().mark((function t(){var n,r,a,o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(null),t.prev=1,t.next=4,fetch(e+"meals.json");case 4:if((n=t.sent).ok){t.next=7;break}throw new Error("Could not fetch data!");case 7:return t.next=9,n.json();case 9:for(o in r=t.sent,a=[],r)a.push({id:o,name:r[o].name,category:r[o].category,ingredients:r[o].ingredients,price:r[o].price,calories:r[o].calories,isAvailable:r[o].isAvailable,isGlutenFree:r[o].isGlutenFree,isKosher:r[o].isKosher,isLactoseFree:r[o].isLactoseFree,isVegan:r[o].isVegan,isVegetarian:r[o].isVegetarian,numOfLikes:r[o].numOfLikes,numOfOrders:r[o].numOfOrders});a.sort(D_),p(a),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),i(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[1,16]])}))),[]);(0,r.useEffect)((function(){k()}),[k]);var b=function(){var t=C(w().mark((function t(n,r){var a,o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i(null),a=f.filter((function(e){return e.id!==n.id})),!("POST"===r&&f.some((function(e){return e.name.toLowerCase()===n.name.toLowerCase()}))||a.some((function(e){return e.name.toLowerCase()===n.name.toLowerCase()})))){t.next=6;break}i("Meal already exists"),t.next=22;break;case 6:return o=e+"meals.json","PATCH"===r&&(o=e+"meals/"+n.id+".json"),t.prev=8,t.next=11,fetch(o,{method:r,body:JSON.stringify(n),headers:{"Content-type":"application/json"}});case 11:if(t.sent.ok){t.next=14;break}throw new Error("Could not save data!");case 14:k(),"POST"===r&&g(),"PATCH"===r&&_(),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(8),i(t.t0.message);case 22:case"end":return t.stop()}}),t,null,[[8,19]])})));return function(e,n){return t.apply(this,arguments)}}(),x=function(){var t=C(w().mark((function t(n){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Want to delete?")){t.next=15;break}return i(null),t.prev=3,t.next=6,fetch(e+"meals/"+n+".json",{method:"DELETE",headers:{"Content-Type":"application/json"}});case 6:if(t.sent.ok){t.next=9;break}throw new Error("Could not delete data!");case 9:k(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),i(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}();return(0,Kg.jsxs)("div",{className:V_,children:[(0,Kg.jsx)("h2",{children:"Meals"}),n&&(0,Kg.jsx)("p",{className:W_,children:n}),!o&&(0,Kg.jsx)("button",{onClick:function(){i(null),s(!0),d(!1)},className:H_,children:"+ Add"}),o&&(0,Kg.jsx)(h_,{method:"POST",onSubmit:b,onCancel:g}),l&&(0,Kg.jsx)(h_,{method:"PATCH",onSubmit:b,meal:m,onCancel:_}),f.length>0?(0,Kg.jsx)(R_,{isAdmin:!0,items:f,onDelete:x,onEdit:function(e){y(e),i(null),d(!0),s(!1)},onChangeAvailabiliy:b}):(0,Kg.jsx)("p",{children:"No meals found."})]})},K_="SimpleList_list__48Z-I",G_="SimpleList_actions__I1FgR",Q_="SimpleList_btn-edit__fM3on",$_="SimpleList_btn-delete__imG20",Y_=function(e){return(0,Kg.jsx)("ul",{className:K_,children:e.items.map((function(t){return(0,Kg.jsxs)("li",{children:[(0,Kg.jsx)("p",{children:t.value}),(0,Kg.jsxs)("div",{className:G_,children:[(0,Kg.jsx)("button",{className:Q_,onClick:function(){return e.onEdit(t)},children:"Edit"}),(0,Kg.jsx)("button",{className:$_,onClick:function(){e.onDelete(t.id)},children:"Delete"})]})]},t.id)}))})},J_="SimpleForm_container__TpDt6",X_="SimpleForm_actions__FsI11",Z_="SimpleForm_btn-save__0144M",ek="SimpleForm_btn-cancel__Cmdk7",tk="SimpleForm_form__1yzRR",nk=function(e){var t=(0,r.useRef)(),n=c((0,r.useState)({}),2),i=n[0],a=n[1];return(0,r.useEffect)((function(){e.item&&(a(e.item),console.log(e.item),console.log(i))}),[e.item,i]),(0,Kg.jsxs)("div",{className:J_,children:[(0,Kg.jsx)("h3",{children:"POST"===e.method?"Add":"Edit"}),(0,Kg.jsxs)("form",{className:tk,onSubmit:function(n){n.preventDefault();var r=vr(vr({},"PATCH"===e.method&&{id:e.item.id}),{},{value:t.current.value});e.onSubmit(r,e.type,e.method)},children:[(0,Kg.jsxs)("label",{htmlFor:e.type,children:[e.inputName," name: "]}),(0,Kg.jsx)("input",{type:"text",id:e.type,ref:t,defaultValue:e.item?i.value:"",required:!0}),(0,Kg.jsxs)("div",{className:X_,children:[(0,Kg.jsx)("button",{className:Z_,type:"submit",children:"Save"}),(0,Kg.jsx)("button",{className:ek,type:"button",onClick:e.onCancel,children:"Cancel"})]})]})]})},rk="IngredientsPage_error__7WOY6",ik="IngredientsPage_container__5Bi8M",ak="IngredientsPage_btn-add__DDnRQ",ok=function(){var e="https://react-http-530b7-default-rtdb.europe-west1.firebasedatabase.app/",t=c((0,r.useState)([]),2),n=t[0],i=t[1],a=c((0,r.useState)(null),2),o=a[0],s=a[1],u=c((0,r.useState)(!1),2),l=u[0],d=u[1],h=c((0,r.useState)(!1),2),f=h[0],p=h[1],v=c((0,r.useState)(),2),m=v[0],y=v[1],g=function(){s(null),d(!1)},_=function(){s(null),p(!1)},k=(0,r.useCallback)(C(w().mark((function t(){var n,r,a,o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(null),t.prev=1,t.next=4,fetch(e+"ingredients.json");case 4:if((n=t.sent).ok){t.next=7;break}throw new Error("Could not fetch data!");case 7:return t.next=9,n.json();case 9:for(o in r=t.sent,a=[],r)a.push({id:o,value:r[o].value});a.sort(O_),i(a),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),s(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[1,16]])}))),[]);(0,r.useEffect)((function(){k()}),[k]);var b=function(){var t=C(w().mark((function t(r,i,a){var o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s(null),!n.some((function(e){return e.value===r.value}))){t.next=5;break}s("Ingredient already exists"),t.next=21;break;case 5:return o=e+i+".json","PATCH"===a&&(o=e+i+"/"+r.id+".json"),t.prev=7,t.next=10,fetch(o,{method:a,body:JSON.stringify(r),headers:{"Content-type":"application/json"}});case 10:if(t.sent.ok){t.next=13;break}throw new Error("Could not save data!");case 13:k(),"POST"===a&&g(),"PATCH"===a&&_(),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(7),s(t.t0.message);case 21:case"end":return t.stop()}}),t,null,[[7,18]])})));return function(e,n,r){return t.apply(this,arguments)}}(),x=function(){var t=C(w().mark((function t(n){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Want to delete?")){t.next=17;break}return s(null),t.prev=3,t.next=6,fetch(e+"ingredients/"+n+".json",{method:"DELETE",headers:{"Content-Type":"application/json"}});case 6:if(t.sent.ok){t.next=9;break}throw new Error("Could not delete data!");case 9:k(),_(),g(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),s(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e){return t.apply(this,arguments)}}();return(0,Kg.jsxs)("div",{className:ik,children:[(0,Kg.jsx)("h2",{children:"Ingredients"}),o&&(0,Kg.jsx)("p",{className:rk,children:o}),!l&&(0,Kg.jsx)("button",{onClick:function(){s(null),d(!0),p(!1)},className:ak,children:"+ Add"}),l&&(0,Kg.jsx)(nk,{method:"POST",onSubmit:b,onCancel:g,inputName:"Ingredient",type:"ingredients"}),f&&(0,Kg.jsx)(nk,{method:"PATCH",onSubmit:b,onCancel:_,inputName:"Ingredient",type:"ingredients",item:m}),n?(0,Kg.jsx)(Y_,{items:n,onDelete:x,onEdit:function(e){y(e),s(null),p(!0),d(!1)}}):(0,Kg.jsx)("p",{children:"No ingredients found"})]})},sk="CategoriesPage_error__z1dFN",uk="CategoriesPage_container__+VYyv",lk="CategoriesPage_btn-add__MNyWN",ck=function(){var e="https://react-http-530b7-default-rtdb.europe-west1.firebasedatabase.app/",t=c((0,r.useState)([]),2),n=t[0],i=t[1],a=c((0,r.useState)(null),2),o=a[0],s=a[1],u=c((0,r.useState)(!1),2),l=u[0],d=u[1],h=c((0,r.useState)(!1),2),f=h[0],p=h[1],v=c((0,r.useState)(),2),m=v[0],y=v[1],g=function(){s(null),d(!1)},_=function(){s(null),p(!1)},k=(0,r.useCallback)(C(w().mark((function t(){var n,r,a,o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(null),t.prev=1,t.next=4,fetch(e+"categories.json");case 4:if((n=t.sent).ok){t.next=7;break}throw new Error("Could not fetch data!");case 7:return t.next=9,n.json();case 9:for(o in r=t.sent,a=[],r)a.push({id:o,value:r[o].value});a.sort(O_),i(a),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),s(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[1,16]])}))),[]);(0,r.useEffect)((function(){k()}),[k]);var b=function(){var t=C(w().mark((function t(r,i,a){var o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s(null),!n.some((function(e){return e.value===r.value}))){t.next=5;break}s("Category already exists"),t.next=21;break;case 5:return o=e+i+".json","PATCH"===a&&(o=e+i+"/"+r.id+".json"),t.prev=7,t.next=10,fetch(o,{method:a,body:JSON.stringify(r),headers:{"Content-type":"application/json"}});case 10:if(t.sent.ok){t.next=13;break}throw new Error("Could not save data!");case 13:k(),"POST"===a&&g(),"PATCH"===a&&_(),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(7),s(t.t0.message);case 21:case"end":return t.stop()}}),t,null,[[7,18]])})));return function(e,n,r){return t.apply(this,arguments)}}(),x=function(){var t=C(w().mark((function t(n){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Want to delete?")){t.next=17;break}return s(null),t.prev=3,t.next=6,fetch(e+"categories/"+n+".json",{method:"DELETE",headers:{"Content-Type":"application/json"}});case 6:if(t.sent.ok){t.next=9;break}throw new Error("Could not delete data!");case 9:k(),_(),g(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),s(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e){return t.apply(this,arguments)}}();return(0,Kg.jsxs)("div",{className:uk,children:[(0,Kg.jsx)("h2",{children:"Categories"}),o&&(0,Kg.jsx)("p",{className:sk,children:o}),!l&&(0,Kg.jsx)("button",{onClick:function(){s(null),d(!0),p(!1)},className:lk,children:"+ Add"}),l&&(0,Kg.jsx)(nk,{method:"POST",onSubmit:b,onCancel:g,inputName:"Category",type:"categories"}),f&&(0,Kg.jsx)(nk,{method:"PATCH",onSubmit:b,onCancel:_,inputName:"Category",type:"categories",item:m}),n?(0,Kg.jsx)(Y_,{items:n,onDelete:x,onEdit:function(e){y(e),s(null),p(!0),d(!1)}}):(0,Kg.jsx)("p",{children:"No categories found"})]})},dk="SearchFilterForm_error__t1YuV",hk="SearchFilterForm_container__mb26s",fk="SearchFilterForm_form__00JJo",pk="SearchFilterForm_actions__T4+WP",vk="SearchFilterForm_btn-apply__i145a",mk="SearchFilterForm_btn-reset__lclXU",yk="SearchFilterForm_btn-cancel__O8XpK",gk="SearchFilterForm_select__hU+LJ",_k="SearchFilterForm_calories__TAg9r",kk="SearchFilterForm_checks__i6av1",bk="SearchFilterForm_check__vWboN",wk=function(e){var t=c((0,r.useState)(null),2),n=t[0],i=t[1],a=(0,r.useRef)(),o=(0,r.useRef)(),s=(0,r.useRef)(),u=(0,r.useRef)(),l=(0,r.useRef)(),d=(0,r.useRef)(),h=(0,r.useRef)(),f=(0,r.useRef)(),p=(0,r.useRef)(),v=c((0,r.useState)([]),2),m=v[0],y=v[1],g=c((0,r.useState)([]),2),_=g[0],k=g[1],b=c((0,r.useState)([]),2),x=b[0],S=b[1],E=(0,r.useCallback)(C(w().mark((function e(){var t,n,r,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"ingredients.json",e.prev=1,e.next=4,fetch("https://react-http-530b7-default-rtdb.europe-west1.firebasedatabase.app/ingredients.json");case 4:if((t=e.sent).ok){e.next=7;break}throw new Error("Could not fetch data!");case 7:return e.next=9,t.json();case 9:for(a in n=e.sent,r=[],n)r.push(n[a].value);r.sort(),y(r),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),i(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])}))),[]);(0,r.useEffect)((function(){E("ingredients"),E("categories")}),[E]);var I=function(e,t){i(null),"INCLUDE"===t&&(_.includes(e)||x.includes(e)?i("Can not add duplicate ingredients."):k((function(t){return[].concat(R(t),[e])}))),"EXCLUDE"===t&&(_.includes(e)||x.includes(e)?i("Can not add duplicate ingredients."):S((function(t){return[].concat(R(t),[e])})))},T=function(e,t){if("INCLUDE"===t){var n=_.indexOf(e);k((function(e){return e.filter((function(e,t){return t!==n}))}))}if("EXCLUDE"===t){var r=x.indexOf(e);S((function(e){return e.filter((function(e,t){return t!==r}))}))}},P=function(){return i(""),!(+s.current.value>=+u.current.value)||(i("Minimum calories can not be larger than maximum calories."),!1)};return(0,Kg.jsxs)("div",{className:hk,children:[(0,Kg.jsx)("h3",{children:"Filter"}),(0,Kg.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),P()){var n={includedIngredients:_,excludedIngredients:x,caloriesMin:s.current.value,caloriesMax:u.current.value,isVegetarian:l.current.checked,isVegan:d.current.checked,isKosher:h.current.checked,isLactoseFree:f.current.checked,isGlutenFree:p.current.checked};e.onSubmit(n)}},className:fk,children:[n&&(0,Kg.jsx)("p",{className:dk,children:n}),(0,Kg.jsxs)("div",{className:pk,children:[(0,Kg.jsx)("button",{type:"button",onClick:function(){S([]),k([]),s.current.value=0,u.current.value=1e4,l.current.checked=!1,d.current.checked=!1,h.current.checked=!1,f.current.checked=!1,p.current.checked=!1},className:mk,children:"Reset filter"}),(0,Kg.jsx)("button",{type:"button",onClick:function(){return e.onClose(!1)},className:yk,children:"Close filter"})]}),(0,Kg.jsxs)("div",{className:gk,children:[(0,Kg.jsx)("label",{htmlFor:"included-ingredients",children:"Include ingredients:"}),(0,Kg.jsxs)("div",{children:[(0,Kg.jsx)("select",{id:"included-ingredients",ref:a,children:m.map((function(e,t){return(0,Kg.jsx)("option",{children:e},t)}))}),(0,Kg.jsx)("button",{type:"button",onClick:function(){I(a.current.value,"INCLUDE")},children:"Add"})]}),0!==_.length&&(0,Kg.jsx)(t_,{ingredients:_,onDelete:T,type:"INCLUDE"})]}),(0,Kg.jsxs)("div",{className:gk,children:[(0,Kg.jsx)("label",{htmlFor:"excluded-ingredients",children:"Exclude ingredients:"}),(0,Kg.jsxs)("div",{children:[(0,Kg.jsx)("select",{id:"excluded-ingredients",ref:o,children:m.map((function(e,t){return(0,Kg.jsx)("option",{children:e},t)}))}),(0,Kg.jsx)("button",{type:"button",onClick:function(){I(o.current.value,"EXCLUDE")},children:"Add"})]}),0!==x.length&&(0,Kg.jsx)(t_,{ingredients:x,onDelete:T,type:"EXCLUDE"})]}),(0,Kg.jsxs)("div",{className:_k,children:[(0,Kg.jsxs)("div",{children:[(0,Kg.jsx)("label",{htmlFor:"calories",children:"Calories min:"}),(0,Kg.jsx)("input",{ref:s,type:"number",id:"calories",min:0,max:9999,onChange:P,defaultValue:0,required:!0})]}),(0,Kg.jsxs)("div",{children:[(0,Kg.jsx)("label",{htmlFor:"calories",children:"Calories max:"}),(0,Kg.jsx)("input",{ref:u,type:"number",id:"calories",min:1,max:1e4,onChange:P,defaultValue:1e4,required:!0})]})]}),(0,Kg.jsxs)("div",{className:kk,children:[(0,Kg.jsxs)("div",{className:bk,children:[(0,Kg.jsx)("input",{type:"checkbox",id:"vegetarian",ref:l}),(0,Kg.jsx)("label",{htmlFor:"vegetarian",children:"Vegetarian"})]}),(0,Kg.jsxs)("div",{className:bk,children:[(0,Kg.jsx)("input",{type:"checkbox",id:"vegan",ref:d}),(0,Kg.jsx)("label",{htmlFor:"vegan",children:"Vegan"})]}),(0,Kg.jsxs)("div",{className:bk,children:[(0,Kg.jsx)("input",{type:"checkbox",id:"kosher",ref:h}),(0,Kg.jsx)("label",{htmlFor:"kosher",children:"Kosher"})]}),(0,Kg.jsxs)("div",{className:bk,children:[(0,Kg.jsx)("input",{type:"checkbox",id:"lactoseFree",ref:f}),(0,Kg.jsx)("label",{htmlFor:"lactoseFree",children:"Lactose free"})]}),(0,Kg.jsxs)("div",{className:bk,children:[(0,Kg.jsx)("input",{type:"checkbox",id:"glutenFree",ref:p}),(0,Kg.jsx)("label",{htmlFor:"glutenFree",children:"Gluten free"})]})]}),(0,Kg.jsx)("div",{className:pk,children:(0,Kg.jsx)("button",{type:"submit",className:vk,children:"Apply"})})]})]})},xk="ShopPage_error__I4stW",Ck="ShopPage_container__cFLVm",Sk="ShopPage_btn-filter__f3+ZJ",Ek="ShopPage_sort-selection__HExmq",Ik="ShopPage_notification__VYhAO",Tk=function(){var e=c((0,r.useState)(null),2),t=e[0],n=e[1],i=c((0,r.useState)([]),2),a=i[0],o=i[1],s=c((0,r.useState)({includedIngredients:[],excludedIngredients:[],caloriesMin:0,caloriesMax:1e4,isVegetarian:!1,isVegan:!1,isKosher:!1,isLactoseFree:!1,isGlutenFree:!1}),2),u=s[0],l=s[1],d=c((0,r.useState)(!1),2),h=d[0],f=d[1],p=(0,r.useRef)(),v=(0,r.useCallback)((function(e,t){var n=[];return e.forEach((function(e){var r;r=e.ingredients,t.includedIngredients.every((function(e){return r.includes(e)}))&&function(e,t){return t.every((function(t){return!e.includes(t)}))}(e.ingredients,t.excludedIngredients)&&function(e,t,n){return+e.calories>=+t&&+e.calories<=n}(e,t.caloriesMin,t.caloriesMax)&&function(e,t){var n=[];return t.isVegetarian&&(t.isVegetarian&&e.isVegetarian?n.push(!0):n.push(!1)),t.isVegan&&(t.isVegan&&e.isVegan?n.push(!0):n.push(!1)),t.isKosher&&(t.isKosher&&e.isKosher?n.push(!0):n.push(!1)),t.isLactoseFree&&(t.isLactoseFree&&e.isLactoseFree?n.push(!0):n.push(!1)),t.isGlutenFree&&(t.isGlutenFree&&e.isGlutenFree?n.push(!0):n.push(!1)),n.length<=0||n.every((function(e){return!0===e}))}(e,t)&&n.push(e)})),n}),[]),m=(0,r.useCallback)((function(e,t){o(function(e){var t=R(e);switch(p.current.value){case"Name[A-Z]":t.sort(D_);break;case"Name[Z-A]":t.sort(L_);break;case"Price[LOW-HIGH]":t.sort(M_);break;case"Price[HIGH-LOW]":t.sort(j_);break;case"Calories[LOW-HIGH]":t.sort(F_);break;case"Calories[HIGH-LOW]":t.sort(U_);break;case"Popularity[LOW-HIGH]":t.sort(z_);break;case"Popularity[HIGH-LOW]":t.sort(q_)}return t}(v(e,t)))}),[v]),y=(0,r.useCallback)(C(w().mark((function e(){var t,r,i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://react-http-530b7-default-rtdb.europe-west1.firebasedatabase.app/meals.json");case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Could not fetch data!");case 6:return e.next=8,t.json();case 8:for(a in r=e.sent,i=[],r)i.push({id:a,name:r[a].name,category:r[a].category,ingredients:r[a].ingredients,price:r[a].price,calories:r[a].calories,isAvailable:r[a].isAvailable,isGlutenFree:r[a].isGlutenFree,isKosher:r[a].isKosher,isLactoseFree:r[a].isLactoseFree,isVegan:r[a].isVegan,isVegetarian:r[a].isVegetarian,numOfLikes:r[a].numOfLikes,numOfOrders:r[a].numOfOrders});m(i,u),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),n(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[m,u]);return(0,r.useEffect)((function(){y()}),[y]),(0,Kg.jsxs)("div",{className:Ck,children:[(0,Kg.jsx)("h2",{children:"MENU"}),t&&(0,Kg.jsx)("p",{className:xk,children:t}),!h&&(0,Kg.jsx)("button",{onClick:function(){return f(!0)},className:Sk,children:"Show filter"}),h&&(0,Kg.jsx)(wk,{onSubmit:l,onClose:f}),(0,Kg.jsxs)("div",{className:Ek,children:[(0,Kg.jsx)("span",{children:(0,Kg.jsx)("strong",{children:"Sort by: "})}),(0,Kg.jsx)("select",{ref:p,onChange:y,children:["Name[A-Z]","Name[Z-A]","Price[LOW-HIGH]","Price[HIGH-LOW]","Calories[LOW-HIGH]","Calories[HIGH-LOW]","Popularity[LOW-HIGH]","Popularity[HIGH-LOW]"].map((function(e,t){return(0,Kg.jsx)("option",{children:e},t)}))})]}),a.length>0?(0,Kg.jsx)(R_,{isAdmin:!1,items:a,updateItems:y}):(0,Kg.jsx)("p",{className:Ik,children:"No meals found"})]})},Pk="CartPage_error__0gXA4",Nk="CartPage_container__dOsDg",Rk="CartPage_actions__19gMD",Ok="CartPage_btn-reset__QwOCp",Ak="CartPage_apply__9Un7H",Dk="CartPage_btn-apply__Ih5bk",Lk="CartPage_price__DaEa5",Mk="CartPage_items__UbSVL",jk="CartPage_item__e8-FA",Fk="CartPage_info__TW3Mc",Uk="CartPage_cart-controls__Mt2dq",zk=function(){var e=(0,r.useContext)(f_),t=e.cartItems,n=e.addToCart,i=e.removeFromCart,a=e.clearCart,o=e.getCartTotal,s=c((0,r.useState)(null),2),u=s[0],l=s[1],d=St(),h=function(){var e=C(w().mark((function e(t,n){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(null),r="https://react-http-530b7-default-rtdb.europe-west1.firebasedatabase.app/meals/"+t.id+".json",e.prev=2,e.next=5,fetch(r,{method:"PATCH",body:JSON.stringify(vr(vr({},t),{},{numOfOrders:t.numOfOrders+n})),headers:{"Content-type":"application/json"}});case 5:if(e.sent.ok){e.next=8;break}throw new Error("Could not save data!");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),l(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,Kg.jsxs)("div",{className:Nk,children:[(0,Kg.jsx)("h2",{children:"Cart"}),u&&(0,Kg.jsx)("p",{className:Pk,children:u}),(0,Kg.jsxs)("div",{className:Rk,children:[(0,Kg.jsx)(tn,{to:"..",children:"Back"}),(0,Kg.jsx)("button",{onClick:a,className:Ok,children:"Clear cart"})]}),(0,Kg.jsx)("div",{className:Mk,children:t.length>0?t.map((function(e,r){return(0,Kg.jsxs)("div",{className:jk,children:[(0,Kg.jsxs)("div",{className:Fk,children:[(0,Kg.jsx)("h3",{children:e.name}),(0,Kg.jsxs)("p",{children:["($",e.price,")"]})]}),(0,Kg.jsxs)("div",{className:Uk,children:[(0,Kg.jsx)("button",{onClick:function(){i(e)},children:"-"}),(0,Kg.jsx)("span",{children:t.find((function(t){return t.id===e.id})).quantity}),(0,Kg.jsx)("button",{onClick:function(){n(e)},children:"+"})]})]},r)})):(0,Kg.jsx)("h3",{className:jk,children:"Cart is empty"})}),(0,Kg.jsxs)("div",{className:Lk,children:[(0,Kg.jsx)("strong",{children:"Total: "}),"$",o()]}),(0,Kg.jsx)("div",{className:Ak,children:(0,Kg.jsx)("button",{onClick:function(){(l(null),t.length<=0)?l("Please add items to cart"):window.confirm("Are you sure you want to order?")&&(t.forEach((function(e){var t=vr({},e);delete t.quantity,console.log(e),h(t,e.quantity)})),a(),d("/shop"))},className:Dk,children:"Order"})})]})},qk="ShopNav_header__pHbn6",Wk="ShopNav_info__e-3-r",Vk=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1],i=(0,r.useContext)(Gg),a=i.currentUser,o=i.logout,s=i.setUserData,u=St(),l=function(){var e=C(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(""),e.prev=1,e.next=4,o();case 4:s(null),u("/login"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n("Failed to log out");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),d=(0,r.useContext)(f_).cartItems;return(0,Kg.jsxs)("header",{className:qk,children:[(0,Kg.jsx)("h1",{children:"Restaurant"}),(0,Kg.jsxs)("div",{className:Wk,children:[(0,Kg.jsxs)(tn,{to:"cart",children:["Cart: (",d.length,")"]}),a&&(0,Kg.jsxs)(Kg.Fragment,{children:[(0,Kg.jsxs)("p",{children:[(0,Kg.jsx)("strong",{children:"Email: "}),a.email]}),(0,Kg.jsx)("button",{onClick:l,children:"Log out"})]}),t&&(0,Kg.jsx)("p",{children:t})]})]})},Hk=function(){return(0,Kg.jsxs)(Kg.Fragment,{children:[(0,Kg.jsx)(Vk,{}),(0,Kg.jsx)(Vt,{})]})},Bk="AuthenticationForm_form__NXH1q",Kk="AuthenticationForm_error__bfgD3",Gk="AuthenticationForm_actions__gJ4C0",Qk=function(e){var t=(0,r.useRef)(),n=(0,r.useRef)(),i=c((0,r.useState)(""),2),a=i[0],o=i[1],s=c((0,r.useState)(!1),2),u=s[0],l=s[1],d=St(),h=(0,r.useContext)(Gg),f=h.signup,p=h.login,v=h.userData,m=function(){var r=C(w().mark((function r(i){return w().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i.preventDefault(),!e.isLogin){r.next=15;break}return r.prev=2,o(""),l(!0),r.next=7,p(t.current.value,n.current.value);case 7:v.isAdmin?d("/admin"):d("/shop"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),o(r.t0.message);case 13:r.next=26;break;case 15:return r.prev=15,o(""),l(!0),r.next=20,f(t.current.value,n.current.value);case 20:d("/shop"),r.next=26;break;case 23:r.prev=23,r.t1=r.catch(15),o(r.t1.message);case 26:l(!1);case 27:case"end":return r.stop()}}),r,null,[[2,10],[15,23]])})));return function(e){return r.apply(this,arguments)}}();return(0,Kg.jsxs)("form",{onSubmit:m,className:Bk,children:[(0,Kg.jsx)("h1",{children:e.isLogin?"Login":"Register"}),a&&(0,Kg.jsx)("p",{className:Kk,children:a}),(0,Kg.jsxs)("p",{children:[(0,Kg.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Kg.jsx)("input",{ref:t,id:"email",type:"email",name:"email",maxLength:64,required:!0})]}),(0,Kg.jsxs)("p",{children:[(0,Kg.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Kg.jsx)("input",{ref:n,id:"password",type:"password",name:"password",maxLength:32,required:!0})]}),(0,Kg.jsxs)("div",{className:Gk,children:[e.isLogin?(0,Kg.jsx)(tn,{to:"/signup",children:"Create new user"}):(0,Kg.jsx)(tn,{to:"/login",children:"Log in as existing user"}),(0,Kg.jsx)("button",{disabled:u,type:"submit",children:e.isLogin?"Log In":"Sign Up"})]})]})},$k=function(){return(0,Kg.jsx)(Qk,{isLogin:!1})},Yk=function(){return(0,Kg.jsx)(Qk,{isLogin:!0})},Jk=function(){var e=(0,r.useContext)(Gg),t=e.userData,n=e.userDataLoading,i=c((0,r.useState)(!0),2),a=i[0],o=i[1],s=St();return(0,r.useEffect)((function(){console.log("main page:"),console.log(t),n||(t?t.isAdmin?(console.log("TO ADMIN"),o(!1),s("/admin")):(console.log("TO SHOP"),o(!1),s("/shop")):(console.log("TO LOGIN"),o(!1),s("/login")))}),[s,t,n]),(0,Kg.jsx)(Kg.Fragment,{children:a?(0,Kg.jsx)("p",{children:"Loading..."}):(0,Kg.jsx)(Vt,{})})},Xk=function(e,t){return Ee({basename:null==t?void 0:t.basename,future:Gt({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),q((function(e,t){var n=e.location;return F("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:U(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||Jt(),routes:e,mapRouteProperties:Kt}).initialize();var n}([{path:"/",element:(0,Kg.jsx)(Jk,{}),children:[{path:"admin",element:(0,Kg.jsx)(Yg,{}),children:[{path:"meals",element:(0,Kg.jsx)(B_,{})},{path:"categories",element:(0,Kg.jsx)(ck,{})},{path:"ingredients",element:(0,Kg.jsx)(ok,{})}]},{path:"shop",element:(0,Kg.jsx)(Hk,{}),children:[{index:!0,element:(0,Kg.jsx)(Tk,{})},{path:"cart",element:(0,Kg.jsx)(zk,{})}]},{path:"signup",element:(0,Kg.jsx)($k,{})},{path:"login",element:(0,Kg.jsx)(Yk,{})}]}]);var Zk=function(){return(0,Kg.jsx)(Qg,{children:(0,Kg.jsx)(p_,{children:(0,Kg.jsx)(qt,{router:Xk})})})};a.createRoot(document.getElementById("root")).render((0,Kg.jsx)(r.StrictMode,{children:(0,Kg.jsx)(Zk,{})}))}()}();
//# sourceMappingURL=main.3fbc12bd.js.map